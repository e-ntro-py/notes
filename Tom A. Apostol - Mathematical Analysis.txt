solutions manual (partial, sometimes inaccurate or informal):
https://www.csie.ntu.edu.tw/~b89089/solution.html

1.1
the set of positive integers Sn = {i: 1 <= i <= n} has size n:
    S1 = {i: 1 <= i <= 1} = {1}, |S1| = 1
    Si+1 = {i: 1 <= i <= n + 1}
    since x ∈ Si => x ∈ Si+1, n + 1 ∈ Si+1 - Si, |Si+1| >= n + 1
    if x ∈ Si+1, either x ∈ Si or x ∈ Si+1 - Si, |Si+1| <= |Si| + |Si+1 - Si| = n + 1
if p is the greatest prime, the set of primes P is bounded from above by p
P ⊆ Sp, there are finite number of prime numbers 
let n = Π{pi ∈ P}pi + 1, for all primes pi, n mod pi = 1, ~(pi | n)
n must have a prime factor ∉ P, as P is the set of all primes <= p, there must be a prime > p

1.2
when n = 1:
    (a - b)Σ{0 <= k <= n - 1}a^kb^(n - 1 - k) = (a - b)(a^0b^0) = a - b
when n = i + 1:
    (a - b)Σ{0 <= k <= i}a^kb^(i - k)
    = (a - b)(bΣ{0 <= k <= i - 1}a^kb^(i - 1 - k) + a^(i + 1))
    = b(a^i - b^i) + (a - b)a^i
    = a^(i + 1) - b^(i + 1)

1.3
if p|n for some p != n or 1, n = pq, 1 < p, q < n, by problem 1.2, 
    2^pq - 1 = (2^p - 1)Σ2^pk
(2^p - 1)|(2^pq - 1) where 1 < 2^p - 1 < 2^pq - 1, 2^pq - 1 is composite

1.4
if n is not a power of 2, n >= 3, there must be some p|n where p > 2 is odd, let n = pq,
2^n + 1 = 2^pq + 1
        = 2^pq - (-1)^p
        = (2^q + 1)Σ2^pk
so (2^q + 1)|(2^n + 1), 2 <= 2^q + 1 < 2^n + 1, 2^n + 1 is composite

1.5
let a < b, gcd(a, b) = gcd(a, b - a):
    if d|a and d|b, d|(b - a)
    conversely if d|a and d|(b - a), d|(a + (b - a)) => d|b
gcd(x1, x2) = 1
gcd(xn, xn+1)   = gcd(xn, xn+1 - xn)
                = gcd(xn-1, xn)
                = 1 // induction
let Sn = (a^n - b^n)/(a - b)
S1 = 1, S2 = (a^2 - b^2)/(a - b) = a + b = 1
Sn + Sn+1   = (a^n + a^(n + 1) - b^n - b^(n + 1))/(a - b)
            = (a^n(a + 1) - b^n(b + 1))/(a - b)
            = (a^na^2 - b^nb^2)/(a - b) // roots of x^2 - x - 1 = 0, x + 1 = x^2
            = Sn+2

1.6
if S is nonempty, there must be some n ∈ S that n > 0 
if n = 1, 1 is the smallest integer and the smallest member of S
assume for all n <= k, if n ∈ S then S has a smallest member, let n = k + 1, 
    if there exists m that m ∈ S and m < k + 1, by induction S has a smallest member 
    otherwise for all m ∈ S, m >= k + 1, k + 1 is the smallest member of S

1.7
a   = 3/10 + 3/100 + lim{n -> ∞, Σ4/10^(i + 3)}
    = 3/10 + 3/100 + 4/1000 * lim{n -> ∞, Σ(1/10)^i}
    = 3/10 + 3/100 + 4/1000 * 1/(1 - 1/10)
    = 3/10 + 3/100 + 4/1000 * 10/9
    = 33/100 + 4/900

1.8
for some integer n, 
r   = A + Σ{1 <= i <= n}ai/10^i, A is an integer
    = A + Σ{1 <= i <= n}(10^(n - i)ai)/10^n
    = Σ{0 <= i <= n}(10^(n - i)ai)/10^n // let A = a0
    = B/10^n // let B = Σ10^(n - i)ai
hence the denominator of r is 10^n / gcd(B, 10^n)
as 10^n = 2^n5^n, gcd(B, 10^n) = 2^k5^t, , 0 <= k, t <= n, 
10^n / gcd(B, 10^n) = 2^(n - k)5^(n - t) = 2^p5^q

1.9
if k^2 is irrational, k must be irrational:
    otherwise k = A/B, k^2 = A^2 / B^2
if k is irrational, r is rational, rk must be irrational:
    assume rk = A/B, r = C/D
    k = AD/BC is rational, contradiction
if k is irrational, r is rational, r + k must be irrational:
    assume r + k = A/B, r = C/D
    k = A/B - C/D = (AD - BC)/BD is rational, contradiction
(sqrt(2) + sqrt(3))^2   = 5 + 2sqrt(6)
sqrt(6) is irrational   => 2sqrt(6) is irrational
                        => 5 + 2sqrt(6) is irrational
                        => sqrt(2) + sqrt(3) is irrational
    
1.10
by problem 1.9, both ax + b and cx + d are irrational, hence (ax + b)/(cx + d) is rational iff ax + b = r(cx + d) for
some rational number r, or
    ax + b = rcx + rd
again b and rd must be rational, a = rc and b = rd for some r

1.11
by problem 1.9, 0 < sqrt(2)/2 < 1 is irrational, 0 < sqrt(2)/2 * x < x is irrational 

1.12
<:
    a/b < c/d
    ad < bc
    ab + ad < ab + bc
    a(b + d) < b(a + c)
    a/b < (a + c)/(b + d) // b > 0, b + d > 0
>:
    ad + cd < bc + cd
    d(a + c) < c(b + d)
    (a + c)/(b + d) < c/d // b > 0, b + d > 0

1.13
when a/b <= √2, 
    a <= √2b
    (a + 2b)/(a + b)    = b/(a + b) + 1
                        >= b/(√2b + b) + 1
                        = 1/(1 + √2) + 1
                        = (2 + √2)/(1 + √2)
                        = √2
when a/b >= √2
    a >= √2b
    (a + 2b)/(a + b)    <= b/(√2b + b) = 1
                        = √2

1.14
(√(n - 1) + √(n + 1))^2 = 2n + 2√(n^2 - 1)
assume p^2 = n^2 - 1 = (n - 1)(n + 1)
if p <= n - 1, p^2 = (n - 1)^2 < (n - 1)(n + 1)
if p >= n + 1, p^2 = (n + 1)^2 > (n - 1)(n + 1)
if p = n, p^2 != n^2 - 1
therefore n^2 - 1 is not a perfect square, √(n^2 - 1) is irrational
by problem  1.9, √(n - 1) + √(n + 1) is irrational 

1.15
a finite set of N real numbers {Ri} can be ordered in a way such that R(0) <= R(1) <= .. <= R(N):
    (see any proof of correctness of sorting algorithms)
let Rt = tx - [tx], 0 <= Rt < 1
for N = 1, Rt = tx - [tx] = hx - k < 1/N = 1 for all t
for N >= 2,
    let (R(i)) be an ordered permutation of (Rt), R(i+1) - R(i) >= 0 for all i
    1   > R(N) - R(0)
        = Σ(R(i+1) - R(i))
        = Σ|R(i+1) - R(i)|
    assume |R(i+1) - R(i)| >= 1/N for all i,
    Σ|R(i+1) - R(i)| >= N/N = 1, contradiction
    so there must be some i that |R(i + 1) - R(i)| < 1/N
    |t1x - [t1x] - t2x + [t2x]| < 1/N, let k = t1 - t2, h = [t1x] - [t2x],
    by definition of R(i), 0 <= t2 < t1 <= N, 0 < t1 - t2 <= N

1.16
any finite set of real numbers has a minimum member (simple induction on size)
assume R = {h/k: |x - h/k| < 1/k^2} is finite, let hr/kr ∈ R be the rational number that minimizes |x - h/k|
let δ = |x - hr/kr|, take some N > 1/δ, by problem 1.15, there must be some integers (k', h'), 0 < k <= N that
    |k'x - h'| < 1/N < δ
    |x - h'/k'| < 1/Nk <= 1/k^2
therefore h'/k' ∈ R but |x - h'/k'| < 1/Nk < δ/k <= δ, contradict the definition of δ, R cannot be finite

1.17
1.  0 <= Σ{2 <= k <= n}ak/k! <= 1 - 1/k! < 1:
        a2/2! <= 1/2
        Σ{2 <= k <= i + 1}ak/k! = Σ{2 <= k <= i}ak/k! + ai+1 / (i + 1)!
                                <= 1 - 1/i! + i/(i + 1)!
                                = 1 - ((i + 1)/(i + 1)! - i/(i + 1)!)
                                = 1 - 1/(i + 1)!
    x = a1 + r, 0 <= r < 1, [x] = a1
2.  let S(i, j) = Σ{i <= k <= j}ak/k!, it has:
        S(k+1, k+1)k!   = k!/(k + 1)! * ak+1
                        <= 1/(k + 1) * k
                        = k/(k + 1)
                        = 1 - 1/(k + 1) < 1
        S(k+1, k+t+1)k! = S(k+1, t)k! + k!/(k + t + 1)! * ak+t+1
                        <= 1 - k!/(k + t)! + k!/(k + t + 1)! * (k + t)
                        = 1 - (k!(k + t + 1) - k!(k + t))/(k + t + 1)!
                        = 1 - k!/(k + t + 1)! < 1
    k!x = S(1, k)k! + S(k+1, n)k!, where S(1, k)k! is an integer, S(k+1, n)k! < 1 as proved above, [k!x] = S(1, k)k!
    similarly k[(k - 1)!x] = S(1, k-1)(k - 1)!k = S(1, k-1)k!
    [k!x] - k[(k - 1)!x]    = S(1, k)k! - S(1, k-1)k!
                            = ak
3.  since an > 0, 0 < k!x - [k!x] = S(k+1, n)k! < 1, k!x != [k!x] for all k < n
    and n!x is an integer by definition, [n!x] = n!x
4.  let x = h/r, as r|r!, {n: r|n!} is nonempty, let n be the smallest element of {n: r|n!}
    for all k > n, k!x is an integer, ak = [k!x] - k[(k - 1)!x] = 0
    all previous ak for k < n can be computed uniquely by the formula in part 3

1.18
let x and y be two supremum of S, if x != y, by axiom 6 either x > y or x < y
if x > y, y is not a least upper bound of S, y != sup S
if x < y, symmetric
therefore x = y, there's only one (if any) supremum of S
let -S = {-n: n ∈ S}, x = inf(S) = -sup(-S):
    for all n ∈ S, x <= n => -x >= -n, -x is an upper bound of -S
    for any other y, 
        (∀n∈S y <= n) => y <= x
        (∀n∈S -y >= -n) => -y >= -x
        (∀n∈-S -y >= n) => -y >= -x
    -x is the least upper bound 
since supremum is unique, infimum is also unique 

1.19
a.  sup(S) = 1/2 + 1/3 + 1/5
    inf(S) = 0:
        2^-p, 3^-q, 5^-r > 0, 0 is a lower bound
        for any 3 > ε > 0, let p = -[log(2, ε/3)] + 1, q = -[log(3, ε/3)] + 1, r = -[log(5, ε/3)] + 1
        2^-p + 3^-q + 5^-r < ε, ε is not a lower bound
b.  S = {x: 1/3 < x < 3}
    inf(S) = 1/3, sup(S) = 3
c.  S = {a < x < b or c < x < d}
    inf(S) = a, sup(S) = d

1.20
as T is nonempty, by the definition of sup(T),
    ∃t∈T sup(T) >= t => ∀s∈S sup(T) >= s
sup(T) is an upper bound of S, by completeness axiom sup(S) exist
since sup(T) is an upper bound of S, by definition of supremum sup(S) <= sup(T)

1.21
a, b > 0:
    A is a nonempty set of positive number
    if a <= 0, for all r ∈ A, r > 0 >= a, a must be positive
    similarly b > 0
if sup(A) = a for a set of positive numbers A, sup{kr: r ∈ A} = ka for all k > 0:
    ∀r∈A a >= r => ∀r∈A ka >= kr
    if ∀r∈A s >= kr, ∀r∈A s/k >= r, s/k is an upper bound if A, s/k >= a, s >= ka
if both A and B are bounded from above, A ⊆ B, then sup(A) <= sup(B):
    ∀b∈B sup(B) >= b => ∀a∈A sup(B) >= a, sup(B) is an upper bound of A
for all ab where a ∈ A, b ∈ B,
    ab <= sup(A)b <= sup(A)sup(B)
hence ab is an upper bound of C
C is a set of product numbers (ab > 0 for all a > 0 and b > 0)
let c be an upper bound of C, c must be positive, assume c < ab, c/b < a
    for all r ∈ c, c >= r = ra * rb
    if there exist some ra that ra > c/b, ra * b > c
    but ra * b = sup{ra * rb: rb ∈ B}, and {ra * rb: rb ∈ B} is a subset of C, it must have ra * b <= sup(C) <= c
    hence for all ra ∈ A, ra <= c/b, c/b is an upper bound of A
    but then c/b >= sup(A) = a, contradiction
therefore for all upper bound c of C, c >= ab, ab = sup(C)

1.22
denote Σ{0 <= i <= n}ai/k^i by S(n)
a.  given S(n - 1) <= x, let an = 0, S(n) = S(n - 1) + 0 <= x, an >= 0
    x - S(n) < 1/k^n:
        if x - S(n) > 1/k^n, let an' = an + 1, x - S(n - 1) - an'/k^n <= x
        in conflict with the definition of an as the largest integer that x - S(n - 1) - an/k^n <= x
    so x - S(n - 1) < 1/k^(n - 1), if an >= k, x - S(n) < 1/k^(n - 1) - k/k^n = 0, S(n) > x
b.  if u is an upper bound of S, for all ε > 0 there exists s ∈ S that s + ε > u, then u = sup(S):
        let u' be another upper bound of S, if u' < u, let ε = u - u' > 0
        but then there exists s + ε > u = u' + ε, s > u', u' is not an upper bound
        hence u is the least upper bound of S, u = sup(S)
    by definition of S(n), x is an upper bound of {S(n)}
    for any ε >= 1, a0 + ε > x
    for any 1 > ε > 0, let n >= log(k, 1/ε), ε >= 1/k^n, S(n) + ε >= S(n) + 1/k^n > x
    therefore x = sup{S(n)}

1.23
(Σakbk)^2   = Σ(akbk)^2 + Σ{1 <= k < j <= n}2akbkajbj
            = Σ(akbk)^2 + Σ{1 <= k < j <= n}((akbj)^2 + (ajbk)^2 - (akbj - ajbk)^2)
            = Σ(akbk)^2 + Σ{1 <= k < j <= n}2(akbj)^2 - Σ{1 <= k < j <= n}(akbj - ajbk)^2
            = (Σak)^2(Σbk)^2 - Σ{1 <= k < j <= n}(akbj - ajbk)^2

1.24
(Σakbkck)^4 <= (Σ(akck)^2Σbk^2)^2 // Cauchy-Schwarz
            = (Σ(akck)^2)^2(Σbk^2)^2
            <= Σak^4Σck^4(Σbk^2)^2 // Cauchy-Schwarz again
        
1.25
(√a + √b)^2 = a + b + 2√(ab) >= a + b, so √a + √b >= √(a + b)
Σ(ak + bk)^2    = Σak^2 + Σbk^2 + 2Σakbk
                = ||a||^2 + ||b||^2 + 2Σakbk
if Σakbk < 0,
√Σ(ak + bk)^2   <= √(||a||^2 + ||b||^2)
                <= ||a|| + ||b||
if Σakbk >= 0,
√Σ(ak + bk)^2   <= √(||a||^2 + ||b||^2 + 2Σakbk)
                = √(||a||^2 + ||b||^2 + 2√(Σakbk)^2)
                <= √(||a||^2 + ||b||^2 + 2√(Σak^2Σbk^2))
                <= √(||a||^2 + ||b||^2 + 2√(||a||||b||))
                = √(||a|| + ||b||)^2
                = ||a|| + ||b||

1.26
0   <= Σ{1 <= j <= k <= n}(ak - aj)(bk - bj) 
    = Σ{1 <= j <= n}Σ{j <= k <= n}(akbk - akbj - ajbk + ajbj)
for each 1 <= t <= n,
    for each j <= t, akbk = atbt is counted once
    only when j = t, ajbj = atbt is counted n - j + 1 times
so Σ{1 <= j <= n}Σ{j <= k <= n}(akbk + ajbj) = (n + 1)Σakbk
Σ{1 <= j <= n}Σ{j <= k <= n}(akbj + ajbk)   = Σ{1 <= j, k <= n}ajbk + Σakbk
                                            = (Σaj)(Σbk) + Σakbk
(n + 1)Σakbk - (Σaj)(Σbk) - Σakbk >= 0
(Σaj)(Σbk) <= nΣakbk

1.27
a.  (1 + i)^3   = 1^3 + 3 * 1^2 * i + 3 * 1 * i^2 + i^3
                = 1 + 3i - 3 - i
                = 2i - 2
b.  1/(3 - 4i)  = 3/25 + 4i/25
    (2 + 3i)/(3 - 4i)   = (2 + 3i)(3/25 + 4i/25)
                        = -6/25 + 17i/25
c.  i^4 = 1, i^n = i^(n + 4)
    i^5 + i^16  = i^1 + i^0
                = i + 1
d.  i^-8 = (1/i)^8 = (-i)^8 = 1
    (1 + i)(1 + i^-8)/2 = (1 + i)(1 + 1)/2
                        = 1 + i

1.28
a.  x + iy = |x - iy| = √(x^2 + y^2), as the right side is a real number, it must have y = 0
    x = √(x^2) = |x| is true for all x >= 0, S = {(x, 0): x >= 0}
b.  x + iy  = (x - iy)^2
            = x^2 + y^2 - i2xy
    y = -2xy, x = x^2 + y^2
    if y = 0, x = x^2, x = 0 or x = 1
    if y != 0, 1 = -2x, x = -1/2, -1/2 - 1/4 = y^2 has no real number solution
    S = {(0, 0), (0, 1)}
c.  easy to proof Σ{0 <= k <= 4n - 1}i^k = 0
    Σ{0 <= k <= 100}i^k = i^100 = 1 = x + iy, S = {(1, 0)}

1.29
a.  ~(z1 + z2)  = ~(x1 + iy1 + x2 + iy2)
                = x1 + x2 - i(y1 + y2)
                = x1 - iy1 + x2 - iy2
                = ~z1 + ~z2
b.  ~(z1z2) = ~((x1 + iy1)(x2 + iy2))
            = ~(x1x2 - y1y2 + i(x1y2 + x2y1))
            = x1x2 - y1y2 - i(x1y2 + x2y1)
            = (x1 - iy1)(x2 - iy2)
            = ~z1~z2
c.  z~z = (x + iy)(x - iy)
        = x^2 - (iy)^2
        = x^2 + y^2
        = |z|^2
d.  z + ~z  = x + iy + x - iy
            = 2x
e.  (z - ~z)/i  = (x + iy - x + iy)/i
                = i2y/i
                = 2y

1.30
a.  points on the boundary the circle with center (0, 0) and radius 1
b.  points inside the the circle with center (0, 0) and radius 1
c.  union of a and b
d.  z + ~z = 2x = 1, x = 1/2, a vertical line passing point (1/2, 0)
e.  z - ~z = i2y = i, y = 1/2, a horizontal line passing point (0, 1/2)
f.  the two intersection points of part a and d

1.31
as |zi| = 1, zi = e^iθi
assume 0 <= θi <= 2π
z1 + z2 + z3 = 0    => e^iθ1 + e^iθ2 + e^iθ3 = 0, divide both side by e^iθ3, 
                    => e^i(θ1 - θ3) + e^i(θ2 - θ3) + 1 = 0 
                    => e^iδ1 + e^iδ2 + 1 = 0, by definiing δ1 = θ1 - θ3, δ2 = θ1 - θ3, let δ1 <= δ2
                    => cosδ1 + isinδ1 + cosδ2 + isinδ2 = -1
                    => cosδ1 + cosδ2 = -1, sinδ1 + sinδ2 = 0
                    => δ1 = -δ2 + 2kπ or δ1 = δ2 + π + 2kπ
                       if δ1 = -δ2 + 2kπ, cosδ1 + cosδ2 = 2cosδ1 = -1, δ1 = 2π/3, δ2 = 4π/3
                       if δ1 = δ2 + π, cosδ1 + cosδ2 = 0 = -1
therefore θ1 - θ3 = 2π/3, θ2 - θ3 = 4π/3, {zi} are vertices of equilateral triangle on unit circle

1.32
a.  |a - b|^2   <= (|a| + |-b|)^2
                = |a|^2 + |b|^2 + 2|a||b|
                <= |a|^2 + |b|^2 + (|a||b|)^2 + 1 // x^2 + 1 >= 2x for all x
                = (1 + |a|^2)(1 + |b|^2)
b.  |a + b| = |a| + |b|, divide both sides by |a|, 
    |1 + b/a| = 1 + |b|/|a| = 1 + |b/a|
    let b/a = x + iy,
    |1 + b/a| = 1 + |b/a|
    <=> |1 + b/a|^2 = (1 + |b/a|)^2
    <=> (1 + x)^2 + y^2 = 1 + 2√(x^2 + y^2) + x^2 + y^2
    <=> 2x = 2√(x^2 + y^2)
    <=> y = 0, x >= 0

1.33
|a - b| = |1 - ~ab| <=> |a - b|^2 = |1 - ~ab|^2
                    <=> (a - b)(~a - ~b) = (1 - ~ab)(1 - a~b)
                    <=> |a|^2 - a~b - ~ab + |b|^2 = 1 - a~b - ~ab + |ab|^2
                    <=> |a|^2 + |b|^2 = 1 + |a|^2|b|^2
                    <=> (|a|^2 - 1)(|b|^2 - 1) = 0
                    <=> |a| = 1 or |b| = 1
similarly 
|a - b| < |1 - ~ab| <=> (|a|^2 - 1)(|b|^2 - 1) > 0
                    <=> |a|, |b| < 1 or |a|, |b| > 1

1.34
|z|^2 + b/a * ~z + ~(b/a)z + c/a = 0
<=> (z + b/a)(~z + ~(b/a)) - |b/a|^2 + c/a = 0
<=> |z - (-b/a)|^2 = |b/a|^2 - c/a
is a circle if right side of the equation is non-negative, otherwise the equation has no solution

1.35
x = |z|cos(arg(z)), y = |z|sin(arg(z)), y/x = sin(arg(z)) / cos(arg(z)) = tan(arg(z)) = tan(arg(z) + kπ)
a.  x > 0, -π/2 < arg(z) < π/2, tan^-1(y/x) = arg(z)
b.  x < 0, y >= 0, π/2 < arg(z) <= π, tan^-1(y/x) = arg(z) - π
c.  x < 0, y < 0, -π < arg(z) < -π/2, tan^-1(y/x) = arg(z) + π
d.  x = cos(arg(z)) = 0, arg(z) = ±π/2
    if y = sin(arg(z)) > 0, 0 < arg(z) < π, arg(z) = π/2
    otherwise if y < 0, arg(z) = -π/2

1.36
it's a lexicographical order on (|z|, arg(z)) ⊆ RxR so axiom 6 and 9 hold
for any z1, z2 > 0, |z1|, |z2| > 0, |z1z2| = |z1||z2| > 0, axiom 8 holds
by the impossibility of ordering on complex numbers, axiom 7 must be false

1.37
again a lexicographical order on (x, y) ⊆ RxR so axiom 6 and 9 hold
if x1 < x2, for any z = (x3, y3) x1 + x3 < x2 + x3
if x1 = x2, y1 < y2, similarly y1 + y3 < y2 + y3, axiom 7 holds
by the impossibility of ordering on complex numbers, axiom 8 cannot be satisfied

1.38
if z1, z2 != 0, arg(z1/z2) = arg(z1) + arg(1/z2) + 2πn(z1, 1/z2)
where 
    z2 * 1/z2 = |z2||1/z2|e^i(arg(z2) + arg(1/z2)) = 1
    e^i(arg(z2) + arg(1/z2)) = 1
    arg(z2) + arg(1/z2) = 0
    arg(1/z2) = -arg(z2)
arg(z1/z2) = arg(z1) - arg(z2) + 2πn'(z1, z2)
where
    n(z1, z2)   = 0 if -π < arg(z1) - arg(z2) <= π
                = 1 if -2π < arg(z1) - arg(z2) <= -π
                = -1 if π < arg(z1) - arg(z2) <= 2π

1.39
if z1, z2 != 0, 
Log(z1/z2)  = log|z1/z2| + iarg(z1/z2)
            = log|z1| - log|z2| + i(arg(z1) - arg(z2) + 2πn'(z1, z2))
            = Log(z1) - Log(z2) + i2πn'(z1, z2)

1.40
by theorem 1.51, the nth roots of unity is
    zk  = e^i(arg(1)/n + 2πk/n)
        = e^i2πk/n
        = (e^i2π/n)^k, k = {0, 1, .., n - 1}
        = α^k, k = {1, .., n} // α^0 = α^n = 1
let S(i, j) = Σ{k ⊆ {i, .., j}}α^k, α != 1 for n >= 2
αS(1, n)    = S(2, n) + α^(n+1)
            = S(2, n) + e^i(2π(n + 1)/n)
            = S(2, n) + e^i(2π/n) // periodicity of e^ix = cos(x) + isin(x)
            = S(1, n)
(α - 1)S(1, n) = 0, S(1, n) = 0

1.41
a.  z^i = e^i(log|z| + iarg(z))
        = e^-arg(z)e^ilog|z|
    where |z^i| = e^-arg(z) < e^π
b.  let x = 0,
    cosz    = cosxcoshy - isinxsinhy
            = coshy
            = (e^y + e^-y)/2
    |cosz|  = (e^y + e^-y)/2 is unbounded
    for any M > 0, let y = ln(2M), |cosz| >= e^y/2 = 2M/2 = M

1.42
z^w = e^wLogz
    = e^(u + iv)(log|z| + iarg(z))
    = e^(ulog|z| + iuarg(z) + ivlog|z| - varg(z))
    = e^(ulog|z| - varg(z))e^i(uarg(z) + vlog|z|)

1.43
Log(z^w)    = Log(e^wLogz)
            = ulog|z| - varg(z) + i(uarg(z) + vlog|z|) + i2πn // problem 1.42, theorem 1.52
            = (u + iv)(log|z| + arg(z)) + i2πn
            = wLogz + i2πn

1.44
i.  (cosθ + isinθ)^a    = (e^iθ)^a
                        = e^aLog(e^iθ)
                        = e^aiθ // -π < θ <= π
                        = cos(aθ) + isin(aθ)
ii. (cosθ + isinθ)^a = √(-1) = i
    cosaθ + isinaθ = -i
iii.for a = 0, (cosθ + isinθ)^a = cosaθ + isinaθ = 1
    when a = n + 1, assume the equation holds for a = n,
    (cosθ + isinθ)^(n + 1)  = (cosnθ + isinnθ)(cosθ + isinθ)
                            = cosnθcosθ - sinnθsinθ + i(cosnθsinθ + sinnθcosθ)
                            = cos(n+1)θ + isin(n+1)θ

1.45
cos3θ + isin3θ  = (cosθ + isinθ)^3
                = cosθ^3 + 3icosθ^2sinθ - 3cosθsinθ^2 - isinθ^3
                = cosθ^3 - 3cosθsinθ^2 + i(-sinθ^3 + 3icosθ^2sinθ)
then match real and imaginary parts on both sides
when θ is complex,
3cosz^2sinz - sinz^3    = (3cosz^2 - sinz^2)sinz
                        = (3(e^iz + e^-iz)^2/4 + (e^iz - e^-iz)/4)sinz
                        = (e^i2z + e^-i2z + 1)(e^iz - e^-iz)/2i
                        = (e^i3z - e^-i3z)/2i
                        = sin3z
cosz^3 - 3coszsinz^2    = cosz(cosz^2 - 3sinz^2)
                        = (e^iz + e^-iz)(e^i2z + e^-i2z - 1)/2
                        = (e^i3z + e^-i3z)/2
                        = cos3z

1.46
// thanks solutions manual
(sin2x + isinh2y)/(cos2x + cosh2y)
= (2sinscosx + i2coshysinhy)/(2cosx^2 - 1 + 2sinhy^2 + 1)
= (2sinscosx + i2coshysinhy)/(2cosx^2 + 2sinhy^2)
= (sinxcosx + icoshysinhy)/(cosx^2(coshy^2 - sinhy^2) + sinhy^2)
= (sinxcosx + icoshysinhy)/(cosx^2coshy^2 + sinx^2sinhy^2)
= (sinxcosx(coshy^2 - sinhy^2) + i(sinx^2 + cosx^2)coshysinhy)/(cosx^2coshy^2 + sinx^2sinhy^2)
= (sinxcoshy + icosxsinhy)(cosxcoshy + isinxsinhy)/((cosxcoshy)^2 - (isinxsinhy)^2)
= (sinxcoshy + icosxsinhy)(cosxcoshy + isinxsinhy)/(cosxcoshy + isinxsinhy)(cosxcoshy - isinxsinhy)
= (sinxcoshy + icosxsinhy)/(cosxcoshy - isinxsinhy)
= sinz/cosz
= tanz

1.47
cosz    = (e^iz + e^-iz)/2
        = (e^i2z + 1)/2e^iz // e^iz != 0
        = w
let e^iz = v
(v^2 + 1)/2v = w
v^2 - 2vw + 1 + w^2 - w^2 = 0
(v - w)^2 = w^2 - 1
as w != ±1, w^2 - 1 != 0, by theorem 1.51 there are two different v that (v - w)^2 = w^2 - 1
v = w + √|w^2 - 1|e^i(arg(w^2 - 1) + kπ), k ⊆ {0, 1}
z = -iLogv = -ilog|v| + arg(v) + 2πn
by adjusting n, there's two different x = arg(v) + 2πn in the range (-π, π]
when w = i, (v - w)^2 = -2, v = i(1 ± √2), |v| = |1 ± √2|, sin(arg(v)) = (1 ± √2)/|v| = 1 or -1, arg(v) = ±π/2
z = -i|1 ± √2| ± π/2
when w = 2, (v - w)^2 = 3, v = 2 ± √3, |v| = |2 ± √3|, arg(v) = ±π/2
z = -i|2 ± √3| ± π/2

1.48
|Σakbk|^2   = (Σakbk)(Σ~(akbk))
            = Σ|akbk|^2 + Σ{j != k}ajbj~(akbk)
            = (Σ|ak|^2)(Σ|bk|^2) - Σ{j != k}|ajbk|^2 - Σ{j != k}ajbj~(akbk)
            = (Σ|ak|^2)(Σ|bk|^2) - Σ{j < k}((ajbk)~(ajbk) + akbj~(akbj) - ajbj~(akbk) - akbk~(ajbj))
            = (Σ|ak|^2)(Σ|bk|^2) - Σ{j < k}(ak~bj - aj~bk)(~akbj - ~ajbk)
            = (Σ|ak|^2)(Σ|bk|^2) - Σ{j < k}|ak~bj - aj~bk|^2
since the second sum on the right side is non-negative, |Σakbk|^2 <= Σ|ak|^2Σ|bk|^2

1.49
a.  isinnθ + cosnθ  = (isinθ + cosθ)^n
                    = ΣC(n, k)(isinθ)^k(cosθ)^(n-k)
    sinnθ   = Σ{k ∈ {k <= n is odd}}C(n, k)(-1)^((k-1)/2)sinθ^kcosθ^(n-k)
            = sinθ^nΣ{k ∈ {k <= n is odd}}C(n, k)(-1)^((k-1)/2)(cosθ/sinθ)^(n-k)
            = sinθ^nΣ{k ∈ {k <= n is odd}}C(n, k)(-1)^((k-1)/2)cotθ^(n-k)
    if cotθ is defined, θ != kπ
b.  by applying the equation in part a, sin(2m + 1)θ = sin^(2m + 1)Pm(cotθ^2)
    0 < πk/(2m + 1) < π/2
    when θ = πk/(2m + 1), sin(2m + 1)θ = sin(πk) = 0, 0 < sin(π/(2m + 1)) < sin(πm/(2m + 1)) < 1
    it must have Pm(cotθ^2) = 0, for xk = cot(πk/(2m + 1))^2 Pm(xk) = 0
    since cotθ is strictly increasing, all these xk are distinct
c.  Pm(x) = aΠ(x - xk)
    Σxk = C(2m + 1, 3)/C(2m + 1, 1)
        = 2m(2m - 1)/3!
        = m(2m - 1)/3
    Σxk^2   = (Σxk)^2 - Σ{j != k}xjxk
            = m^2(2m - 1)^2/9 - 2!C(2m + 1, 5)/C(2m + 1, 1)
            = m(2m - 1)(4m^2 + 10m - 9)/45

1.50
a1z^1 - a0 = a1(z^1 - a0/a1) trivially for a1 != 0
assume for all polynomial of order <= n, Σakz^k = anΠ(z^k - zk)
let z0 be any of them, P(z0) = 0, 
P(z)    = P(z) - P(z0)
        = Σak(z^k - z0^k)
        = Σak(z - z0)Σ{0 <= j <= k - 1}(z^jz0^k-1-j)
        = (z - z0)Q(z)
where Q(z) must have order n since P(z) = Q(z)(z - z0) has order n + 1
        = (z - z0)aΠ(z - zk)
        = aΠ(z - zk)
by theorem 1.51, z^n - 1 = 0 has n distinct roots, z^n - 1 = aΠ(z - zk)
where a must be 1, and zk must be e^i2πk/n or z^n - 1 = 0 has more or less distinct roots than derived by theorem 1.51
z^n - 1 = Π(z - e^i2πk/n)
(z - 1)Σ{z <= n - 1}z^k = Π(z - e^i2πk/n)
Σ{z <= n - 1}z^k = Π{1 <= k <= n - 1}(z - e^i2πk/n)
let z = 1,
n   = Π(1 - e^i2πk/n)
    = Π(1 - cos2πk/n - isin2πk/n)
    = Π(2sin(πk/n)^2 - i2cos(πk/n)sin(πk/n))
    = Π2sin(πk/n)(sin(πk/n) - icos(πk/n))
    = 2^(n-1)Πsin(πk/n)-i(cos(πk/n) + isin(πk/n))
    = 2^(n-1)Πsin(πk/n)(-i)e^iπk/n
    = 2^(n-1)e^iΣ(πk/n)Π(-isin(πk/n))
    = 2^(n-1)e^(i(n-1)π/2)(-i)^(n-1)Πsin(πk/n)
when n - 1 % 4 = 1, e^(i(n-1)π/2) * (-i)^(n-1) = i * -i = 1
when n - 1 % 4 = 2, e^(i(n-1)π/2) * (-i)^(n-1) = -1 * -1 = 1
when n - 1 % 4 = 3, e^(i(n-1)π/2) * (-i)^(n-1) = -i * i = 1
when n - 1 % 4 = 0, e^(i(n-1)π/2) * (-i)^(n-1) = 1 * 1 = 1, therefore
n   = 2^(n-1)Πsin(πk/n)
Πsin(πk/n) = n/2^(n-1)

2.1
A = B => |A| = |B|:
    let A ~ {1, .., n}, there's a one-to-one function F: A -> Zn+
    D(F) = A = B, F is also a one-to-one function B -> Zn+, B ~ {1, .., n}
assume a = c, b = d, {a}, {a, b} ∈ {{c}, {c, d}} and vice versa
assume {{a}, {a, b}} = {{c}, {c, d}}, 
    if a != b, {a, b} ∈ {{c}, {c, d}}, {a, b} = {c} or {a, b} = {c, d}, since |{c}| = 1 < 2 {a, b} = {c, d}, 
    a = c, b = d or a = d, b = c, c != d
    by cardinal {a} = {c}, a = c, thus b = d
    if a = b, {{a}, {a, b}} = {{a}}, |{{c}, {c, d}}| = |{{a}}| = 1, {c} = {c, d}, d = c
    {{a}} = {{c}}, {a} = {c}, a = c = b = d

2.2
a.  reflexive, transitive by order axioms, not symmetric (1 < 2, ~(1 > 2))
b.  transitive by order axioms, not reflexive, not symmetric
c.  not reflexive, not transitive (1 < |-2|, -2 < |0|, ~(1 < |0|)), not symmetric
d.  not reflexive, symmetric, not transitive (0^2 + 1^2 = 1, 1^2 + 0^2 = 1, 0^2 + 0^2 != 1)
e.  reflexive, symmetric, transitive (S = ∅)
f.  reflexive, symmetric, transitive (from the properties of equality)

2.3
a.  R(F) = D(G) = R, D(G o F) = R, (G o F)(x) = (1 - x)^2 + 2(1 - x) = (x - 1)(x - 3)
b.  R(F) = D(G) = R, D(G o F) = R, (G o F)(x) = 1 if x >= -5, -1 if x < -5
c.  R(F) = [0, 2] ⊆ R = D(G), (G o F)(x) = 4x^2 if x ∈ [0, 1/2], 0 if x ∈ (1/2, 1], 0 1 otherwise
d.  (G o F)(x) = (x - 1)^3, F(x) = x - 1
e.  (G o F)(x) = (x - 2)^2 + (x - 2) + 3, F(x) = x - 2

2.4
R(F) ⊆ D(G), R(G) ⊆ D(H), G(F(D(F))) ⊆ D(H), R(F) ⊆ D(H o G) = D(G)
if H o (G o F) is defined, G o F must be defined
if (H o G) o F is defined, H o G must be defined
// practically H o G may only be defined on R(F)
D(H o (G o F))  = D(G o F)
                = D(F)
                = D((H o G) o F)
(H o (G o F))(x)    = H((G o F)(x)) // H o (G o F) defined
                    = H(G(F(x))) // G o F defined
                    = (H o G)(F(x)) // H o G defined
                    = ((H o G) o F)(x) // (H o G) o F defined

2.5
a.  x ∈ A ∪ (B ∪ C) => x ∈ A or x ∈ B ∪ C
                    => x ∈ A or x ∈ B or x ∈ C
                    => x ∈ A ∪ B or x ∈ C
                    => x ∈ (A ∪ B) ∪ C
    and vice versa
    replace each or by and, each ∪ by ∩, A ∩ (B ∩ C) = (A ∩ B) ∩ C
b.  x ∈ A ∩ (B ∪ C) <=> x ∈ A & x ∈ B ∪ C
                    <=> x ∈ A & (x ∈ B | x ∈ C)
                    <=> (x ∈ A & x ∈ B) | (x ∈ A | x ∈ C) // propositional logic
                    <=> x ∈ A ∩ B | x ∈ A ∩ C
                    <=> x ∈ (A ∩ B) ∪ (A ∩ C)
c.  // similar to part b, direct result of propositional logic
d.  (A ∪ B) ∩ (B ∪ C) ∩ (A ∪ C) = (B ∪ (A ∩ C)) ∩ (A ∪ C)
                                = (B ∩ (A ∪ C)) ∪ ((A ∩ C) ∩ (A ∪ C))
                                = (A ∩ B) ∪ (B ∩ C) ∪ (A ∩ (C ∩ (A ∪ C)))
                                = (A ∩ B) ∪ (B ∩ C) ∪ (A ∩ C)
e.  x ∈ A ∩ (B - C) <=> x ∈ A & x ∈ B - C
                    <=> x ∈ A & x ∈ B & ~(x ∈ C)
                    <=> x ∈ A & x ∈ B & (~(x ∈ A) | ~(x ∈ C)) // ~(x ∈ A) is false
                    <=> x ∈ A & x ∈ B & ~(x ∈ A & x ∈ C)
                    <=> x ∈ (A ∩ B) - (A ∩ C)
                    <=> x ∈ (A ∩ B) - (B ∩ C)
f.  x ∈ (A - C) ∩ (B - C)   <=> x ∈ A & ~(x ∈ C) & x ∈ B & ~(x ∈ C)
                            <=> x ∈ A & x ∈ B & ~(x ∈ C)
                            <=> x ∈ (A ∩ B) - C
g.  x ∈ (A - B) ∪ B <=> (x ∈ A & ~(x ∈ B)) | x ∈ B
                    <=> (x ∈ A | x ∈ B) & (~(x ∈ B) | x ∈ B)
                    <=> x ∈ A | x ∈ B
                    <=> x ∈ A ∪ B
    A ∪ B = A   <=> x ∈ A | x ∈ B -> x ∈ A
                <=> x ∈ B -> x ∈ A
                <=> B ⊆ A

2.6
y ∈ f(A ∪ B)    <=> ∃x ∈ A ∪ B, (x, y) ∈ f
                <=> ∃x, (x ∈ A | x ∈ B) & (x, y) ∈ f
                <=> ∃x, (x ∈ A & (x, y) ∈ f) | (x ∈ B & (x, y) ∈ f)
                <=> ∃x, (x ∈ A & (x, y) ∈ f) | ∃x, (x ∈ B & (x, y) ∈ f)
                <=> y ∈ f(A) | y ∈ f(B)
                <=> y ∈ f(A) ∪ f(B)
y ∈ f(A ∩ B)    => ∃x ∈ A ∩ B, (x, y) ∈ f
                => ∃x, x ∈ A ∩ B & (x, y) ∈ f
                => ∃x, (x ∈ A & (x, y) ∈ f) & (x ∈ B & (x, y) ∈ f)
                => (∃x, x ∈ A & (x, y) ∈ f) & (∃x, x ∈ B & (x, y) ∈ f) // the converse of this step is not true
                => y ∈ f(A) & y ∈ f(B)
                => y ∈ f(A) ∩ f(B)

2.7
a.  x ∈ X   => x ∈ S & f(x) ∈ f(X) // definition of f(X) and X ⊆ S
            => x ∈ f^-1(f(X))
b.  y ∈ f(f^-1(Y))  => ∃x, x ∈ f^-1(Y) & (x, y) ∈ f
                    => ∃x, x ∈ S & f(x) ∈ Y & (x, y) ∈ f
                    => ∃x, x ∈ S & y ∈ Y & (x, y) ∈ f // definition of function, y = f(x) is unique
                    => y ∈ Y
c.  x ∈ f^-1(Y1 ∪ Y2)   <=> x ∈ S & f(x) ∈ Y1 ∪ Y2
                        <=> x ∈ S & (f(x) ∈ Y1 | f(x) ∈ Y2)
                        <=> (x ∈ S & f(x) ∈ Y1) | (x ∈ S & f(x) ∈ Y2)
                        <=> x ∈ f^-1(Y1) | x ∈ f^-1(Y2)
                        <=> x ∈ f^-1(Y1) ∪ f^-1(Y2)
d.  // similar to part c
e.  x ∈ f^-1(T - Y) <=> x ∈ S & f(x) ∈ T & ~(f(x) ∈ Y)
                    <=> (x ∈ S & f(x) ∈ T) & (~(x ∈ S) | ~(f(x) ∈ Y)) // ~(x ∈ S) is false
                    <=> (x ∈ S & f(x) ∈ T) & ~(x ∈ S & (f(x) ∈ Y))
                    <=> x ∈ S & ~(x ∈ S & (f(x) ∈ Y)) // f: S -> T
                    <=> S - f^-1(Y)
f.  assume f^-1(∪n Yk) = ∪n f^-1(Yk),
    f^-1(∪n+1 Yk)   = f^-1(∪n Yk) ∪ f^-1(Yn+1)
                    = ∪n+1 f^-1(Yk)
    similarly f^-1(∩n Yk) = ∩n f^-1(Yk)

2.8
=>: assume T = f(S), that is ∀y∃x, y ∈ T => (x, y) ∈ f
    y ∈ Y   => y ∈ Y & y ∈ T // Y ⊆ T
            => y ∈ Y & ∃x, (x, y) ∈ f
            => ∃x, x ∈ S & y ∈ Y & (x, y) ∈ f
            => ∃x, x ∈ S & f(x) ∈ Y & (x, y) ∈ f
            => ∃x, x ∈ f^-1(Y) & (x, y) ∈ f
            => y ∈ f(f^-1(Y))
    combine with 2.7.b, Y = f(f^-1(Y))
<=: let Y = T, assume T = f(f^-1(T)),
    => ∀y∃x, y ∈ T => x ∈ f^-1(T) & (x, y) ∈ f
    => ∀y∃x, y ∈ T => (x, y) ∈ f
    => T ⊆ f(S)
    => T = f(S) // f: S -> T => f(S) ⊆ T

2.9
a => b:
    y ∈ f(A) ∩ f(B) => (∃x1, x1 ∈ A & (x1, y) ∈ f) & (∃x2, x2 ∈ B & (x2, y) ∈ f)
    as f is one-to-one, f(x1) = f(x2) = y, x1 = x2
                    => ∃x, x ∈ A & x ∈ B & (x, y) ∈ f
                    => y ∈ f(A ∩ B)
    combine with problem 2.6, f(A) ∩ f(B) = f(A ∩ B) for all A, B ⊆ S
b => a:
    let f(x1) = f(x2) = y,
    f({x1}) ∩ f({x2}) = f({x1} ∩ {x2}) = {y}
    since f(∅) = ∅, it must have {x1} ∩ {x2} != ∅, or x1 = x2
a => c:
    x ∈ f^-1(f(A))  => x ∈ S & f(x) ∈ f(A)
                    => x ∈ S & (x, f(x)) ∈ f & (∃x', x' ∈ A & (x', f(x)) ∈ f)
                    => x ∈ A // x' = x by one-to-one function
c => a:
    let f(x1) = f(x2) = y
    {x1} = f^-1(f({x1})) = f^-1({y}) = f^-1(f({x2})) = {x2}, x1 = x2
b => d:
    f(A ∩ B) = f(∅) = f(A) ∩ f(B)
d => e:
    if A ∪ B = C, A ∩ B = ∅, C - A = B and C - B = A:
        x ∈ C - A   => x ∈ C & ~(x ∈ A)
                    => x ∈ B // A ∪ B = C => (x ∈ C => x ∈ A | x ∈ B)
        x ∈ B   => x ∈ B & ~(x ∈ A) // A ∩ B = ∅ => ~(x ∈ A & x ∈ B)
                => x ∈ C & ~(x ∈ A) // B ⊆ C
                => x ∈ C - A
        and C - B = A by symmetry
    (A - B) ∩ B = ∅ => f(A - B) ∩ f(B) = ∅
    f(A - B) ∪ f(B) = f((A - B) ∪ B) = f(A)
    therefore f(A - B) = f(A) - f(B)
e => b:
    let f(x1) = f(x2) = y
    f({x1, x2} - {x1})  = f({x1, x2}) - f({x1})
                        = {y} - {y}
                        = ∅
    {x1, x2} - {x1} = ∅, x1 = x2

2.10
let F be a one-to-one correspondence between A and B, G be a one-to-one correspondence between B and C
R(F) = D(G) = B, G o F is well defined
D(G o F) = D(F) = A, R(G o F) = G(F(D(F))) = G(R(F)) = G(D(G)) = R(G) = C
assume (G o F)(x1) = (G o F)(x2),
    (G o F)(x1) = G(F(x1)) = G(F(x2))
    F(x1) = F(x2) // G is a one-to-one function
    x1 = x2 // F is a one-to-one function
therefore G o F is a one-to-one correspondence between A and C

2.11
A ~ B <=> B ~ A:
    let F be a one-to-one correspondence between A and B
    define G = {(y, x): (x, y) ∈ F}
    D(G) = {y: (x, y) ∈ F} = R(F) = B
    R(G) = {x: (x, y) ∈ F} = D(F) = A
    if (y, x1), (y, x2) ∈ G, (x1, y), (x2, y) ∈ F, x1 = x2, G is one-to-one
    if (y1, x), (y2, x) ∈ G, (x, y1), (x, y2) ∈ F, y1 = y2, G is a function
let F be a one-to-one correspondence between {1, .., n} and {1, .., m}
when n = 1, F({1}) = {F(1)} != ∅, m >= 1
there exist (x, m), (n, y) ∈ F
F' = (F - {(x, m), (n, y)}) ∪ {(n, m), (x, y)} is another one-to-one correspondence between {1, .., n} and {1, .., m}
F' - {n, m} is a one-to-one correspondence between {1, .., n - 1} and {1, .., m - 1}
by induction, m - 1 >= n - 1, m >= n
symmetrically, n >= m, n = m

2.12
// some arguments on sets in this chapter is informal, e.g. proof of theorem 2.16, definition of infinite set
// all the proofs of this exercise given by a quick search depend on some form of axiom of choice
// thanks https://proofwiki.org/wiki/Infinite_Set_has_Countably_Infinite_Subset
let g be a choice function on P(S) - {∅}, existence of such g is assured by axiom of choice
define f: N -> S as:
    f(0) = g(S)
    f(n) = g(S - {f(0), .., f(n-1)})
by definition of choice functions, f(n) ∈ S - {f(0), .., f(n - 1)} ⊆ S
since S is infinite, S - {f(0), .., f(n-1)} is non-empty, f(N) is infinite
assume m < n,
    f(m) ∈ {f(0), .., f(n - 1)}, but 
    f(n) ∈ S - {f(0), .., f(n - 1)}, f(n) != f(m)
symmetrically n < m => f(n) != f(m)
m != n => f(m) != f(n), f(m) = f(n) => m = n, f is one-to-one
N ~ f(N), f(N) is countable and f(N) ⊆ S

2.13
by problem 2.12, let A be a countably infinite subset of S
N ~ A, let F: N -> A be a one-to-one correspondence, define G as:
    G(n) = F(n + 1), n >= 1
G is one-to-one, R(G) = A - {F(1)}, A ~ N ~ A - {F(1)}
let H be an one-to-one correspondence between A and A - {F(1)}, extend H by defining 
    H(x) = x, x ∈ S - A
then H is an one-to-one correspondence between S - {F(1)} and S, S - {F(1)} ~ S

2.14
B - A is uncountable: otherwise B = (B - A) ∪ A must be countable
assume A ⊆ B
if A is finite, by induction and proof of problem 2.13, B ~ B - {a1} ~ B - {a1, a2} ~ .. ~ B - A
if A is countably infinite, let S be a countable subset of B - A, 
let F: N -> S be a one-to-one correspondence, let G: N -> A be a one-to-one correspondence, 
define H: N -> S ∪ A as 
    H(2k) = F(k)
    H(2k + 1) = G(k)
so R(H) = S ∪ A, S ~ N ~ S ∪ A, there's a one-to-one correspondence I between S ∪ A and S
extend I by I(x) = x for all B - (A ∪ S)
since A, S ⊆ B, D(I) = (B - (A ∪ S)) ∪ (A ∪ S) = B, R(I) = (B - (A ∪ S)) ∪ S = B - A
I is a one-to-one correspondence between B and B - A, B ~ B - A
if ~(A ⊆ B), let A' = A ∩ B, B - A = B - A' and A' ⊆ B

2.15
an nth order integral polynomial has n + 1 parameters, each from the set of natural numbers N, so the set of (at most) 
nth order integral polynomials is similar to N^(n + 1), by induction N^(n + 1) is countable for all n ∈ N
each nth order polynomial has n roots, hence the roots of (at most) nth order integral polynomials is similar to a 
subset of Zn+ x N^(n + 1) which is also countable
union over all n ∈ N, by theorem 2.27 the union is also countable, the set of algebraic real numbers is countable

2.16
if A ∪ B = C, A and B are disjoint and finite, |C| = |A| + |B|:
    induct on the size of B
    if B = ∅, A = C, |A| = |C|
    if |B| = 1, |A ∪ {b}| = |A| + 1:
        let F: A -> {1, .., |A|}, extend F by (b, |A| + 1)
        F is a one-to-one function since b ∉ A
        D(F) = A ∪ {b}, R(F) = {1, .., |A| + 1}
    if |B| = k + 1, for some b ∈ B, |B - {b}| = k (proved later), |A ∪ {b}| = |A| + 1 (induction)
    A ∪ B = (A ∪ {b}) ∪ (B - {b})
    (A ∪ {b}) and B - {b} are disjoint
    by induction |C| = |A ∪ B| = |(A ∪ {b}) ∪ (B - {b})| = |A| + 1 + |B| - 1 = |A| + |B|
for |S| = 1, T = P(S) = {∅, {1}}, |P(S)| = 2
let |S| = k + 1, assume |P(S)| = 2^n for all n <= k
let F be a one-to-one correspondence between S and {1, .., k + 1}, by one-to-one there's some (s, k + 1) ∈ S
let S' = S - {(s, k + 1)}, S' is a one-to-one correspondence between S - {s} and {1, .., k}:
    S' is a function: if (x, y1), (x, y2) ∈ S', (x, y1), (x, y2) ∈ S, y1 = y2
    S' is one-to-one: similar to above
    D(S') = S - {s}: 
        for all (x, y) ∈ S, if x = s, y = k + 1, (x, y) is removed
        if x != s, (x, y) != (s, k + 1), (x, y) ∈ S'
    R(S') = {1, .., k}: similar to above
so |S - {s}| = k, P(S - {s}) = 2^k
for all subsets A of S, if s ∈ A, then A - {s} is a subset of S - {s}, let P1(S) = {A ∪ {s}: A ∈ P(S - {s})}, then
P1(S) ~ P(S - {s}) (F(A) = A ∪ {s} is a one-to-one correspondence), |P1(S)| = 2^k
if s ∉ A, A is a subset of S - {s}, let P2(S) = P(S - {s}), |P2(S)| = P(S - {s})
P1(S) ∪ P2(S) = P(S), P1(S) and P2(S) is disjoint, P(S) = |P1(S)| + |P2(S)| = 2^(k+1)

2.17
similar to the set of real numbers
for all a ∈ R = D(f), f(a) = ga and h has different value on the point a:
    h(a) = 1 + ga(a) != ga(a)
therefore h ∉ R(f), but h ∈ S, R(f) != S, there's no one-to-one correspondence between R and S

2.18
// S is similar to the power set of N
S is infinite:
    let T be the set of sequences of all 0s, T ⊆ S
    let F: N ~ T be F(n) = 0^n the sequence of n 0s
    F is one-to-one function
    D(F) = N, R(F) ⊆ T
    if S is finite, T is finite, R(F) is finite, N ~ R(F) is finite
~(N ~ S), S is uncountable:
    let F: N -> S be any function
    define a sequence {sn} that
        sn  = 0 if the nth bit of F(n) is 1
            = 1 otherwise (the nth bit of F(n) = 0 or F(n) is not long enough)
    for all n ∈ N, sn is different to F(n) at the nth bit, sn ∉ R(F), R(F) != S, ~(N ~ S)

2.19
a.  if A, B are countable, A x B is countable (similar to theorem 2.18) 
    a circle is defined by its center and radius, S ~ (Q x Q) x Q is countable
b.  if the interval has positive length, there must be two real numbers x < y in the interval 
    since y - x > 0, 10^-k -> 0, {k: k >= 0, 10^-k < y - x} is nonempty
    take any k that 10^-k < y - x, by theorem 1.14 there exists integer n that n10^-k > y, the set {n: n10^-k > y} is
    lower bounded by n > y10^k, thus {n: n10^-k > y} has a smallest element, let m be that smallest element
    by definition,
        m10^-k > y
        (m - 1)10^-k < y, also 
        (m - 1)10^-k    = m10^-k - 10^-k
                        > y - 10^-k
                        > x
    so there's a rational number (m - 1)10^-k between x and y
    assume it's possible to choose a rational number from each interval, define a function F: S -> Q:
        F(q) = rq, the rational number chosen from the interval
        F is one-to-one as the intervals are disjoint
        D(F) = S, R(F) ⊆ Q
    (the same F can be defined without the assumption by the proof of theorem 3.11)
    if S is uncountable, R(F) and Q must be uncountable

2.20
// thanks solutions manual
define An = {x: 0 <= x <= 1, f(x) > 1/n}
if |An| > nM, |Σ{An}f(x)| > M, so |An| <= nM for all n
define Bn = {x: 0 <= x <= 1, f(x) < -1/n}
similarly |Bn| <= nM for all n
for any x ∈ S, f(x) != 0, if f(x) > 0, as 1/n -> 0, there exists some n that f(x) > 1/n, x ∈ An
if f(x) < 0, similarly for some n, x ∈ Bn
S ⊆ (∪n An) ∪ (∪n Bn) where (∪n An) ∪ (∪n Bn) is a countable union of finite sets

2.21
F is not one-to-one: for any I that x1 ∈ I, F(I) = 1
[x1, x1 + 1] and [x1, x1 + 2] are two such intervals

2.22
f(A ∪ B) = f(A ∪ (B - A)) = f(A) - f(B - A) as A and B - A are disjoint
f(A) = f((A ∩ B) ∪ (A - B)) = f(A ∩ B) + f(A - B)
f(B) = f((A ∩ B) ∪ (B - A)) = f(A ∩ B) + f(B - A)
f(A ∪ B)    = f((A - B) ∪ (B - A) ∪ (A ∩ B))
            = f(A - B) + f(B - A) + f(A ∩ B)
            = f(A) + f(B) - 2f(A ∩ B) + f(A ∩ B)
            = f(A) + f(B) - f(A ∩ B)

2.23
f(T) = f(A) + f(~A) = f(B) + f(~B)
f(A ∪ B)    = f(~A) + f(~B) - f(~A)f(~B)  
            = 2f(T) - f(A) - f(B) - (f(T) - f(A))(f(T) - f(B))
            = 2f(T) - f(A) - f(B) - f(T)^2 + (f(A) + f(B))f(T) - f(A)f(B)
            = -f(T)^2 + (2 + f(A) + f(B))f(T) - f(A) - f(B) - f(A)f(B)
            = f(A) + f(B) - f(A)f(B)
f(T)^2 - (2 + f(A) + f(B))f(T) + 2(f(A) + f(B)) = 0
(f(T) - 2)(f(T) - f(A) - f(B)) = 0
as f(T) != f(A) + f(B), it must have f(T) = 2

theorem 3.10
for all a(x) < a' < x, a' ∈ S:
    if a(x) ∈ {a: (a, x) ⊆ S}, a' ∈ (a, x) ⊆ S
    otherwise assume {a: (a, x) ⊆ S} ∩ (a, a') = ∅, a' is a lower bound greater than a(x)
    there must be some l ∈ {a: (a, x) ⊆ S} ∩ (a, a'), (a', x) ⊆ (l, x) ⊆ S
similarly for all x < b' < b(x), b' ⊆ S, (a(x), b(x)) ⊆ S
if x ∈ I = (a', b') ⊆ S, I ⊆ Ix = (a(x), b(x)):
    assume a' < a(x), (a', x) ⊆ I ⊆ S, a' ∈ {a: (a, x) ⊆ S}, contradicting the definition of a(x)
    similarly b' <= b(x), I ⊆ Ix

3.1
for all x ∈ (-∞, b), let r = |b - x| = b - x, for any y ∈ B(x;r), assume y >= b,
    |y - x| = y - x = (y - b) + (b - x) >= r
so y < b, (-∞, b) is open
similarly (a, +∞) is open for all real a, the intersection (a, b) is open for all real a, b
for all real b, R - (-∞, b] = (b, +∞) is open, (-∞, b] is closed, similarly [a, +∞) is closed, [a, b] is closed

3.2
a.  the complement R - S = ∪n (n, n + 1) is a union of collection of open sets, S is closed
    hence any accumulation point of S must be in S
    let x be an integer, B(x; 1/2) contains only x ∈ S, x is not an accumulation point, S has no accumulation point
b.  if a >= b, S is empty, R - S = R is open, S is both open and closed
    if a < b, b ∈ S is not an interior point, S is not open
    x ∈ [a, b) are accumulation points:
        for all r > 0, |x + min{r/2, (b - x)/2} - x| < r/2, x + min{r/2, (b - x)/2} ∈ B(x;r), also 
        a < x + min{r/2, (b - x)/2} < b, B(x;r) contains some y ∈ S - {x}
    since a is an accumulation point, a ∉ S, S is not closed
    b is an accumulation point: similar to above
    (-∞, a) is open, all points in it are interior points of (-∞, a) => not an accumulation point of (a, b]
    similarly all points (b, +∞) are not accumulation points
c.  1 ∉ int(S), S is not open
    for any r > 0, by Archimedean property there exists nr > 1, or r > 1/n, 1/n ∈ B(0; r), 0 is an accumulation point
    0 ∉ S, S is not closed
    for any other x, if x < 0, B(x; |x|) contains no positive number, x is not an accumulation point
    if x > 0, let n be the smallest integer that 1/(n+1) < x <= 1/n
    if x ∈ (1/(n+1), 1/n), it is an interior point, B(x; r) ⊆ (1/(n+1), 1/n) for some r
    there's no other 1/k between 1/(n+1) and 1/n:
        1/(n + 1) < 1/k < 1/n, n < k < n + 1, but k is an integer
    similarly there's no other 1/k between 1/n and 1/(n - 1) if n >= 2
    if x = 1/n, let r = (1/n - 1/(n+1))/2, B(x, r) contains no other element of S
    0 is the only accumulation point
d.  by problem 2.19.b, (x, x + r) ⊆ B(x, r) contains some rational numbers for any x and r > 0, every real number x is 
    an accumulation point of S, so S is not closed
    similarly for all rational x, (x, x + r) ⊆ B(x, r) contains some irrational numbers:
        if r is irrational, (x + r)/2 is irrational 
        if r is rational, x + (r - x)/√2 is irrational 
    therefore S is not open
e.  // thanks https://math.stackexchange.com/questions/930646
    2^-n, 5^-m -> 0, so 2^-n and 5^-m for all n, m are accumulation points of S in addition to 0
    none of these accumulation points is in S, S is not closed
    let A = {2^-n} ∪ {5^-n} ∪ {0}, for any x ∉ A, there must be some B(x; r) disjoint with A: 
        x < 0 cannot be an accumulation point as in part c
        for all x > 0, let r = x/2, B(x; r) ⊆ (x/2, +∞), and for any x/2 only finite elements in A > x/2
    for all 2^-n + 5^-m ∈ B(x; r/2) = (x - r/2, x + r/2), assume 2^-n <= 5^-m
    it must have 2^-n <= 5^-m <= x - r and x - r/2 < 2^-n + 5^-m, or 5^-m >= 2^-n > r/2
    symmetrically the same inequality holds for 2^-n >= 2^-m, there are only finite 2^-n + 5^-m in B(x; r/2)
    thus any 2^-n + 5^-m is not a accumulation point, S is not open
f.  1 and -1 are accumulation points not in S, S is not closed 
    (-∞, -1), (0, 1) and (2, +∞) are open sets disjoint with (-1)^n + 1/m, no interior of them can be accumulation point
    if any x ∈ (-1, 0) is an accumulation point, for any r > 0, 
        if B(x; r) ⊆ (-1, 0), there exists (-1)^n + 1/m ∈ B(x; r) hence -1 + 1/m ∈ B(x; r)
        but then B(x + 1; r) is an accumulation point of {1/m}, the only accumulation point of {1/m} is 0
    similarly any x ∈ (1, 2) cannot be an accumulation point
    {0, 2} are two isolated point of S, S is not open
g.  similar to part e 
    the set is neither open nor closed
    {1/n} ∪ {0} are all the accumulation points
h.  the two subsequences
        (-1)^2k/(1 + 1/2k) -> 1
        (-1)^(2k + 1)/(1 + 1/(2k + 1)) -> -1
    A = {1, -1} are the set of accumulation points
    (-∞, -1), (-1/2, 1/2) and (1, +∞) are open sets disjoint with S, no interior of them can be accumulation point
    by the same argument as part f, no x ∈ (-1, -1/2] or [1/2, 1) can be accumulation point
    the set is neither open nor closed

3.3
a.  in Euclidean space R^n, any n-ball B(x; r) contains infinitely many points:
        for a point y ∈ B(x; r), let yi = xi for all i >= 2
        y1 can take any real number in the range (x1 - r, x1 + r), there are infinitely many y1 in that range
    in Euclidean space R^n, an interior point x of a set S is also an accumulation point:
        for some r > 0, B(x; r) ⊆ S
        for any 0 < r' <= r, B(x; r') contains infinitely many points in S, one of them != x
        for any r' > r, B(x; r) ⊆ B(x; r')
    |z| > 1, S = {(x, y): x^2 + y^2 > 1} is open:
        for p = (x, y) ∈ S, let r = (|p| - 1)/2
        for any p' ∈ B(p, r), ||p| - |p'|| <= |p - p'| < r
        |p'| > |p| - r = |p| - (|p| - 1)/2 = (|p| + 1)/2 > 1
        int(S) = S
    all points in S are accumulation points of S
    similarly, S' = {(x, y): x^2 + y^2 < 1} is open and disjoint to S, no point in S' is accumulation point of S
    all points in {(x, y): x^2 + y^2 = 1} are accumulation points of S:
        for any B(x; r), if x >= 0, (x + r/2)^2 + y^2 > 1 and |(x, y) - (x + r/2, y)| = r/2 < r
        if x < 0, (x - r/2)^2 + y^2 > 1
b.  since {(x, y): |(x, y)| < 1} is open, S is closed
    no point in open set ~S is accumulation point of S
    by part a, all points in S are accumulation points of S
c.  same to exercise 3.2.g, {1/n} ∪ {i/m} ∪ {0} are accumulation points
    none of them are in S, S is not closed
    (1, 0) is an isolated point, S is not open 
    the only accumulation point of A = {1/n} ∪ {i/m} ∪ {0} is 0:
        for any other z = (x, y), let r = |z|/2, w ∈ B(z; r)
        similar to part a, |w| > |z|/2, there are only finite w in B(z; r) ∩ S
    by a similar argument, there are only finite 1/n + i/m ∈ B(z; r/2)
d.  {(x, y): x^2 - y^2 < 1} is open:
        for x >= 0, y > 0, let r > 0 be small enough that y - r > 0
        for any (u, v) ∈ B(z; r), v > y - r > 0, v^2 > (y - r)^2 
        |u - x| < r, if u - x >= 0, u >= x >= 0, u - x < r, u < x + r, |u| < |x + r|
        if u - x < 0, u < x <= x + r, x - u < r, u > x - r >= -(x + r), |u| < |x + r|
        u^2 - v^2   < (x + r)^2 - (y - r)^2
                    = x^2 + 2xr + r^2 - y^2 + 2yr - r^2
                    = x^2 - y^2 + (2x + 2y)r
        take r < (1 - x^2 + y^2)/(2x + 2y), x^2 - y^2 + (2x + 2y)r < 1, the ball contains only points in S, x ∈ int(S)
        for (x, 0) ∈ S, x >= 0, x^2 < 1, for all (u, v) ∈ B(x; r), again |u| < |x + r|
        u^2 - v^2 < (x + r)^2 
        let r < 1 - x, (x + r)^2 < 1^2 = 1, (x, 0) is an interior point
        symmetrically all z ∈ S are interior points  
    by a symmetric argument, {(x, y): x^2 - y^2 > 1} is open, no point in it is an accumulation point of S
    by similar reason to part a, all points {(x, y): x^2 - y^2 = 1} are accumulation points 
e.  open, accumulation points are {(x, y): x >= 0}
f.  closed, accumulation points are {(x, y): x >= 0}

3.4
rational: see exercise 2.19.b
irrational: there's a rational number r in (a, b) for any real number a < b
then there's a irrational number in (r, b) ⊆ (a, b) (exercise 3.2.d)

3.5
assume x ∈ S and S != R, then there exists some y ∈ ~S
assume without loss of generality x < y, let A = {z: z > x, z ∈ ~S}, y ∈ A is nonempty, inf(A) is defined
if inf(A) ∈ S, since S is open, B(inf(A); r) ⊆ S for some r > 0, inf(A) + r/2 > inf(A) is a lower bound of A
if inf(A) ∈ ~S, since S is closed, ~S is open, B(inf(A); r) ⊆ ~S for some r > 0
as x ∈ S, it must have x < inf(A) - r, but for some inf(A) - r/2 < inf(A), inf(A) - r/2 ∈ A, inf(A) is not an infimum
by definition 4.34, R is connected
for all n >= 2, R^n = R^(n - 1) x R is inductively the cartesian product of two connected spaces which is also connected
https://math.stackexchange.com/questions/1305810/

3.6
if S is closed, ~S is open, by theorem 3.11 ~S = ∪{F}A, where F is a countable collection of disjoint open sets
by theorem 2.23, S = R - ∪{F}A = ∩{F}(R - A), where R - A is closed for all A
and ∩{F}(R - A) is an intersection of a countable collection of closed sets

3.7
S is bounded and nonempty, inf(S) and sup(S) are defined, assume inf(S) ∉ S
then for all r > 0, there's an x ∈ S that inf(S) <= x < inf(S) + r, otherwise inf(S) + r is a greater lower bound
inf(S) and sup(S) are accumulation points of S, since S is closed, inf(S), sup(S) ∈ S
(-∞, inf(S)) and (sup(S), +∞) are disjoint with S hence are subsets of ~S
as S is closed, ~S is open, ~S = ∪{F}A for a countable collection F of disjoint open sets
L = (-∞, inf(S)) and U = (sup(S), +∞) cannot be union of other disjoint open sets, L, U ∈ F
for any (a, b) ∈ F - L - U, if a ∈ ~S, a ∈ (c, d) for some (c, d) disjoint to (a, b) 
but (c, d) is open, a is an accumulation point of (a, b), there's some B(a; r) ⊆ (c, d) contains number in (a, b)
therefore all endpoints of open intervals in F - L - U ∈ S
let F' = F - L - U, [inf(S), sup(S)] - ∪{F'}A = S:
    R - ∪{F}A = S
    R - L - U - ∪{F'}A = S
    [inf(S), sup(S)] - ∪{F'}A = S

3.8
n-ball:
    if y ∈ B(x; r), ||y - x|| < r, let t = (r - ||y - x||)/2, for any z ∈ B(y; t), 
    ||z - x||   <= ||y - x|| + ||z - y||
                = (||y - x|| + r)/2 
                < r
    thus B(y; t) ⊆ B(x; r), y ∈ int(S)
n-dimensional open interval:
    let S be a cartesian product of n open intervals (a1, b1) x (a2, b2) x .. x (an, bn)
    for any x = (x1, .., xn) ∈ S, xi ∈ (ai, bi), B(xi, ri) ⊆ (ai, bi) as (ai, bi) is an open set
    take r = min{ri}, for any y ∈ B(x, r), |yi - xi| < r <= ri, yi ∈ B(xi, ri) ⊆ (ai, bi), y ∈ S

3.9
for all x ∈ int(S), there's some r > 0 that B(x; r) ⊆ S, assume int(S) is not open
then for some x ∈ int(S) for all r > 0, there exists y ∈ B(x; r) and y ∈ S - int(S)
by definition of int(S), for any r' > 0, B(y; r') contains a point z ∈ ~S
but then for some y ∈ B(x; r/2) ∩ (S - int(S)), let r' < r/4, z ∈ B(y; r/4) and z ∈ ~S, but
||x - z||   <= ||x - y|| + ||y - z||
            < r/2 + r/4
            < r
z ∈ B(x; r) and x is not an interior point
therefore int(S) is an open set

3.10
let F be the collection of all open subsets A ⊆ S
since int(S) is an open subset of R^n contained in S, int(S) ⊆ ∪{F}A
if A is an open subset of S, A = int(A) ⊆ int(S):
    for all x ∈ A, B(x; r) ⊆ A ⊆ S for some r > 0, x ∈ int(S)
therefore ∪{F}A ⊆ int(S) and ∪{F}A = int(S)

3.11
x ∈ int(S) ∩ int(T) <=> x ∈ int(S) & x ∈ int(T)
                    <=> (∃r1, B(x; r1) ⊆ S) & (∃r2, B(x; r2) ⊆ T)
                    <=> (∃r = min{r1, r2}, B(x; r) ⊆ S & B(x; r) ⊆ T)
                    <=> (∃r, B(x; r) ⊆ S ∩ T)
                    <=> x ∈ int(S ∩ T)
x ∈ int(S) ∪ int(T) <=> x ∈ int(S) | x ∈ int(T)
                    <=> (∃r1, B(x; r1) ⊆ S) & (∃r2, B(x; r2) ⊆ T)
                    => ∃r = r1, B(x; r) ⊆ S | B(x; r) ⊆ T // converse not true
                    <=> ∃r, B(x; r) ⊆ S ∪ T
                    <=> x ∈ int(S ∪ T)

3.12
a.  let x be an accumulation point of S', then for all r > 0, there's y ∈ B(x; r/2) ∩ (S' - {x})
    since x != y, ||x - y|| > 0
    y ∈ S' is an accumulation point of S, there's z ∈ B(y; min{r/4, ||x - y||/2}) ∩ (S - {y}), z != y
    ||x - z||   <= ||x - y|| + ||y - z||
                < r/2 + r/4
                < r
    ||y - z|| <= ||y - x||/2, z != x
    hence for all r > 0, there's z ∈ B(x; r) ∩ (S - {x}), x ∈ S', (S')' ⊆ S'
b.  x ∈ S'  <=> ∀r>0∃y, y ∈ B(x; r) ∩ (S - {x})
            <=> ∀r>0∃y, y ∈ B(x; r) & y ∈ (S - {x})
            => ∀r>0∃y, y ∈ B(x; r) & y ∈ T - {x} // S ⊆ T
            <=> x ∈ T'
c.  x ∈ (S ∪ T)'    <=> ∀r>0∃y, y ∈ B(x; r) ∩ ((S ∪ T) - {x})
                    <=> ∀r>0∃y, y ∈ B(x; r) ∩ ((S - {x}) ∪ (T - {x}))
                    <=> ∀r>0∃y, y ∈ (B(x; r) ∩ (S - {x})) ∪ (B(x; r) ∩ (T - {x}))
                    <=> ∀r>0∃y, y ∈ (B(x; r) ∩ (S - {x})) | y ∈ (B(x; r) ∩ (T - {x}))
                    <=> ∀r>0, (∃y, y ∈ (B(x; r) ∩ (S - {x}))) | (∃y, y ∈ (B(x; r) ∩ (T - {x})))
    if ∃r1>0, B(x; r1) ∩ (S - {x}) = ∅ & ∃r2>0, B(x; r2) ∩ (T - {x}) = ∅
    then ∃r=min{r1, r2}, B(x; r1) ∩ (S - {x}) = ∅ & ∃r2>0, B(x; r2) ∩ (T - {x}) = ∅, so
    x ∈ (S ∪ T)'    <=> ∀r>0∃y, y ∈ B(x; r) ∩ (S - {x}) | ∀r>0∃y, y ∈ (B(x; r) ∩ (T - {x})) // converse is trivial
                    <=> x ∈ S' | x ∈ T'
                    <=> x ∈ (S' ∪ T')
d.  // denote closure of S by C(S)
    (C(S))' = (S ∪ S')'
            = S' ∪ (S')' // part c
            = S' // part a
e.  (C(S))' = S' ⊆ C(S), by theorem 3.22 C(S) is closed
f.  let F be the collection of all closed subset of R^n containing S
    for any A ∈ F, A is a closed set and S ⊆ A, then S' ⊆ A' ⊆ A by part b
    C(S) = S ∪ S' ⊆ A, C(S) ⊆ A, C(S) ⊆ ∩{F}A
    S ⊆ C(S), C(S) is closed, C(S) ∈ F, ∩{F}A ⊆ C(S), hence ∩{F}A = C(S)

3.13
by exercise 3.12.b, (S ∩ T)' ⊆ S' and (S ∩ T)' ⊆ T', (S ∩ T)' ⊆ S' ∩ T' ⊆ C(S) ∩ C(T)
combine with S ∩ T ⊆ C(S) ∩ C(T), C(S ∩ T) = (S ∩ T) ∪ C(S ∩ T) ⊆ C(S) ∩ C(T)
x ∈ S ∩ C(T)    <=> x ∈ S & x ∈ C(T)
                => ∃r1>0, B(x; r1) ⊆ S & ∀r2>0∃y, y ∈ B(x; r2) ∩ T // S is open
                => ∀0<r<=r1∃y, y ∈ B(x; r) ∩ S & y ∈ B(x; r) ∩ T
                => ∀r>0∃y, y ∈ B(x; r) ∩ (S ∩ T)
                => x ∈ C(S ∩ T)

3.14
in R^2 and R^3: for x, y ∈ S, all points on the line segment x -> y are in S
a.  for two y1, y2 ∈ B(x; r),
    ||x - (θy1 + (1 - θ)y2)||   = ||θ(x - y1) + (1 - θ)(x - y2)||
                                <= ||θ(x - y1)|| + ||(1 - θ)(x - y2)||
                                = θ||(x - y1)|| + (1 - θ)||(x - y2)||
                                < θr + (1 - θ)r
                                = r
    so θy1 + (1 - θ)y2 ∈ B(x; r)
b.  for two x1, x2 ∈ S, ai < x1i, x2i < bi for each component i
    ith component of θx1 + (1 - θ)x2 is xi = θx1i + (1 - θ)x2i, as 0 < θ < 1, 0 < 1 - θ < 1, 
        θai < θx1i < θbi
        (1 - θ)ai < (1 - θ)x2i < (1 - θ)bi
        ai < xi < bi
    therefore θx1 + (1 - θ)x2 ∈ S
c.  shift of an open set is also an open set:
        let A be an open set, B = {a + c: a ∈ A}
        if b ∈ B is not interior, for all r > 0, B(b; r) contains a point y in ~B
        that is, y = x + c ∉ B, ||b - y|| < r, x = y - c ∉ A
        but then ||a - x|| = ||(b - c) - (y - c)|| = ||b - y|| < r
        B(b - c; r) for all r > 0 contains a point x in ~A and b - c ∈ A, A is not open 
    an open set multiplied by a non-zero real number is also an open set:
        let A be an open set, B = {ca: a ∈ A}
        if b ∈ B is not interior, for all r > 0, |c|r > 0, B(b; |c|r) contains a point y in ~B
        that is, y = cx ∉ B, ||b - y|| < |c|r, x = y/c ∉ A
        but then ||a - x|| = ||b/c - y/c|| = ||b - y|| / |c| < |c|r / |c| <= r
        for all r > 0, B(a; r) contains a point in ~A, A is not open 
    if A, B are open sets, A + B = {a + b: a ∈ A, b ∈ B} is an open set:
        A + B = ∪{a ∈ A}{a + b: b ∈ B} is a union of a collection of open sets
    {θx + (1 - θ)y: x, y ∈ int(S), 0 < θ < 1}
    = ∪{0 < θ < 1}{θx + (1 - θ)y: x, y ∈ int(S)}
    = ∪{0 < θ < 1}(θint(S) + (1 - θ)int(S))
    = con(int(S))
    is an open set by the lemmas above
    by convexity of S, θx + (1 - θ)y ∈ S, con(int(S)) ⊆ S
    by exercise 3.10, any open set in S is a subset of int(S), con(int(S)) ⊆ int(S), int(S) is convex
d.  for any x, y ∈ C(S), r > 0, there are x' ∈ B(x; r) ∩ S and y' ∈ B(x; r) ∩ S
    by convexity of S, θx' + (1 - θ)y' ∈ S for all 0 < θ < 1
    ||θx + (1 - θ)y - (θx' + (1 - θ)y')||
    = ||θ(x - x') + (1 - θ)(y - y')||
    <= θ||x - x'|| + (1 - θ)||y - y'||
    < r
    B(θx + (1 - θ)y; r) contains a point in S for all r > 0, θx + (1 - θ)y ∈ C(S), C(S) is convex 

3.15
a.  x ∈ T'  <=> ∀r>0∃y, y ∈ B(x; r) ∩ T
            <=> ∀r>0∃y, y ∈ B(x; r) ∩ (∩{F}A)
            <=> ∀r>0∃y, y ∈ B(x; r) ∩ (∩{F}A)
            => ∀A∈F∀r>0∃y, y ∈ B(x; r) ∩ A
            <=> ∀A, x ∈ A'
b.  not true
    let F = {(1/n, +∞): n ∈ {1, 2, ..}}
    0 is an accumulation point of ∪{F}A:
        for all r > 0, by Archimedean property there's nr > 1, r > 1/n, B(0, r) ∩ (1/n, +∞) != ∅
    0 is not an accumulation point of any A:
        for any (1/n, +∞), let r = 1/2n, B(0; r) ∩ (1/n, +∞) = ∅

3.16
x1 ∈ S1, as S1 is open, B(x; r) ⊆ S for some r > 0, define Q1 = [x1 + r/4, x1 + r/2] ⊆ B(x; r) ⊆ S1, x1 ∉ Q1
given Qn = [a, b] ⊆ Sn, a < b, xn ∉ Qn, define Pn+1 as:
    if xn+1 ∉ Qn, Pn+1 = Qn
    if xn+1 ∈ [a, (a + b)/2], Pn+1 = [(a + 2b)/3, b]
    if xn+1 ∈ ((a + b)/2, b], Pn+1 = [a, (2a + b)/3]
so Pn+1 = [c, d] is a closed interval, c < d and xn+1 ∉ Pn+1
then there must be infinitely many rational numbers in [(2c + d)/3, (c + 2d)/3], let xk ∈ Pn+1 be one of them 
(e.g. one with smallest index, or one constructed by the process described in problem 2.19.b)
xk ∈ S ⊆ Sn+1, B(xk; r) ⊆ Sn+1 for some r > 0 as Sn+1 is open
take r' = min{r/2, (b - a)/3}, define Qn+1 = [xk - r', xk + r'] = [e, f]
Qn+1 ⊆ Pn+1 ⊆ Qn, Qn+1 ⊆ Sn+1, xn+1 ∉ Qn+1, e < f
Q1 is bounded by B(x1; r), Qk is closed intervals and nonempty, Qn+1 ⊆ Qn
by Cantor's intersection theorem, ∩Qk is nonempty 
but for any rational number xk, xk ∉ Qk, thus xk ∉ ∩Qk for all k, there must be some irrational number r ∈ ∩Qk
but by the construction of Qk,
r ∈ ∩Qk => ∀k, r ∈ Qk
        => ∀k, r ∈ Sk
        => r ∈ ∩Sk
        => r ∈ S
contradicting the assumption that S = Q ∩ (0, 1)

3.17
for each isolated point x in S, there's an n-ball B(x; r) ∩ S = {x}
for all isolated points in S, there n-balls are disjoint
each n-ball contains an n-dimensional open interval:
    let d = r^2/n, yi ∈ (xi - d, xi + d)
    ||x - y|| < √(nd) = √r^2 = r, y ∈ B(x; r)
each n-dimensional open interval contains an element of Q^n:
    there's a rational number between each (ai, bi)
all those n-dimensional rational numbers are distinct since n-balls are disjoint
let I be the set of isolated points in S, there's a one-to-one function f:I -> Q^n, I is countable

3.18
each disk B((x, x); x) in the covering F is defined by the rational number x
F is similar to Q, F is countable
if 0 < y < x, (x, y) ∈ B((x, x); x), there must be a rational number r in the open interval (x + (x - y)/√8)
||(r, r) - (x, y)|| <= ||(r, r) - (x, x)|| + ||(x, x) - (x, y)||
                    = √2 * (r - x) + y
                    < (x - y)/2 + y
                    = (x + y)/2
                    < x < r
so (x, y) ∈ B((r, r); r)
by a symmetric argument, for y > x, (x, y) ∈ B((r, r); r) for some rational r
if y = x, there's a rational number r in (x, x * √2/(√2 - 1)), x > r(√2 - 1)/√2
||(r, r) - (x, y)|| = √2 * (r - x)
                    < √2 * (r - (√2 - 1)r/√2)
                    = r
(x, y) ∈ B((r, r); r), F is a countable cover of {(x, y): x > 0, y > 0}

3.19
let F' be a finite sub-collection of F
for all (1/n, 2/n) ∈ F', there must be one with maximum n*
then the set (0, 1/n*) is disjoint with ∪{F'}(1/n, 2/n)

3.20
S = ∪[n + 1/3, n + 2/3] over all integer n is a closed set since the complement ∪(n - 1/3, n + 1/3) is open
S is not bounded, for all x ∈ R, by Archimedean property there's n + 1/3 > n > x
F = (n, n + 1) over all n is a countable covering of S, but any finite sub-collection F' must have a maximum n*
any [n + 1/3, n + 2/3] with n > n* is disjoint with ∪{F'}(n, n + 1)

3.21
the n-dimensional cartesian product of Q, Q^n
for all x ∈ Q^n and any r > 0, B(x; r) ∩ Q^n ⊆ Q^n is a countable set
let F be the collection of these n-balls, by Lindelof covering theorem a countable sub-collection F' of F is also a
covering of S
but all sets in F has countable intersection with S, 
S   = S ∩ ∪{F'}A
    = ∪{F'}(S ∩ A)
is the union of a countable collection of countable sets, S is countable

3.22
let F be the collection of disjoint open sets in R^n, by exercise 3.17 there exists one-to-one f: F -> Q^n
a single element set {x} in R^n is closed: it has no accumulation point
the collection F of all single element sets in R^n has a one-to-one mapping to R^n, F cannot be countable

3.23
the contrapositive of 3.21

3.24
a.  S - T has no condensation point, immediate from exercise 3.21
b.  S = (S - T) ∪ (S ∩ T), since S is uncountable, S ∩ T must be uncountable
c.  let x be an accumulation point of T
    for all r > 0, y ∈ B(x; r/2) ∩ T, y is a condensation point
    B(y; r/4) contains uncountable points of S, for any z ∈ B(y; r/4), 
    ||x - z||   <= ||x - y|| + ||y - z||
                < r/2 + r/4
                < r
    B(y; r/4) ⊆ B(x; r), for all r > 0 B(x; r) contains uncountable points in S, x ∈ T
    T' ⊆ T, T is closed
d.  let x be an isolated point of T, for some r > 0, B(x; r) ∩ T = {x}
    x is also a condensation point, B(x; t) ∩ S is uncountable for all t > 0
    (B(x; r) - {x}) ∩ S is uncountable, by 3.23 there's a condensation point y in (B(x; r) - {x}) ∩ S 
    (B(x; r) - {x}) ∩ S ⊆ S, y is also a condensation point of S, y ∈ T
    but y ∈ B(x; r) - {x}, x is not isolated

3.25
let A be the set of condensation points of F, by exercise 3.24 A is closed and has no isolated points, A is perfect
let B = F - A, by exercise 3.24 B is countable, F = A ∪ B

3.26
∅ has no accumulation point, ∅ is closed
if M has any accumulation point, it must be in the space M, M is closed 
the complement of ∅ and M are open

3.27
a.  B(R)(a; r) = {x: a - r < x < a + r}
    B(R^n+1)(a; r) = B(R^n)(a; r) x B(R)(a; r):
        x^n+1 ∈ B(R^n+1)(a; r)  <=> max{i <= n+1, |xi - yi|} < a    
                                <=> max{i <= n, |xi - yi|} < a & |xn+1 - yn+1| < a
                                <=> x^n ∈ B(R^n)(a; r) & xn+1 ∈ B(R)(a; r)
    B(R^2)(a; r) is the cartesian product of two (a - r, a + r), a square with sides parallel to axes
b.  Σ|xi - yi| < r, after a π/4 rotation, (x, y) -> ((x - y)√2/2, (x + y)√2/2) = (x', y')
    |x' - a1'|  = √2/2 * |(x - a1) + (a2 - y)|
                <= √2/2 * (|x - a1| + |y - a2|)
                < r√2/2
    |y' - a2'|  = √2/2 * |(x - a1) + (y - a2)|
                < r√2/2
    conversely, if |a + b| < r and |a - b| < r, 
        if a >= 0, b >= 0, |a + b| = |a| + |b| < r
        if a >= 0, b < 0, |a - b| = |a| + |b| < r
        symmetrically for a < 0, |a| + |b| < r
    B(R^2, d2)(a; r) becomes B(R^2, d1)(a'; r√2/2) for a' = ((a1 - a2)√2/2, (a1 + a2)√2/2) after a π/4 rotation
    B(R^2, d2)(a; r) is a square with diagonals parallel to axes
c.  same to part a
d.  // should be provable by following the same argument in part b
    // but I know almost nothing about 3-d geometry

3.28
a.  ||x - y||   = √Σ(xi - yi)^2   
                >= √max{(xi - yi)^2}
                = max{|xi - yi|}
                = d1(x, y)
b.  ||x - y||^2 = Σ(xi - yi)^2
                = Σ|xi - yi|^2
                <= Σ|xi - yi|^2 + 2Σ{i != j}|xi - yi||xj - yj| // the second sum has no negative term
                = (Σ|xi - yi|)^2
                = d2(x, y)^2
c.  let ak = |xk - yk|, bk = 1,
    (Σakbk)^2 <= (Σak)(Σbk)   // Cauchy-Schwarz inequality
    (Σ|xk - yk|)^2 <= nΣ(xk - yk)^2
    d2(x, y)^2 <= ||x - y||^2
d.  ||x - y||^2 = Σ|xi - yi|^2
                <= Σmax{|xi - yi|}
                = nmax{|xi - yi|^2}
                = nmax{|xi - yi|}^2
                = nd1(x, y)^2
    ||x - y||^2 <= √n * d1(x, y)
    √n * ||x - y||^2 <= n * d1(x, y)

3.29
1.  d'(x, x) = d(x, x)/(1 + d(x, x)) = 0
2.  if x != y, d'(x, y) = d(x, y)/(1 + d(x, y)) > 0
3.  d'(x, y)    = d(x, y)/(1 + d(x, y))
                = d(y, x)/(1 + d(y, x))
                = d'(y, x)
4.  d'(x, z) + d'(z, y) = d(x, z)/(1 + d(x, z)) + d(z, y)/(1 + d(z, y))
                        >= d(x, z)/(1 + d(x, z) + d(z, y)) + d(z, y)/(1 + d(z, y) + d(x, z))
                        = (d(x, z) + d(z, y))/(1 + d(x, z) + d(z, y))
                        >= d(x, y)/(1 + d(x, y)) // x/(1 + x) is non-decreasing
                        = d'(x, y)

3.30
a finite subset of a matrix space has no accumulation point, S' = ∅ ⊆ S

3.31
a.  let x be a point that ||a - x|| = r + ε > r, for any point y in closed B(a; r),
    ||a - y|| + ||y - x|| >= ||a - x||
    ||y - x||   >= ||a - x|| - ||a - y||
                >= ||a - x|| - r
                = ε
    hence B(x; ε) is disjoint to closed B(a; r), x is not an accumulation point of closed B(a; r)
    S' ⊆ S, closed B(a; r) is closed
b.  let (N, d) be a metric space, N be the set of integers in R, d(x, y) = |x - y|
    B(0; 1) = {0} contains only a single element
    closed B(0; 1) = {-1, 0, 1}, but -1 and 1 are not accumulation points of B(0; 1)

3.32
by exercise 3.12.e, C(A) is closed in (M, d), S ⊆ C(A)
by exercise 3.12.f, C(S) is the intersection of all closed sets of M containing S, C(S) ⊆ C(A)
so A ⊆ S ⊆ C(A) ⊆ T ⊆ C(S) ⊆ C(A), A is dense in T

3.33
let A ⊆ R^n and B ⊆ R^m, C(AxB) = C(A)xC(B):
    let x ∈ C(AxB), x is an adherent point of AxB, for all r > 0, there's y ∈ B(R^n+m)(x; r) ∩ AxB
    ||x - y||^2 = ||x1 - y1||^2 + ||x2 - y2||^2 < r^2
    ||x1 - y1|| < r and ||x2 - y2|| < r, 
    x1 is an adherent point of A, x2 is an adherent point of B, x = (x1, x2) ∈ C(A)xC(B)
    conversely, let x1, x2 be two accumulation points of A and B
    for all r > 0, there are y1 ∈ B(R^n)(x1; r/2) ∩ A, y2 ∈ B(R^m)(x2; r/2) ∩ B
    ||(x1, x2) - (y1, y2)||^2   = ||x1 - y1||^2 + ||x2 - y2||^2
                                < r^2/2
                                < r^2
    y = (y1, y2) ∈ B(R^n+m)(x; r) ∩ AxB, x is an adherent point of AxB, C(A)xC(B) ⊆ C(AxB)
Q^n ⊆ R^n = C(Q)^n = C(Q^n), Q^n is dense in R^n, Q^n is countable, R^n is separable

3.34
let A be the countable dense set in M, define G = {B(x; r): x ∈ A, r > 0 ∈ Q}, G is a countable collection
for any open set S in M, for any x ∈ S, B(x; r) ⊆ S for some r > 0
if B(x; r/3) ∩ A = ∅, B(x; r/3) ⊆ ~A, x is an interior point of ~A, x ∉ C(A), contradicting M ⊆ C(A)
there must be y ∈ B(x; r/3) ∩ A, let r' be any rational number in (r/3, 2r/3), B(y; r') ∈ G
||x - y|| < r/3 < r', x ∈ B(y; r')
if z ∈ B(y; r'),
||x - z||   <= ||x - y|| + ||y - z||
            < r/3 + 2r/3
            = r
B(y; r') ⊆ B(x; r) ⊆ S, theorem 3.27 is proved for all separable metric space (M, d)
given theorem 3.27, the proof of Lindelof covering theorem in the text is independent to the metric space

3.35
A ⊆ S ⊆ C(A)
by exercise 3.13, B = B ∩ S ⊆ B ∩ C(A) ⊆ C(B ∩ A)

3.36
A ⊆ S ⊆ C(A), B ⊆ S ⊆ C(B)
by exercise 3.13, A ∩ B ⊆ C(A) ∩ B ⊆ C(A ∩ B), A ∩ B is dense in C(A) ∩ B
B ⊆ S ⊆ C(A), C(A) ∩ B = B, by transitivity A ∩ B is dense in S

3.37
1.  ρ((x1, x2), (x1, x2)) = d1(x1, x1) + d2(x2, x2) = 0
2.  if (x1, x2) != (y1, y2), x1 != y1 or x2 != y2, d1(x1, y1) > 0 or d2(x2, y2) > 0
    ρ(x, y) = d(x1, y1) + d(x2, y2) > 0
3.  ρ((x1, x2), (y1, y2))   = d1(x1, y1) + d2(x2, y2)
                            = d1(y1, x1) + d2(y2, x2)
                            = ρ((y1, y2), (x1, x2))
4.  ρ((x1, x2), (z1, z2)) + ρ((z1, z2), (y1, y2))
    = d1(x1, z1) + d2(x2, z2) + d1(z1, y1) + d2(z2, y2)
    >= d1(x1, y1) + d2(x2, y2)
    = ρ((x1, x2), (x2, y2))
ρ((x1, x2), (y1, y2)) = max{d1(x1, y1), d2(x2, y2)} is a metric
property 1, 2 and 3 are trivial
ρ((x1, x2), (z1, z2)) + ρ((z1, z2), (y1, y2))
= max{d1(x1, z1), d2(x2, z2)} + max{d1(z1, y1), d2(z2, y2)}
>= max{d1(x1, z1) + d1(z1, y1), d2(x2, z2) + d2(z2, y2)}
>= max{d1(x1, y1), d2(x2, y2)}
= ρ((x1, x2), (y1, y2))

3.38
S is compact in M <=> every infinite subset of S has an accumulation point in S
and the right side is independent of metric space as long as S ⊆ M
but this equivalence is given without proof
=>:
    assume S is compact in M, let F be an open covering of S in T
    for all open X ∈ F, there exists some open A ∈ M and A ∩ T = X
    define G be the collection of these corresponding open sets in M, G is an open covering of S in M:
        x ∈ S   => x ∈ X for some X ∈ F
                => x ∈ A for some A ∈ G
    by compactness, a finite sub-collection G' of G is also an open covering of S
    define
        F' = {A ∩ T: A ∈ G'}
    F' is a finite open covering of S in T:
        A is open in M, A ∩ T is open in T
        x ∈ S   => x ∈ A for some A ∈ G'
                => x ∈ A ∩ T // S ⊆ T
                => x ⊆ X for some X ∈ F'
    and F' ⊆ F by the construction of G
<=:
    assume S is compact in T, let F be an open covering of S in M
    G = {A ∩ T: A ∈ F} is an open covering of S in T
    a finite sub-collection G' of G is an open covering of S in T
    by the construction of G, for each open set X in G there's an open set A in F that X ⊆ A
    therefore a finite sub-collection F' of F covers ∪{G'}X hence covers S

3.39
T is compact => T is closed in M => S ∩ T is closed in T
S ∩ T is a closed subset of compact T => S ∩ T is compact in T => S ∩ T is compact in M // exercise 3.38

3.40
let F be the collection, S = ∩{F}A is closed in M as each A is compact (i.e. closed) in M
S ∩ A = S ⊆ A for any A ∈ F is a closed subset of compact A, S is compact in A => S is compact in M

3.41
let F be the collection, S = ∪{F}A
for any open covering G of S, for every Ai ∈ F, there's a finite sub-collection Gi of G that covers Ai
∪Gi is a finite open covering of S:
    ∪Gi is finite since each Gi is finite and |{Gi}| <= |{Ai}| is finite
    x ∈ S   => x ∈ Ai for some i
            => x is covered by Gi
            => x is covered by ∪Gi
therefore S is compact in (M, d)

3.42
if T ⊆ M, an adherent point of S ∩ T in (T, d) is an adherent of S ∩ M in (M, d):
    ∀r>0∃y, y ∈ B(x; r) ∩ (S ∩ T) => ∀r>0∃y, y ∈ B(x; r) ∩ (S ∩ M)
(a, b) is closed and bounded:
    C((a, b)) = [a, b], all points < a or > b are not adherent point of (a, b) in R
    hence all points < a or > b are not adherent point of (a, b) in Q
    a, b ∉ Q, (a, b) contains all of its adherent points, (a, b) is closed in Q
    (a, b) ∉ B(a; b - a), (a, b) is bounded
(a, b) ∩ Q is open in Q for all a, b ∈ R:
    (a, b) is open in R
F = {(a + 1/n, b): n ∈ {1, 2, ..}} is an open covering of (a, b) ∩ Q:
    for all x ∈ (a, b), x - a > 0, there's n(x - a) > 1, x - a > 1/n, a + 1/n < x < b, x ∈ ∪{F}A
no finite sub-collection F' of F is a covering of (a, b) ∩ Q:
    there's a maximum (a + 1/n, b) in F'
    (a, a + 1/n) ⊆ (a, b) is disjoint with (a + 1/n, b)
    there's a rational number in (a, a + 1/n)

3.43
x ∈ ~int(A) <=> ∀r>0∃y, y ∈ B(x; r) ∩ ~A
            <=> y ∈ C(~A)

3.44
int(~A) = ~C(~~A) = ~C(A)

3.45
proof of exercise 3.9 is independent of metric spaces
int(S) is open in (M, d), int(int(S)) = int(S)

3.46
a.  x ∈ int(∩Ai)    <=> ∃r, B(x; r) ⊆ ∩Ai
                    <=> ∀i∃r, B(x; r) ⊆ Ai // **
                    // converse: take r = min{ri}
                    <=> ∀i, x ∈ int(Ai)
                    <=> x ∈ ∩int(Ai)
b.  same to part a, but {r: A ∈ F, B(x; r) ⊆ A} may not have a minimum element, converse may not be true
c.  let F = {(-1/n, 1/n): n ∈ {1, 2, ..}}, for all A ∈ F, int(A) = A, ∩{F}int(A) = ∩{F}A = {0}
    but {0} has no interior point, int(∩{F}A) = ∅ != ∩{F}int(A)

3.47
a.  x ∈ ∪{F}(int(A))    <=> ∃A∈F, x ∈ int(A)
                        => ∃A∈F, x ∈ int(A) ∪ int(∪{F}A)
                        => ∃A∈F, x ∈ int(A ∪ ∪{F}A) // exercise 3.11
                        <=> ∃A∈F, x ∈ int(∪{F}A)
b.  let A be the set of rational numbers in (0, 1), B be the set of irrational numbers in (0, 1)
    int(A) = int(B) = ∅ (there's rational and irrational numbers in any nonempty open interval)
    A ∪ B = (0, 1) is open, int(A ∪ B) = (0, 1)

3.48
a.  int(∂A) = int(C(A) ∩ C(~A)) = int(C(A)) ∩ int(C(~A))
    if A is open, ~A is closed, C(~A) = ~A
    int(C(A)) ∩ int(C(~A)) ⊆ C(A) ∩ int(~A)
    x ∈ int(~A) <=> ∃r>0, B(x; r) ⊆ ~A
                <=> ∃r>0∀y, y ∈ B(x; r) => y ∈ ~A
                <=> ∃r>0~∃y, y ∈ B(x; r) ∩ A
                <=> ~(x ∈ C(A))
    int(∂A) ⊆ C(A) ∩ int(~A) = ∅
b.  C(Q) = C(~Q) = R in (R, d), ∂Q = R

3.49
for all x ∈ A ∪ B, x ∈ A or x ∈ B
if x ∈ A, by int(A) = ∅, for all r > 0 there's y ∈ B(x; r) ∩ ~A
assume all such y ∈ ~A ∩ B (otherwise y ∈ ~A ∩ ~B = ~(A ∪ B) and the theorem is proved)
A is closed, ~A is open, y is an interior point of ~A
let r' = (r - ||y - x||)/2, B(y; r') ⊆ B(x; r):
    for all z ∈ B(y; r')
    ||z - x||   <= ||z - y|| + ||y - x||
                < (r - ||y - x||)/2 + ||y - x||
                = (r + ||y - x||)/2
                < r
by assumption, B(y; r') ⊆ ~A ∩ B ⊆ B, B(y; r') is an interior point of B, contradicting int(B) = ∅
if x ∈ B, by int(B) = ∅, for all r > 0 there's y ∈ B(x; r) ∩ ~B
assume all such y ∈ ~B ∩ A
as int(A) = ∅, there's z ∈ B(y; r') ∩ ~A for all r' > 0
if z ∈ ~B, the theorem is proved, assume z ∈ B
B(z; t) must contain some w ∈ ~B otherwise z is an interior point of B
but for small enough t, B(z; t) ⊆ B(x; r), all such w ∈ ~B ∩ A ⊆ A, z is an adherent point of A
A is closed, z ∈ A, contradicting z ∈ B(y; r') ∩ ~A
therefore for all x ∈ A ∪ B, B(x; r) ∩ ~(A ∪ B) != ∅, int(A ∪ B) = ∅

3.50
A = Q, B = ~Q, int(A) = int(B) = ∅, int(A ∪ B) = int(R) = R

3.51
x ∈ ∂A  <=> ∀r>0, (∃y1 ∈ B(x; r) ∩ A) & (∃y2 ∈ B(x; r) ∩ ~A)
        <=> (∀r>0∃y1, ∈ B(x; r) ∩ A) & (∀r>0∃y2, ∈ B(x; r) ∩ ~A)
        <=> x ∈ C(A) & x ∈ C(~A)
        <=> x ∈ C(A) ∩ C(~A)
and this formula is symmetric, ∂A = C(A) ∩ C(~A) = C(~A) ∩ C(A) = ∂(~A)

3.52
x ∈ ∂(A ∪ B)    <=> ∀r>0∃y∃z, y ∈ B(x; r) ∩ (A ∪ B) & z ∈ B(x; r) ∩ ~(A ∪ B)
                <=> ∀r>0∃y∃z, y ∈ (B(x; r) ∩ A) ∪ (B(x, r) ∩ B) & z ∈ B(x; r) ∩ ~A ∩ ~B
                => ∀r>0∃y∃z, (y ∈ B(x; r) ∩ A & z ∈ B(x; r) ∩ ~A) | (y ∈ B(x; r) ∩ B & z ∈ B(x; r) ∩ ~B)
                => x ∈ ∂A | x ∈ ∂B
                <=> x ∈ ∂A ∪ ∂B
conversely, let x ∈ ∂A ⊆ C(A), for all r > 0 there are y ∈ B(x; r) ∩ A and z ∈ B(x; r) ∩ ~A
assume all such z ∈ ~A ∩ B (otherwise theorem is proved), then x is an adherent point of B, x ∈ C(B)
but then x ∈ C(A) ∩ C(B), contradicting C(A) ∩ C(B) = ∅
symmetrically, ∂B ⊆ ∂(A ∪ B), ∂A ∪ ∂B ⊆ ∂(A ∪ B), ∂A ∪ ∂B = ∂(A ∪ B)

theorem 4.16
=>: assume f is continuous at p
    for all ε > 0 there's some δ, f(B(p; δ)) ⊆ B(f(p); ε)
    if xn -> p, for n >= N, xn ∈ B(p; δ), f(xn) ∈ f(B(p; δ)) ⊆ B(f(p); ε), f(xn) -> f(p)
<=: assume f(xn) -> f(p) for all xn -> p
    assume f is not continuous at p, for all ε, δ > 0, f(B(p; δ)) contains a value outside B(f(p); ε)
    let {xn} be the sequence that, xn ∈ B(p; 1/n), d(f(p), f(xn)) >= ε for some constant ε
    but f(xn) -> f(p), d(f(p), f(xn)) cannot be greater than a positive constant for all n
    f must be continuous at p

4.1
a.  |z^n| = |z|^n, if |z| = 0, {|z^n|} is constant, |z^n| -> 0
    otherwise 0 < |z| < 1, |z^n| is decreasing, log(|z|, ε) is defined for all ε > 0, let N = min{n: n > log(|z|, ε)}
    for all n >= N, n > log(|z|, ε), 0 < |z|^n < |z|^log(|z|, ε) = ε, |z^n| -> 0
    the only complex number with |z| = 0 is z = 0, z^n -> 0
    by theorem 4.14, zn -> p => |zn| -> |p|
    if |z^n| = |z|^n -> |p| for some complex number p, for all ε > 0 and some N, ||z^n| - |p|| whenever n >= N
    let i = inf{n: n >= log(|z|, |p| + 2ε)}, for all n >= i, |z^i| >= |z|^log(|z|, |p| + 2ε) = |p| + 2ε
    contradicting the definition of N, {z^n} diverges
b.  if {cn} is bounded, {|cn|} ⊆ B(z; r'), |cn| <= |cn - z| + |z - 0| < r' + |z| = r, {|cn|} ⊆ B(0; r) for some r > 0
    for all ε > 0, take ε' = ε/r > 0, there's N that |zn| < ε' whenever n >= N
    |cnzn| = |cn||zn| < ε'|cn| < ε'r = ε whenever n >= N, |cnzn| -> 0, cnzn -> 0
c.  0 < 1/n! <= 1/n, 1/n -> 0 implies 1/n! -> 0
    by part b, let zn = z be a constant sequence, z/n! = zn/n! -> 0
d.  √(n^2 + 2) - n  = (n^2 + 2 - n^2)/(√(n^2 + 2) + n) 
                    = 2/(√(n^2 + 2) + n)
                    < 2/2n
                    = 1/n
    0 < √(n^2 + 2) - n < 1/n -> 0, √(n^2 + 2) - n -> 0

4.2
|an+2 - an+1| = |an+1 - an|/2, an+1 - an -> 0
(2an+2 + an+1)/3 = (2an+1 + an)/3 = (2a2 + a1)/3 is a constant sequence
(2an+1 + an)/3 + (an+1 - an)/3  = an+1 -> (2a2 + a1)/3, an -> (2a2 + a1)/3

4.3
xn -> 0:
    if 0 < xn < 1, 0 < 1 - xn < 1, 0 < √(1 - xn) < 1, 0 < 1 - √(1 - xn) < 1
    √(1 - xn) > 1 - xn, xn > 1 - √(1 - xn) = xn+1, {xn} is decreasing 
    let y1 = 1 - x1, 0 < y1 < 1, yn+1 = √yn = y1^(1/2^n)
    f(x) = y1^x is continuous, yn+1 = y1^(1/2^n) -> y1^0 = 1
    x1 = 1 - y1, inductively yn+1 = √yn = √(1 - xn), xn+1 = 1 - yn+1, xn -> 1 - 1 = 0
xn+1/xn -> 1/2:
    xn+1    = 1 - √(1 - xn) 
            = (1^2 - (1 - xn))/(1 + √(1 - xn))
            = xn/(1 + √(1 - xn))
    xn+1/xn = 1/(1 + √(1 - xn)) = 1/(1 + yn+1)
    as f(x) = 1/(1 + x) is continuous on x != -1, 1/(1 + yn+1) -> 1/(1 + 1) = 1/2

4.4
(an + bn√2)^2 = an^2 + 2bn^2 + 2anbn√2 = an+1 + bn+1√2
an+1 = an^2 + 2bn^2, bn+1 = 2anbn, an+1 >= an and bn+1 >= bn
in fact, bn+1 >= 2a1bn = 2bn >= n, bn -> ∞, an+1 >= 2bn^2 -> ∞
// here xn -> ∞ means xn is increasing and xn is not bounded from above
a2 = 1 + 2 = 3, b2 = 2, a2^2 - 2b2^2 = 1
an+1^2 - 2bn+1^2    = (an+1 + √2bn+1)(an+1 - √2bn+1)
                    = (an + √2bn)^2(an^2 + 2bn^2 - 2√2anbn)
                    = (an + √2bn)^2(an - √2bn)^2
                    = 1^2 = 1
an^2/bn^2 - 2 = 1/bn^2, an^2/bn^2 = 1/bn^2 + 2 -> 2, an/bn -> √2
1 - 2bn^2/an^2 = 1/an^2, bn^2/an^2 = (1 - 1/an^2)/2 -> 1/2, bn/an -> √2/2, 2bn/an -> √2

4.5
if 0 < xn < 1, 0 < xn^3 < 1, 6/7 < xn+1 = (xn^3 + 6)/7 < 7/7 = 1
    xn+1 - xn   = (xn^3 - 7xn + 6)/7
                = (xn - 1)(xn - 2)(xn + 3)/7
    is positive on (-3, 1), {xn} is increasing, xn -> sup({xn}) = s
    s = lim{n -> ∞}xn+1 = lim{n -> ∞}(xn^3 + 6)/7 = (s^3 + 6)/7
    (s - 1)(s - 2)(s + 3)/7 = 0, s = -3, 1 or 2
    {xn} ⊆ (0, 1), -3 or 2 cannot be accumulation point of {xn}, s must be 1
if 1 < xn < 2, 1 < xn^3 < 8, 1 < xn+1 = (xn^3 + 6)/7 < 14/7 = 2
    xn+1 - xn is negative on (1, 2), {xn} is decreasing, xn -> inf({xn}) = i
    i = -3, 1 or 2 as well, -3 cannot be an accumulation point of {xn} ⊆ (1, 2), x1 < 2, l must be 1
if xn > 2, (xn - 1)(xn - 2)(xn + 3)/7 is increasing on (2, +∞)
    xn+2 - xn+1 >= xn+1 - xn > 0 
    xn = Σ(xk+1 - xk) >= (n - 1)(x2 - x1) = (n - 1)c -> ∞, {xn} diverges

4.6
|an+1 + an| <= |an+1| + |an| < 4
|an+2 - an+1|   <= |an+1^2 - an^2|/8
                = |an+1 - an||an+1 + an|/8
                < |an+1 - an|/2
|an+k+1 - an+k| < |an+1 - an|/2^k
for any m >= n, 
|am - an|   <= Σ{n <= k <= m - 1}|ak+1 - ak|
            < Σ{0 <= k <= m - n - 1}|an+1 - an|/2^k
            <= Σ{0 <= k}|an+1 - an|/2^k
            = 2|an+1 - an|
            < 2|a2 - a1|/2^(n-1)
            = c/2^n -> 0
for all ε > 0, there's an N that n >= N implies for all m >= n, |am - an| < ε/2
then for two m, k >= n, |am - ak| <= |am - an| + |an - ak| < ε, {an} is a Cauchy sequence in R, {an} converges

4.7
d(x, xn) + d(xn, yn) + d(yn, y) >= d(x, y), d(xn, yn) >= d(x, y) - d(x, xn) - d(y, yn)
d(xn, yn) <= d(xn, x) + d(x, y) + d(y, yn)
both d(x, y) - d(x, xn) - d(y, yn) and d(xn, x) + d(x, y) + d(y, yn) -> d(x, y), d(xn, yn) -> d(x, y)

4.8
if the range of {xn} is finite, one of them must be repeated infinite times, {xn} has a constant subsequence
otherwise the range of {xn} is infinite in S, by theorem 3.38 it has an accumulation point p in S
B(p; 1/m) ∩ {xn} is nonempty for all integer m, take one value from each B(p; 1/m) ∩ {xn} in a way that:
    take any point xk(1) from B(p; 1)
    for xk(n+1), B(p; 1/n+1) ∩ {xn} must contain infinite points
    there must be one point xm in it that m > k(n), define m = k(n+1)
then {xk(n)} is a subsequence of {xn} and {xk(n)} converges to p

4.9
let p be an accumulation point of A, B(p; 1/n) ∩ A is nonempty for all integer n
choose one point xn from every B(p; 1/n) ∩ A, {xn} is a Cauchy sequence:
    for all ε > 0, let N be an integer Nε > 2, 1/N < ε/2, for all n, m >= N, 
    d(xn, xm)   <= d(xn, p) + d(xm, p)
                <= 1/N + 1/N
                < ε
therefore {xn} converges to a point q in A, if p != q, d(p, q) > 0, but 
0 <= d(p, q) <= d(xn, p) + d(xn, q) -> 0
q must be p, p ∈ A, A is closed
if S is complete, every Cauchy sequence {xn} in A converge to a point p in S
by theorem 4.3, p is an adherent point of {xn} ⊆ A, p is an adherent point of A, p ⊆ A
hence every Cauchy sequence converges in A to a point in A, A is complete

4.10
lim{x -> 0}f(x) = b <=> lim{x -> 0}f(-x) = b:
    let g(x) = f(-x), g(X) = f({-x: x ∈ X})
    lim{x -> 0}f(x) = b <=> ∀ε>0∃δ>0, f(B(0; δ) - {0}) ⊆ B(b; ε)
                        <=> ∀ε>0∃δ>0, g(B(0; δ) - {0}) ⊆ B(b; ε) // B(0; δ) - {0} is symmetry to 0
                        <=> lim{x -> 0}g(x) = b
                        <=> lim(x -> 0)f(-x) = b
a => b:
    let g(h) = |f(x + h) - f(x)|
    lim{h -> 0}g(h) = 0, lim{h -> 0}g(-h) = lim{h -> 0}|f(x - h) - f(x)| = 0
    0   <= |f(x + h) - f(x - h)|
        <= |f(x + h) - f(x)| + |f(x - h) - f(x)|
        -> 0
    lim{h -> 0}|f(x + h) - f(x - h)| = 0
b & ~a:
    define
        f(x)    = 0 if x ∈ (a, x0) ∪ (x0, b)
                = 1 if x = x0
    |f(x0 + h) - f(x0 - h)| = 0 for all h != 0, f(B(0; 1) ∩ (a, b) - {0}) ⊆ B(0; ε) for all ε > 0
    but |f(x0 + h) - f(x0)| = 1 for all h != 0

4.11
lim{x -> a}f(x, y) is defined for each y
by theorem 4.12 the limit is unique, lim{x -> a}f(x, y) = A(y) is a function
for all ε > 0 there's δ that, |x - a| < δ implies |f(x, y) - A(y)| < ε/2
for the same ε > 0, there exists δ' that ||(x, y) - (a, b)|| < δ' implies |f(x, y) - L| < ε/2
let |x - a| < min(δ, δ'/2), |y - b| < δ'/2, 
    ||(x, y) - (a, b)|| <= |x - a| + |y - b| < δ'
    |L - A(y)|  <= |f(x, y) - L| + |f(x, y) - A(y)|
                < ε
// |x - a| can be arbitrary as long as (x, y) ∈ B((a, b); δ') for a range of y
therefore lim{y -> b}(lim{x -> a}f(x, y)) = L
symmetrically lim{x -> a}(lim{y -> b}f(x, y)) = L
a.  f(x, y) is continuous on R^2 - {(0, 0)}
    lim{x -> 0}f(x, y) = -y^2/y^2 = -1 if y != 0, = 0 if y = 0
    lim{y -> 0}(lim{x -> 0}f(x, y)) = -1
    lim{y -> 0}f(x, y) = x^2/x^2 = 1 if x != 0, = 0 if x = 0
    lim{x -> 0}(lim{y -> 0}f(x, y)) = 1
    let pn = (1/n, 1/n), pn -> (0, 0), f(pn) = 0 is constant for all {pn}
    let pn = (1/n, 0), pn -> (0, 0), f(pn) = 1 is constant for all {pn}
    if lim{(x, y) -> (0, 0)}f(x, y) has a limit L, f(pn) -> L for all sequence {pn} that converges to (0, 0)
    therefore lim{(x, y) -> (0, 0)}f(x, y) doesn't exist
b.  f(x, y) is continuous on R^2 - {(0, 0)}, lim{(x, y) -> (a, b)}f(x, y) = f(a, b)
    lim{x -> 0}f(x, y) = 0
    lim{y -> 0}f(x, y) = 0
    lim{x -> 0}(lim{y -> 0}f(x, y)) = lim{y -> 0}(lim{x -> 0}f(x, y)) = 0
    let pn = (1/n, 1/n), pn -> (0, 0), f(pn) = 1 for all pn != (0, 0)
    let pn = (1/n, 0), pn -> (0, 0), f(pn) = 0
    lim{(x, y) -> (0, 0)}f(x, y) doesn't exist
c.  f(x, y) is continuous on x != 0
    lim{y -> 0}f(x, y) = 0
    ∂(sin(xy)/x)/∂x = cos(xy)y, lim{x -> 0}f(x, y) = lim{x -> 0}cos(xy)y = y
    lim{x -> 0}(lim{y -> 0}f(x, y)) = lim{y -> 0}(lim{x -> 0}f(x, y)) = 0
    |f(x, y)|   = |sin(xy)|/|x|
                <= |xy|/|x|
                <= |y|
                <= ||(x, y)|| -> 0 iff (x, y) -> 0
    therefore |f(x, y)| -> 0, f(x, y) -> 0
d.  if f(x) diverges as x -> 0, λf(x) diverges for all λ != 0:
        otherwise λf(x)/λ converges
    if f(x) converges, g(x) diverges as x -> 0, h(x) = f(x) + g(x) diverges:
        otherwise h(x) - f(x) = g(x) converges as x -> 0
    f(x, y) is continuous on x != 0 and y != 0
    f(x, y) = xsin(1/x)sin(1/y) + ysin(1/x)sin(1/y) doesn't converge as x -> 0 or y -> 0:
        f(x) = sin(1/x) diverges as x -> 0: [-1, 1] ⊆ f(B(0; δ) - {0}) for all δ > 0
        ysin(1/x)sin(1/y) diverges as x -> 0, xsin(1/x)sin(1/y) -> 0 as x -> 0 since sin(1/x)sin(1/y) is bounded
        f(x, y) be the sum of convergent and divergent functions wrt. x or y cannot be convergent
    -(|x| + |y|) <= f(x, y) <= |x| + |y|
    since |x| + |y| <= √2||(x, y)|| -> 0, f(x, y) -> 0
e.  let f:A -> T, p ∈ B ⊆ A, B is an open subset of A, g: B -> T be the restriction of f to B
    if lim{x -> p}g(x) = b, lim{x -> p}f(x) = b:
        p is an accumulation point of B and A
        p is an interior point of B, BS(p; r) ⊆ B for some r
        lim{x -> p}g(x) = b
        => ∀ε>0∃δ>0, g((BS(p; δ) - {p}) ∩ B) ⊆ BT(b; ε)
        // let δ' = min{δ, r}, BS(p; δ) ⊆ B ⊆ A, BS(p; δ') ∩ B = BS(p; δ')
        => ∀ε>0∃δ>0, g((BS(p; δ') - {p})) ⊆ BT(b; ε)
        => ∀ε>0∃δ'>0, f((BS(p; δ') - {p})) ⊆ BT(b; ε) // f is an extension of g f(x) = g(x) for the domain of g
        => ∀ε>0∃δ'>0, f((BS(p; δ') - {p}) ∩ A) ⊆ BT(b; ε) // B ⊆ A
        => lim{x -> p}f(x) = b
    let A = B ∪ C B and C disjoint, f: B -> T, g: C -> T, define h:A -> T that
        h(x)    = f(x) if x ∈ B
                = g(x) if x ∈ C
    if lim{x -> p}f(x) = lim{x -> p}g(x) = b, lim{x -> p}h(x) = b:
        (∀ε>0∃δ>0, f(BS(p; δ) ∩ B - {p}) ⊆ BT(b; ε)) & (∀ε>0∃δ'>0, g(BS(p; δ) ∩ C - {p}) ⊆ BT(b; ε))
        => ∀ε>0∃r>0, h(BS(p; r) ∩ A - {p}) ⊆ BT(b; ε) // r = min{δ, δ'} > 0
        => lim{x -> p}h(x) = b
    f(x, y) is continuous on x, y != π/2 + πn, tanx != tany
    consider an open interval x, y ∈ S = (-π/2, π/2) around 0
    tanx is one-to-one in the interval, tanx = tany iff x = y
    fix y, when x ∈ ((-y, y) ∩ S) - {0}, f(x, y) = (sinx - siny)/(tanx - tany)
    lim{x -> 0}f(x, y) = cosy if y != 0
    when y = 0, f(x, y) = cosx when x != 0, lim{x -> 0}f(x, 0) = 1
    lim{y -> 0}(lim{x -> 0}f(x, y)) = 1
    symmetrically, lim{x -> 0}(lim{y -> 0}f(x, y)) = 1
    let B = {(x, y): x != y, (x, y) ∈ S}, C = S - B = {(x, y): x = y, (x, y) ∈ S}
    f(x, y) = cos^3(x) -> 1 in C as (x, y) -> (0, 0)
    f(x, y) = (sinx - siny)/(tanx - tany)
            = 2cos((x + y)/2)sin((x - y)/2) / (sin(x - y)/cosxcosy)
            = cos((x + y)/2)cosxcosy/cos((x - y)/2)
            -> 1 in B as (x, y) -> (0, 0)
    therefore lim{(x, y) -> (0, 0)}f(x, y) = 1

4.12
if m!x is an integer, m!πx = π + kπ, cos(m!πx) = ±1, cos(m!πx)^2n = 1
if m!x is not an integer, |cos(m!πx)| < 1, |cos(m!πx)^2n| -> 0 as n -> ∞
lim{n -> ∞}cos(m!πx) = A(m) exists, A(m) = 1 when m!x is an integer, A(m) = 0 when m!x is not an integer
for all rational x, x = p/q for some integers p and q, for m >= q, m!x is an integer, lim{m -> ∞}A(m) = 1
if x is irrational, m!x cannot be an integer, A(m) = 0 is constant, lim{m -> ∞}A(m) = 0

4.13
for all irrational p, by continuity, for all ε > 0, there's δ > 0 that d(f(p), f(x)) < ε whenever d(p, x) < δ
there's a rational number x ∈ B(p; δ), d(f(p), 1) < ε for all ε > 0, f(p) = 1

4.14
for all ε > 0, for some δ > 0, d(a, p) < δ => d(f(a), f(p)) < ε
let |x - a| < δ, ||a - (x, a1, .., an)|| = |x - a| < δ, |f(a) - f(p)| = |g(a1) - g(x)| < ε
g(x) is continuous at x = a1

4.15
let f(x, y) = 0 if x = 0 or y = 0
            = 1 otherwise
g(x) = f(x, 0) = 0 is continuous 
h(y) = f(0, y) = 0 is continuous
all B((0, 0); δ) contains some point (x, y) that f(x, y) = 1, f is not continuous at (0, 0)

4.16
f(x):
    for all x ∈ [0, 1] and δ > 0, B(x; δ) contains both rational and irrational numbers
    |f(x) - f(p)| = 1 for some p ∈ B(x; δ), f(x) is not continuous anywhere in [0, 1]
g(x):
    at x = 0, for all ε > 0, let δ = ε, B(x; δ) ∩ [0, 1] = (0, ε)
    for all p ∈ (0, ε), f(p) = 0 or p < ε, g(x) is continuous at 0
    when x != 0, for all δ > 0,
    if x is rational, f(x) = x, B(x; δ) contains a irrational number p, f(p) = 0, |f(x) - f(p)| = x > 0
    if x is irrational, f(x) = 0, (x, x + δ) ⊆ B(x; δ) contains a rational number p, f(p) = p > x, |f(x) - f(p)| > x > 0
h(x):
    if x is rational, x = m/n, f(x) = 1/n > 0, for all δ > 0 B(x; δ) contains a irrational number p, f(p) = 0
    |f(x) - f(p)| > 1/n > 0, h is not continuous at x
    if x is irrational, f(x) = 0, for all ε > 0, there's some N that Nε > 1, ε > 1/N
    let {xmn} be the set of rational numbers m/n where n <= N, m <= n, {xmn} is finite so have no accumulation point
    for some B(x; r), r > 0, B(x; r) is disjoint with {xmn} // otherwise x is an accumulation point of {xmn}
    if any rational p ∈ B(x; r), the denominator of p > N, f(p) < 1/N < ε, |f(x) - f(p)| = f(p) < ε
    h is continuous at all irrational numbers in [0, 1]

4.17
a.  if x is rational, f(x) = x is rational, f(f(x)) = x
    if x is irrational, f(x) = 1 - x is irrational, f(f(x)) = 1 - (1 - x) = x
b.  if x is rational, 1 - x is rational, f(x) + f(1 - x) = x + (1 - x) = 1
    if x is irrational, f(x) + f(1 - x) = 1 - x + 1 - (1 - x) = 1
c.  when x = 1/2, for all ε > 0, let δ = ε, if p ∈ B(1/2; δ) is rational, f(p) = p ∈ B(1/2; δ)
    if p is irrational, f(p) = 1 - p, |f(p) - 1/2| = |1 - p - 1/2| = |1/2 - p| < δ
    f(B(1/2; ε)) ⊆ B(1/2; ε), f is continuous at 1/2
    if x > 1/2 be a rational number, let an irrational p ∈ (x, x + δ) for any δ, f(p) = 1 - p < 1 - x < x
    |f(x) - f(p)|   = |x - 1 + p|
                    > |x - 1 + x|
                    = |2x - 1|
                    = 2|x - 1/2| > 0
    if x > 1/2 is irrational, let a rational p ∈ (x, x + δ) for any δ, f(p) = p > x > 1 - x
    |f(x) - f(p)|   = |p - 1 + x|
                    > |x - 1 + x|
                    = 2|x - 1/2| > 0
    symmetrically at x < 1/2, f is not continuous
d.  for any r in [0, 1], if r is rational, let x = r ∈ [0, 1], f(x) = r
    if r is irrational, let x = 1 - r ∈ [0, 1], f(x) = 1 - (1 - r) = r
e.  if x, y are rational, f(x + y) - f(x) - f(y) = 0
    if x is rational, y is irrational, x + y is irrational
        f(x + y) - f(x) - f(y) = 1 - (x + y) - x - 1 + y = -2x is rational
    symmetrically if x is irrational, y is rational, the the result is rational
    if both x and y are irrational, assume x + y is rational
        f(x + y) - f(x) - f(y) = x + y - 1 + x - 1 + y = 2(x + y) - 2 is rational
    if x + y is irrational,
        f(x + y) - f(x) - f(y) = 1 - (x + y) - 1 + x - 1 + y = -1 is rational

4.18
// thanks solutions manual
let g: S -> U, f: g(S) -> T, f o g continuous at p, g maps open balls to open sets, then f is continuous at g(p)
    for all ε > 0 there's δ, f(g(BS(p; δ))) ⊆ BT(f(g(p)); ε)
    g(BS(p; δ)) is an open set, g(p) ∈ g(BS(p; δ)), BU(g(p); δ') ⊆ g(BS(p; δ)) for some δ'
    f(BU(g(p); δ')) ⊆ f(g(BS(p; δ))) ⊆ BT(f(g(p)); ε) for all ε > 0, f is continuous at g(p)
f(x) = f(x + 0) = f(x) + f(0), f(0) = 0
f(x) is continuous at x0, f(x) - f(x0) = f(x - x0) is continuous at x0
g(x) = x - x0 maps open intervals to open intervals, lim{x -> x0}f(x - x0) = lim{y -> 0}f(y) = f(0) = 0
for any r ∈ R, f(x) = f(r) + f(x - r)
lim{x -> r}f(x) = lim{x -> r}(f(r) + f(x - r))
                = f(r) + lim{x -> r}f(x - r)
                = f(r) + lim{y -> 0}f(0)
                = f(r)
f is continuous on R
for all positive integer n and n, 
f(1) = f(Σ1/n) = Σf(1/n) = nf(1/n), f(1/n) = f(1)/n
f(m/n) = f(Σ1/n) = mf(1/n) = m/n * f(1)
f(x) + f(-x) = f(0) = 0, f(-x) = -f(x)
for all x ∈ Q, f(x) = f(1)x = ax
for irrational x, assume f(x) < ax, |f(x) - ax| = r > 0
for any δ > 0, let q ∈ (x, x + δ) be a rational number, f(q) = aq > ax
|f(q) - f(x)| > |ax - f(x)| = r, f is not continuous at x
symmetrically, f is not continuous at x if f(x) > ax, f(x) = ax for all x ∈ R

4.19
for all x ∈ [a, b], r > 0, 
if g(x + r) ∈ f([a, x]), g(x + r) = g(x)
otherwise g(x + r) ∈ f((x, x + r]) > g(x)
for all ε > 0, assume for all δ > 0, g(B(x; δ)) contains a number g(p) outside B(g(x); ε)
if p > x, g(p) > g(x), |g(p) - g(x)| = g(p) - g(x) >= ε
p = x + r < x + δ, g(p) ∈ f((x, x + r]) ⊆ f((x, x + δ)), g(p) = f(q) for some q ∈ (x, x + δ)
but then |f(q) - f(x)| >= |f(q) - g(x)| = |g(p) - g(x)| >= ε, f is not continuous at x
if p < x, g(p) < g(x) |g(p) - g(x)| = g(x) - g(p) >= ε
p = x - r > x - δ, by a similar argument there's p < q <= x that f(q) - f(p) >= ε, f is not continuous

4.20
fi(x) is continuous at a for all i
fi(Bn(a; δi)) ⊆ B(fi(a); ε) for all i and ε > 0
take δ = min{δi}, assume f is not continuous at a, there's some x ∈ Bn(a; δ) that |f(a) - f(x)| >= ε
if f(a) > f(x), f(a) = fi(a) for some i, fi(x) <= f(x), |fi(a) - fi(x)| >= |f(a) - f(x)| >= ε, fi is not continuous at a
if f(a) < f(x), symmetrically fi is not continuous at a for some i 
f(x) = max{fi(x)} is continuous at a

4.21
// almost identical to the proof of theorem 4.31
let ε = f(p)/2, for some δ, f(Bn(p; δ)) ⊆ B(f(p); ε) = (f(p)/2, 3f(p)/2) ⊆ (0, +∞)
since S is open, p is an interior point, Bn(p; δ') ⊆ S for some δ'
take r = min{δ, δ'}

4.22
A = f^-1({0}), {0} is closed in R, by theorem 4.24 A is closed in S
A = A ∩ S and S is closed in R, A is closed in R

4.23
=>: assume f is continuous
    for all (x, y) ∈ A, f(x) = f(x) + ε > y, f(B(x; δ)) ⊆ B(f(x); ε/2) for some δ > 0
    P = B(x; δ) x (-∞, f(x) - ε/2) ⊆ A is an open interval in R^2, (x, y) ∈ P, B((x, y); r) ⊆ P ⊆ A, A is open
    symmetrically B is open
<=: assume A and B are open
    for a point x, for all ε > 0, (x, f(x) - ε) ∈ A
    B((x, f(x) - ε); r) ⊆ A for some r > 0
    the 2-ball B((x, f(x) - ε); r) contains a 2-d open interval 
        I = (x - r√2/2, x + r√2/2) x (f(x) - ε, f(x) - ε + r√2/2) = X x Y
    therefore x ∈ X implies x > f(x) - ε + r√2/2 > f(x) - ε
    symmetrically, x ∈ X implies x < f(x) - ε, f(B(x; r√2/2)) ⊆ B(f(x); ε), f is continuous at all x ∈ R

4.24
Ωf(T) >= 0 for all T != ∅:
    if T is nonempty, x ∈ T, 0 = f(x) - f(x) ∈ {f(x) - f(y): x, y ∈ T} <= sup{f(x) - f(y): x, y ∈ T}
s(h) = Ωf(B(x; h) ∩ S) is increasing:
    if h1 < h2, B(x; h1) ∩ S ⊆ B(x; h2) ∩ S
    and for all A ⊆ B, {f(x) - f(y): x, y ∈ A} ⊆ {f(x) - f(y): x, y ∈ B}, Ωf(A) <= Ωf(B)
R(s) is bounded from below, inf{R(s)} exists in R
S is a nonempty closed interval, B(x; h) ∩ S is infinite for all x ∈ S and h > 0
lim{h -> 0+}s(h) = inf{R(s)}:
    for all ε > 0, s(h) >= inf{R(s)} >= inf{R(s)} - ε
    if inf{R(s)} ∈ R(s), s(δ) = inf{R(s)} for some δ > 0
    by monotonicity, s((0, δ)) = {inf{R(s)}} ⊆ B(inf{R(s)}, ε)
    if i = inf{R(s)} ∉ R(s), there exists s(δ) ∈ (i, i + ε) for all ε
    by monotonicity, s((0, δ)) ⊆ (i, s(δ)] ⊆ B(i; ε)
if f is continuous at x, for all ε > 0 there's δ that
    f(B(x; δ) ∩ S) ⊆ B(f(x); ε/2)
for all y, z ∈ B(x; δ) ∩ S, |f(y) - f(z)| <= |f(y) - f(x)| + |f(z) - f(x)| < ε
0 <= inf{R(s)} < ε for all ε, inf{R(s)} = 0
conversely, assume inf{R(s)} = 0
if r(δ) = inf{R(s)} = 0 for some δ > 0, f(B(x; δ) ∩ S) = {f(x)} ⊆ B(f(x); ε) for all ε > 0
otherwise r(δ) ∈ (0, ε) for all ε > 0
for all y ∈ B(x; δ) ∩ S, |f(y) - f(x)| < ε, f(B(x; δ) ∩ S) ⊆ B(f(x); ε), f is continuous at x

4.25
assume without loss of generality that x1 < x2
[x1, x2] ⊆ [a, b] is compact, f(p) = inf{f([x1, x2])} for some p ∈ [x1, x2]
for all r > 0, q ∈ B(p; r) ∩ [x1, x2], f(q) >= f(p), p is a local minimum

4.26
f(0) != f(1) by the conditions, if f(0) < f(1),
let 0 < x < y < 1, assume f(x) < f(0), by theorem 4.33 f takes all values in (f(x), f(1)) on (x, 1)
f(0) ∈ (f(x), f(1)), contradicting to the conditions on f, f(x) > f(0)
similarly, f(y) < f(1) and f(x) < f(y), f is strictly increasing on [0, 1]
symmetrically, if f(0) > f(1), f is strictly decreasing on [0, 1]

4.27
a.  let f(x) = inf{f([0, 1])}, there must be another y != x that f(y) = f(x), let y > x
    assume f is continuous on [a, b]
    f cannot be constant on [x, y], let f(z) = sup{f([x, y])}, f(z) > f(x) = f(y), x < z < y
    f(0), f(1) > f(x) by definition, a value p in the interval (f(x), min{f(0), f(z)}) must be repeated three times:
        at least once in (0, x) => (f(x), f(0))
        at least once in (x, z) => (f(x), f(z))
        at least once in (z, y) => (f(y), f(z))
b.  let A = Q ∩ [0, 1], B = ~Q ∩ [0, 1]
    A = {x1, x2, ..} is countable, it can be divided to two similar sets A1 = {x1, x3, ..} and A2 = {x2, x4, ..}
    B is uncountable, let 0.x1x2x3... be the binary representation of x ∈ B 
    let B1 be the set of irrational number in the form 0.0x2x3..
    let B2 be the set of irrational number in the form 0.1x2x3..
    B1 and B2 are disjoint: 
        0.011111.. = 0.1 is not irrational
    B1 and B2 are similar:
        if x = 0.0x2x3.. ∈ B1 is irrational, x + 1/2 = 0.1x2x3.. ∈ B2 is also irrational and vice versa
        if x1 != x2, x1 + 1/2 != x2 + 1/2
    let g be a one-to-one correspondence from A2 ∪ B2 to A1 ∪ B1
    f(x) = x if x ∈ A1 ∪ B1, f(x) = g(x) if x ∈ A2 ∪ B2, f is two-to-one on [0, 1]
c.  // thanks solutions manual
    if f is continuous on an open interval I, I have more than one local maximum / minimum, then a value f(x) is 
    repeated 3 times on I:
        let x1 < x2 be the first two local maximums
        by exercise 4.25, there's a local minimum y between x1 and x2,
        let y1 be the first and only local minimum in (x1, x2), f is decreasing on [x1, y1] and increasing on [y1, x2]
        assume without loss of generality f(x1) <= f(x2), 
        B(x1; r1) ⊆ I for some r > 0, for all x ∈ B(x1; r2), f(x) <= f(x1), let r = min{r1, r2}
        f is increasing on [x1 - r/2, x1], either f is constant on [x1 - r/2, x1] or f(x - r/2) < f(x1)
        f(x - r/2) is repeated three times:
            once at x1 - r/2
            once in (x1, y1)
            once in (y1, x2)
    remove all the discontinuities, 0 and 1, and the corresponding x's that map to the same value, an even number of
    points are removed from [0, 1], resulting in a finite, odd collection of open intervals {Ik}, f is continuous on
    each Ik since discontinuities are all removed
    remove the finite number of local maximum / minimum and the corresponding x's with the same value from {Ik}, again 
    an even number of points are removed, resulting in a finite, odd collection of open intervals {Ij}
    f must be strictly monotonic on all the Ij (local maximums / minimums are all removed, f cannot be constant)
    f(Ij) = Rj is an open interval:
        Rj doesn't have a minimum (or maximum) element, if min{Rj} = f(a), B(a; r) ⊆ Ij, f(a - r/2) < f(a)
        if Rj is bounded, for any r ∈ (inf{Rj}, sup{Rj}) = (a, b)
        there's p ∈ (a, (r - a)/2) and q ∈ ((b - r)/2, b) by the definition of infimum and supremum, by theorem 4.33
        r ∈ [p, q] ⊆ Rj, (inf{Rj}, sup{Rj}) = Rj
        similarly if Rj is not bounded from above or below, all number in (-∞, sup{Rj}), (inf{Rj}, +∞) or R ⊆ Rj
    if Ri ∩ Rj != ∅, Ri = Rj:
        let Ri = (ai, bi), Rj = (aj, bj), assume without loss of generality ai <= aj <= bi <= bj
        if Ri != Rj, ai != aj or bi != bj, assume ai < aj,  aj ∈ Ri and aj ∉ Rj
        f is two-to-one, there must be another Rk that aj ∈ Rk, ak < aj < bk
        but then for some δ, (aj, aj + δ) is covered by Ri, Rj and Rk, any value in that interval is repeated 3 times
    but there are odd number of intervals Ij, they cannot be mapped two-to-one to a set of Rj, f must have infinite
    number of discontinuities

4.28
a.  f(x) = 2x for x ∈ (0, 1/2), f(x) = 1 for x ∈ [1/2, 1)
b.  no such f, continuous function maps connected set to connected set
c.  no such f, Q is disconnected
d.  f([0, 1]) = {0}, f([2, 3]) = {1}
    the two sets are separated by a constant, for small enough δ the other set can be ignored
e.  no such f, [0, 1] x [0, 1] is compact but R^2 is not
f.  no such f, again (0, 1) x (0, 1) is not compact
g.  f(x, y) = (tan(π(x - 1/2)), tan(π(y - 1/2)))

4.29
=>: assume f is continuous 
    f^-1(int(B)) ⊆ f^-1(B), since f is continuous, f^-1(int(B)) the image of an open set is open
    int(f^-1(B)) is the maximum open set contained in f^-1(B), f^-1(int(B)) ⊆ int(f^-1(B))
<=: assume f^-1(int(B)) ⊆ int(f^-1(B)) for all B ⊆ T
    let A be an open set in T, f^-1(int(A)) = f^-1(A) ⊆ int(f^-1(A)), f^-1(A) is open
    the preimage of all open sets is open, f is continuous

4.30
=>: assume f is continuous
    let x ∈ C(A) be an adherent point of A
    for all ε > 0, there's δ that f(BS(x; δ)) ⊆ BT(f(x); ε)
    there's y ∈ BS(x; δ) ∩ A, f(y) ∈ BT(f(x); ε) ∩ f(A), f(x) is an adherent point of f(A)
    f(C(A)) ⊆ C(f(A))
<=: assume f(C(A)) ⊆ C(f(A)) for all A ⊆ S
    let B ⊆ T be a closed set, A = f^-1(B), f(A) = B, f(C(A)) ⊆ C(f(A)) = B, C(A) ⊆ A, A is closed
    preimage of every closed set is closed, f is continuous 

4.31
=>: assume f is continuous on S
    let g: A -> T be the restriction of f to A ⊆ S, let p be an accumulation point of A
    p is also an accumulation point of S, for all ε > 0 there's δ, f(BS(p; δ) ∩ S) ⊆ BT(f(x); ε)
    g(BS(p; δ) ∩ A) = f(BS(p; δ) ∩ A) ⊆ f(BS(p; δ) ∩ S) ⊆ BT(f(x); δ), g is continuous on A
<=: assume f is continuous on every compact subset of S
    let {xn} ⊆ S be a sequence converges to p, A = {p, x1, x2, ..} is compact:
        if the range of {xn} is finite, every finite set is compact
        otherwise an infinite subset of A is a subsequence of A hence has the same limit p
        p is an accumulation point of any subsequence of A, by theorem 3.38 A is compact
    by theorem 4.16, f(xn) -> f(p) in S for all {xn} ⊆ S converges to p, f is continuous on S

4.32
=>: assume f is continuous and closed
    by exercise 4.30, f(C(A)) ⊆ C(f(A))
    f(A) ⊆ f(C(A)), f(C(A)) is closed, C(f(A)) is the minimum closed set containing f(A)
    C(f(A)) ⊆ f(C(A)) ⊆ C(f(A)), f(C(A)) = C(f(A))
<=: assume f(C(A)) = C(f(A)) for all A ⊆ S, f: S -> T
    by exercise 4.30, f is continuous
    for all closed set A, f(A) = f(C(A)) = C(f(A)), the image of A is closed, f is closed

4.33
let xn = (-1)^n * 1/n, xn is a Cauchy sequence since xn -> 0
define f: (R - {0}) -> {0, 1} as:
    f(x)    = 1 if x > 0
            = 0 if x < 0
f is continuous on R - {0}:
    R - {0} = (-∞, 0) ∪ (0, +∞) are the union of two disjoint open sets
    for all p ∈ (-∞, 0), B(p; r) ⊆ (-∞, 0) for some r, f(B(p; r)) = {0}
    similarly f is continuous on (0, +∞)
f(xn) = (-1)^n, for all n >= N, |f(xn) - f(xn+1)| = 1, f(xn) is not a Cauchy sequence

4.34
f(x) = tan(πx/2) is a one-to-one corresponding between (-1, 1) and R
both tan and arctan are continuous on the domain, (-1, 1) and R are homeomorphic

4.35
[0, 1] is compact, f is continuous and one-to-one, by theorem 4.29 f^-1 is also continuous and one-to-one
let T = [0, 1] x [0, 1] - {f(0), f(1/2), f(1)}, S = (0, 1/2) ∪ (1/2, 1), g: T -> S is f^-1 restricted to T
g is continuous on T and g(T) = S, T is arc-wise connected but S is disconnected, contradicting theorem 4.37

4.36
=>: assume S is disconnected
    S = A ∪ B for two nonempty disjoint open sets A and B, let p be an adherent point of A
    B(p; δ) contains a point in A for all δ, if p ∈ B, since B is open, B(p; r) ⊆ B for some r, thus p ∈ A
    C(A) ⊆ A, A is both open and closed, A != S
<=: assume A ⊆ S, A != S, A != ∅, A is both open and closed in S
    let B = S - A, B is both open and closed in (S, d)
    A ∪ B = S, A ∩ B = ∅, S is disconnected

4.37
immediate from 4.36

4.38
let x, y ∈ S, x != y, if S is connected, [x, y] ⊆ S:
    assume for some x < z < y, z ∉ S
    let A = {x: x < z, x ∈ S}, B = {x: x > z, x ∈ S}
    x ∈ A, y ∈ B, A and B are non-empty
    A = (-∞, z) ∩ S is open in S, similarly B is open is S, A and B are disjoint, S is disconnected
if i = inf{S} and s = sup{S} are defined, (inf{S}, sup{S}) ⊆ S // the same argument as in exercise 4.27.c
S is an open, closed or half-open interval depends on whether inf{S}, sup{S} ∈ S
if S is not bounded from above or below, by similar reasoning (-∞, sup{S}), (inf{S}, +∞) or R ⊆ S
otherwise S = {x} or S = {0} are both connected

4.39
int(C(X) ∩ ~X) = ∅:
    int(C(X) ∩ ~X) = int(C(X)) ∩ int(~X), but int(~X) = ~C(X) and int(C(X)) ⊆ C(X)
assume Y is disconnected, Y = A ∪ B, A and B are nonempty, disjoint and open in S
by exercise 4.36,  A is open and closed in (Y, d), A ∩ X is open and closed in (X, d), as X is connected, A ∩ X = ∅ or X
if A ∩ X = ∅, A is disjoint to X, A ⊆ Y - X ⊆ C(X) - X = C(X) ∩ ~X
A is open in S, for all x ∈ A, for some r > 0, B(x; r) ⊆ A ⊆ C(X) ∩ ~X, but int(C(X) ∩ ~X) is empty, A must be empty
if A ∩ X = X, (A ∩ X) ∪ (B ∩ X) = X, B ∩ X = ∅ since A and B are disjoint, by the same argument B must be empty 
therefore Y cannot be disconnected

4.40
by exercise 4.39, if U(x) is not closed, C(U(x)) is a bigger set than U(x) and C(U(x)) is also connected, contradicting
the definition of a component

4.41
by the same argument in exercise 4.38, if a connected subset I of S with at least two different points, I is an interval
S is open, for every x ∈ S, B(x; r) ⊆ S for some r > 0, every component set is infinite
if inf{I} (or sup{I}) ∈ I, inf{I} ∈ S and B(inf{I}; r) ⊆ S, I is not a maximum connected set
all components of (S, d) must be open intervals, by theorem 3.11 (a(x), b(x)) is the maximum open interval containing x, 
F the collection of component intervals is also the collection of maximum connected sets
this doesn't contradict exercise 4.40 since an open set in R may be closed in S, specifically is I = (a, b) is a
component of S, neither a nor b ∈ S:
    if a ∈ S, B(a; r) ⊆ S, (a - r/2, b) ⊆ S, I is not maximum

4.42
assume S is disconnected, S = A ∪ B, both A and B are closed and open in (S, d), S is compact, both A and B are compact
define f: AxB -> R as
    f(x, y) = ||x - y||
f is the composition of subtraction and norm, f is continuous on AxB
A and B are disjoint, f(x, y) > 0 on AxB, inf{f(AxB)} is defined
AxB is compact:
    obviously AxB is bounded
    let x = (x1, x2) be an adherent point of AxB, y = (a, b) ∈ B2(x; r) ∩ AxB for all r > 0
    a ∈ B1(x1; r) and b ∈ B1(x2; r), x1 ∈ C(A) = A, x2 ∈ C(B) = B, (x1, x2) ∈ AxB, AxB is closed
if 0 = inf{f(AxB)}, 0 is an accumulation point of f(AxB), 0 ∈ f(AxB), contradicting f(x, y) > 0
therefore inf{f(AxB)} > 0, A and B is separated by a positive distance
for all ε > 0, a ∈ A, b ∈ B, there's a finite sequence {xn} that
    x0 = a, xn = b, ||xk - xk-1|| < ε
easily proved by induction, there must be some k that xk ∈ A and xk+1 ∈ B, ||xk+1 - xk|| < ε
but then inf{f(AxB)} = 0, therefore S must be connected

4.43
=>: assume S is connected
    if A ⊆ S is a proper subset, ~A is not empty, A and ~A cannot be both open
    assume wlog A is not open, some x ∈ A is also an adherent point of ~A, x ∈ ∂A, ∂A is nonempty
<=: assume every proper subset of S has nonempty boundary
    assume S is disconnected, A ∪ B = S, A and B are open, nonempty and disjoint
    by exercise 4.36 A and B are both closed, C(A) = A, C(B) = B, ∂A = C(A) ∩ C(B) = ∅, but A is a proper subset of S

4.44
let S be a convex subset of R^n, for any two point x, y ∈ S, λx + (1 - λ)y ∈ S for all λ ∈ [0, 1]
f(λ) = λx + (1 - λ)y is a continuous function f: [0, 1] -> S, f(0) = x, f(1) = y, S is arc-wise connected
by theorem 4.42 S is connected

4.45
// thanks solutions manual, the exercise is wrong
the counterexample given in the solutions manual is:
define
    f1(x) = cos(2πx/(1 + x) - π/2), f1([0, +∞)) = [-1, 1] as 2πx/(1 + x) - π/2 takes every value on [-π/2, 3π/2)
    f2(x) = sin(2πx/(1 + x) - π/2), similarly f2([0, +∞)) = [-1, 1]
f(x) = (f1(x), 1 - f2(x)) is one-to-one on [0, +∞) as [-π/2, 3π/2) is an interval with length < 2π
f([0, +∞)) is the unit circle with center (0, 1)
let f(x) = (f1(x), f2(x) - 1) on (-∞, 0), f((-∞, 0)) is the unit circle with center (0, -1) - {(0, 0)}
at everywhere other than 0, components of f are composition of continuous functions
lim{x -> 0-}f(x) = lim{x -> 0+}f(x) = (0, 0) = f(0), f is continuous at 0, f is continuous on R
let A = R - {p} for any point p != 0, A is disconnected and open, but f(A) is connected

4.46
let f be a two-valued function on A ∪ B, since A and B are continuous image of intervals on R, A and B are connected
f is constant on A and B, f(A) = {a} and f(B) = {b}
by continuity, there's f(B((0, 0); δ)) ⊆ B(f(0, 0); 1), f must be constant on B((0, 0); δ)
(0, 0) ∈ A and B((0, 0); δ), B((0, 0); δ) ∩ A != ∅, and for all I = (0, δ), there's x ∈ I that sin(1/x) = 0:
    there's positive integer n that nδπ > 1, 0 < 1/nπ < δ
    let x = 1/nπ, sin(1/x) = sin(nπ) = 0
and ||(x, 0) - (0, 0)|| < δ, (x, 0) ∈ B ∩ B((0, 0); δ), f(B(0, 0); δ) = {a, b}, a must be equal to b
f is constant on A ∪ B, A ∪ B is connected
A ∪ B is not arc-wise connected: assume g: [0, 1] -> A ∪ B has g(0) = (0, 0) and g(1) = (1, sin1)
g = (gx, gy) is continuous, gx and gy are continuous real-valued functions, gy(p) = sin(1/gx(p)) for gx(p) > 0
gx(0) = 0, gx(1) = 1, by theorem 4.38 gx takes any value between 0 and 1 on [0, 1]
g([0, 1]) is the continuous image of a compact set, g([0, 1]) must also be compact on R^2, g([0, 1]) is closed
but (0, 1) is an accumulation point of g([0, 1]) and (0, 1) ∉ A ∪ B:
    for all ε > 0, (0, ε) contains an x that sin(1/x) = 1, ||(0, 1) - (x, 1)|| = x < ε
    x ∈ gx([0, 1]), (x, 1) ∈ g([0, 1])
g([0, 1]) is not closed, A ∪ B is not arc-wise connected

4.47
Fi is closed for all i, ∩Fi is closed
F = ∩Fi ⊆ F1 which is compact, F is bounded, F is compact
assume F = A ∪ B, A and B are open and closed in compact set F, A and B are compact (closed) in R^n
by exercise 4.57, there's disjoint open sets U and V that A ⊆ U and B ⊆ V, F ⊆ U ∪ V
assume for all i, Fi - (U ∪ V) is nonempty, take xi ∈ Fi - (U ∪ V)
{xi} ⊆ F1, {xi} has an accumulation point in F1, by the proof of Cantor intersection theorem xi -> x for some x ∈ F
x ∈ U or x ∈ V, there's a B(x; r) ⊆ U or V, contradicting the definition of {xi}
there must be some i, Fi ⊆ U ∪ V, U ∩ Fi, V ∩ Fi is open and disjoint in Fi, Fi is disconnected
therefore F = ∩Fi must be connected

4.48
if S = ∅, T = R^n, R^n - T = ∅ is connected, similarly if S = R^n, R^n - T = R^n is connected
assume S != ∅ or R^n, S cannot also be closed otherwise R^n is disconnected by exercise 4.36
S != C(S), C(S) ∩ ~S is nonempty
define F = {U(x) the component of x in ~S: x ∈ ~S}, for all U(x) ∈ F, C(S) ∩ U(x) != ∅:
    if U(x) ⊆ ~C(S), U(x) is connected in ~C(S), let V(x) be the component containing x in ~C(S)
    U(x) ⊆ V(x) by the definition of V(x), V(x) ⊆ U(x) by the definition of U(x), U(x) = V(x)
    ~C(S) is open, by theorem 4.44 U(x) is open in ~C(S) and R^n, U(x) is closed in ~S and R^n
    U(x) is open and closed in R^n, U(x) = R^n or ∅, both contradicting the definition of U(x) and S
T ∈ F, define F' = F - {T}, ~T = S ∪ ∪{F'}A
define P = S ∪ ∪{A ∈ F'}(C(S) ∩ A), S ⊆ P ⊆ C(S), by exercise 4.39 P is connected, ~T = P ∪ ∪{F'}A
let f be a two-valued function on ~T, if x ∈ P and y ∈ A for some A ∈ F', f(x) = f(y):
    by definition of P, P ∩ A is nonempty, P and A are connected, f(x) = f(y)
similarly, if both x, y ∈ P or ∪{F'}A, f(x) = f(y), f is constant on ~T, ~T is connected

4.49
assume {x: d(x, a) = r} = ∅ for some a ∈ S, r > 0, then B(a; r) is closed:
    by exercise 3.31, the closed B(a; r) is closed
    as {x: d(x, a) = r}, {x: d(x, a) < r} = {x: d(x, a) <= r}, B(a; r) is closed
B(a; r) is both open and closed, as S is not bounded, B(a; r) != S, also a ∈ B(a; r), B(a; r) is nonempty
by exercise 4.36, S is disconnected, therefore {x: d(x, a) = r} must be nonempty for all a ∈ S and r > 0

4.50
denote f(B(p; δ)) ⊆ B(f(p); ε) as Q(p, δ, ε)
∀ε>0∃δ>0∀p∈S, Q(p, δ, ε) => ∀ε>0∀p∈S∃δ>0, Q(p, δ, ε)

4.51
for all δ > 0, |f(x + δ/2) - f(x)| = (x + δ/2)^2 - x^2 = xδ + δ^2/4 is not bounded
for all ε, δ > 0, there's some x that f(B(x; δ)) is not contained in B(f(x); ε), f is not uniformly continuous

4.52
C(S) is bounded:
    S ⊆ B(0; r) for some r, C(S) ⊆ C(B(0; r)) = {x: d(0, x) <= r} ⊆ B(x; 2r)
C(S) is bounded and closed in R^n, C(S) is compact
there's some δ > 0 for all x ∈ S, f(B(x; δ)) ⊆ B(f(x); 1)
define F = {B(x; δ): x ∈ S}, F is an open covering of C(S):
    let x be an adherent point of S, there's some y ∈ S that d(x, y) < δ/2, x ∈ B(y; δ)
by Heine-Borel theorem, there's a finite sub-collection F' of F that is also a covering of C(S) and S
let M = max{f(x): B(x; δ) ∈ F'}, for all x ∈ S ⊆ ∪{F'}A, f(x) < M + 1, f is bounded on S

4.53
for all ε > 0, there's some δ1 > 0 that, g(B(y; δ1)) ⊆ B(g(y); ε > 0) for all y = f(x) ∈ f(S)
there's δ2 > 0 that, f(B(x; δ2)) ⊆ B(f(x); δ1), h(B(x; δ2)) ⊆ g(B(f(x); δ1)) ⊆ h(h(x); ε) for all x ∈ S

4.54
for all ε > 0, there's δ > 0 that f(B(x; δ)) ⊆ B(f(x); ε/2)
there's N that for all n >= N, d(xn, xN) < δ, xn ∈ B(xN; δ)
for all m, n >= N, 
    d(f(xm), f(xn)) <= d(f(xm), f(xN)) + d(f(xn), f(xN))
                    < ε/2 + ε/2
                    = ε
therefore {f(xm)} is a Cauchy sequence
the two-valued function in exercise 4.33 is not uniformly continuous, for all δ > 0, B(δ/2; δ) contains some negative
number, f(B(δ/2; δ)) = {0, 1}

4.55
let p be an adherent point of A
let xn -> p be any sequence converges to p, f(xn) must converge:
    {xn} is a Cauchy sequence, by exercise 4.54 {f(xn)} is a Cauchy sequence
    T is complete, f(xn) -> b for some b ∈ T
let yn -> p be another sequence in A, it must have f(yn) -> b as well:
    by uniform continuity, for all ε > 0, there's δ that f(BS(xn; δ)) ⊆ BT(f(xn); ε) for all xn
    dS(xn, yn) -> 0, there's K that dS(xn, yn) < δ for all n >= K
    yn ∈ BS(xn; δ), f(yn) ∈ BT(f(xn); ε), dT(f(xn), f(yn)) < ε
    dT(f(xn), f(yn)) -> 0, f(yn) -> b, b is the unique limit of {f(xn)} when xn -> p
define f(p) = b, all xn -> p have f(xn) -> b, f is continuous at p
for some ε > 0 there's δ that, f(BS(x; δ)) ⊆ BT(f(x); ε/2) for all x ∈ A
for all x ∈ BS(p; δ) ∩ A, d(x, p) < δ, dT(f(x), f(p)) < ε/2
if x is another adherent point defined as above, there's some y ∈ BS(x; r) ∩ A ⊆ BS(p; δ) ∩ A, r <= δ
d(y, p) < δ, d(y, x) < r <= δ, by the same argument
    dT(f(x), f(p))  <= dT(f(x), f(y)) + dT(f(p), f(y))
                    < ε/2 + ε/2
                    = ε
this δ for ε/2 on A is the new δ for ε in the new uniform continuity of C(A)

4.56
a.  for all ε > 0, for all p ∈ S and any x ∈ B(p; ε) and a ∈ A,
        d(x, a) <= d(p, a) + d(x, a)
        fA(x)   = inf{d(x, a): a ∈ A} 
                <= inf{d(p, x) + d(p, a): a ∈ A}
                = d(p, x) + inf{d(p, a): a ∈ A}
                < ε + fA(p)
    similarly, fA(p) < fA(x) + ε, |fA(x) - fA(p)| < ε, fA is uniformly continuous on S
b.  =>: assume x ∈ C(A)
        {d(x, a): a ∈ A} is bounded from below by 0
        for all δ > 0, there's a ∈ B(x; δ) ∩ A, inf{d(x, a): a ∈ A} cannot be any positive number
    <=: assume inf{d(x, a): a ∈ A} = 0
        if for some δ > 0, B(x; δ) ∩ A = ∅, δ is a greater lower bound

4.57
by exercise 4.56, g(x) = fA(x) - fB(x) is continuous, for an open set A g^-1(A) is open
U = g^-1((-∞, 0)) and V = g^-1((0, +∞)) are disjoint open sets on S
if x ∈ A = C(A), fA(x) = 0, A and B are disjoint, fB(x) > 0, g(x) = fA(x) - fB(x) < 0, x ∈ U
similarly if x ∈ B, x ∈ U, U and V are two disjoint open sets that A ⊆ U and B ⊆ V

4.58
a.  lim{x -> 0}sinx/x = lim{x -> 0}cosx = 1 != f(0), removable discontinuity, f(x) is continuous everywhere else
b.  lim{x -> 0}e^(1/x) doesn't exist, lim{x -> 0-}e^(1/x) = 0, lim{x -> 0+}e^(1/x) = ∞
    irremovable discontinuity, f(x) is continuous everywhere else
c.  lim{x -> 0}e^(1/x) + sin(1/x) doesn't exist, unremovable discontinuity, continuous everywhere else
d.  lim{x -> 0+}1/(1 - e^(1/x)) = 0, lim{x -> 0-}1/(1 - e^(1/x)) = 1, irremovable discontinuity at x = 0
    for all x ∈ R - {0},, e^(1/x) != 1, continuous everywhere else

4.59
a.  (0, 0)
b.  (xy)^2 + (x - y)^2 = 0 only when (x, y) = (0, 0), lim{(x, y) -> (0, 0)}f(x, y) doesn't exist
c.  // informal
    let z = xy, sin(xy)/x = sin(z)/z * y = g(z)h(y)
    (x, y) -> (0, b) iff (z, y) -> (0, b) for b != 0
    lim{(x, y) -> (0, b)}f(x, y) = lim{(z, y) -> (0, b)}g(z)h(y) = y
    f is continuous on R^2
d.  lim{(x, y) -> (a, 0)}f(x, y) and lim{(x, y) -> (0, b)}f(x, y) doesn't exist for all a, b != 0
    lim{(x, y) -> (0, 0)}f(x, y) = 0 = f(0, 0)
e.  for all tanx = tany, if sinx != siny, the limit doesn't exist
    otherwise by exercise 4.11, f is continuous

4.60
for two open intervals P and Q on R, if R is increasing on P and Q, P ∩ Q != ∅, then f is increasing on P ∪ Q:
    if P ⊆ Q or Q ⊆ P, nothing to prove
    assume wlog P = (a, b), Q = (c, d), a <= c < b <= d
    let x, y ∈ P ∪ Q, x < y, if x, y ∈ P or Q, f(x) <= f(y)
    otherwise x ∈ P - Q = (a, c), y ∈ Q, there's some z ∈ (c, y) ⊆ P ∩ Q that f(x) <= f(z) <= f(y)
    symmetrically x ∈ P and y ∈ Q - P, f(x) <= f(y)
assume there's some q, p that a < q < p < b but f(q) > f(p)
define X = {x: (q, x) is increasing}, X is bounded from above by p, sup(X) = s is defined
but then f is increasing on B(s; r) for some r > 0, B(s; r) ∩ (q, x) != ∅, f is increasing on (q, s + r/2)
s + r/2 ∈ X, contradicting the definition of s

4.61
f is continuous on compact set S = [a, b], f([a, b]) = [inf(S), sup(S)]
if inf(S) = sup(S), f is constant on [a, b], assume inf(S) < sup(S)
if for any x ∈ (a, b), f(x) = inf(S) or sup(S), for some r > 0 B(x; r) ⊆ S and x is a local maximum or minimum
assume wlog f(a) = inf(S), then f(b) = sup(S), f(a) < f(b)
assume for some p, q ∈ (a, b), p < q, f(p) > f(q), then f(a) < f(q) < f(p) < f(b)
A = [p, b] is compact, inf(f(A)) ∈ f(A), q ∈ (q, b), f(q) < f(p) < f(b), for some t ∈ (q, b) f(t) = sup(A)
then t is an interior local minimum of [q, b] and [a, b], therefore f must be increasing on (a, b)
f(a) = sup(S), f(p) >= f(a) for all p ∈ [a, b], f(p) <= f(b) for all p ∈ [a, b], f is increasing on [a, b]
additionally, if for some p < q, f(p) = f(q), f is constant on [p, q], any point in (p, q) is local maximum and minimum
f must be strictly monotonic on [a, b]

4.62
there's no local maximum / minimum on (a, b):
    let p be a local minimum of f on (a, b), B(p; r) ⊆ (a, b)
    there's x ∈ (p - r, p), y ∈ (p, p + r) that f(x), f(y) > f(p)
    [x, p] and [p, y] are compact, (f(p), f(x)) ⊆ f((x, p)), (f(p), f(y)) ⊆ f((p, y)), the two images are not disjoint
by exercise 4.61, f is strictly monotonic on [a, b]

4.63
a.  for increasing f, p < q, f(p+) <= f(q-):
        f(p+) = inf{f(x): x > p} = inf(A), f(q-) = sup{f(x): x < q} = sup(B)
        there's some m ∈ (p, q) that, f(m) ∈ A ∩ B, by definition f(p+) <= f(m) <= f(q-)
    let a = x0, b = xn+1,
    Σ{1 <= k <= n}(f(xk+) - f(xk-)) - f(b-) + f(a+)
    = -Σ{0 <= k <= n}(f(xk+1-) - f(xk+))
    <= 0
    Σ{1 <= k <= n}(f(xk+) - f(xk-)) <= f(b-) - f(a+)
b.  the only kind of discontinuity is f(p-) != f(p+):
        if f(p-) (or f(p+)) doesn't exist, {f(x): x < p} is not bounded from above
        there must be y ∈ [a, p), f(y) > f(b)
        if f(p-) = f(p+), f(p-) <= f(p) <= f(p+), f(p) = f(p-) = f(p+)
    sum of an uncountable set of positive numbers cannot be finite:
        let A be a set of positive numbers, ΣA <= M for some constant M
        let An = {x: x >= M/n, x ∈ A}, ΣAn <= ΣA <= M, |An| <= n
        if x ∈ A, x > 0, there's nx > 1, x > 1/n, x ∈ An
        A = ∪An is a countable union of finite sets, A must be countable
    so the set of discontinuities must be countable 
c.  every open sub-interval has uncountable elements but there are only countable discontinuities

4.64
define g: [0, 2] -> R as:
    g(x)    = x on [0, 1]
            = x + 1 on (1, 2]
g is not continuous and strictly increasing 
by theorem 4.52 g^-1 is strictly increasing on g(S)
let f = g^-1, f^-1 = g is not continuous

4.65
a.  for an open set T ⊆ f(S), let x ∈ f^-1(T)
    for all ε > 0 and f(x) ∈ f(S), f(S) is open, there's some B(f(x); r) ⊆ f(S) with r <= ε
    f^-1 is strictly increasing, let p = f^-1(f(x) - r/2), q = f^-1(f(x) + r/2), p < x < q
    for some B(x; δ) ⊆ (p, q), for all y ∈ B(x; δ), f(p) < f(y) < f(q), f(B(x; δ)) ⊆ B(f(x); r) ⊆ B(f(x); ε)
b.  f(S) is connected in R, f(S) is empty, a singleton or an interval
    when f(S) is empty or a singleton there's nothing to prove
    if f(S) is an interval, let int(f(S)) = (a, b), where a or b may be unbounded
    by part a, f is continuous on f^-1((a, b))
    if f(x) = a, x = sup(S)
    for all ε > 0, B(a; ε) ∩ f(S) ⊆ [a, a + ε), there's some p that f(y) = p ∈ (a, a + ε) ∩ f(S)
    x < y, let δ = (y - x)/2, B(x; δ) ∩ S ⊆ (x, y), f(B(x; δ)) ⊆ B(a; ε)
    symmetrically if f(x) = b, f is continuous at x
    f is continuous on f^-1((a, b)) ∪ f^-1({a, b}) = f^-1(f(S)) = S
c.  by part a, f is continuous on f^-1(int(f(S)))
    if for some x, f(x) ∈ f(S) - int(f(S)), then x is an isolated point of f(S) or an accumulation point of f(S) 
    if f(x) is isolated:
        assume x is not isolated, there's infinite {xn} ⊆ S - {x} that xn -> x
        {xn} = ({xn} ∩ (-∞, x)) ∪ ({xn} ∩ (x, +∞)), one of them must be infinite
        assume wlog {yn} = {xn} ∩ (-∞, x) is infinite, {f(yn)} is bounded from above by f(x) by strictly increasing f
        sup{f(yn)} = f(x-) <= f(x), since f(S) is closed, f(x-) ∈ f(S), there's some y = f^-1(f(x-))
        if f(x-) = f(x), f(x) is not isolated, so f(x-) < f(x), y < x
        but there's some yn that y < yn < x, f(yn) > y = sup{f(yn)}, contradiction
        so x is isolated in S, f(B(x; δ)) = {f(x)} ⊆ B(f(x); ε) for some δ and all ε > 0, f is continuous at x
    if f(x) is an accumulation point:
        for all ε > 0, B(f(x); ε) ∩ f(S) is infinite
        if both B(f(x); ε) ∩ f(S) ∩ (-∞, f(x)) and B(f(x); ε) ∩ f(S) ∩ (f(x), +∞) are not empty
        it can be proved in the same way as part a
        otherwise assume wlog B(f(x); ε) ∩ f(S) ⊆ [f(x); +∞):
            sup{f(y): y < x} = u < f(x) 
            as f(S) is closed, u = f(y) for some y, (y, x) is disjoint with S, x is left isolated
            take any f(z) ∈ B(f(x); ε), f(B(x; z - x) ∩ S) = f((x, z)) ⊆ B(f(x); ε), f is continuous at x
    
4.66
a.  d(f, f) = ||f - f|| = 0
    if f, g are bounded, f - g is bounded
    d(f, g) = sup|f(x) - g(x)| >= 0 as |f(x) - g(x)| >= 0
    d(f, g) = ||f - g|| = sup|f(x) - g(x)| = sup|g(x) - f(x)| = ||g - f|| = d(g, f)
    ||f|| + ||g|| >= ||f + g||:
        ∀x∈S∀y∈S, |f(x)| <= ||f|| & |g(y)| <= ||g||
        => ∀x∈S∀y∈S, x = y => |f(x)| <= ||f|| & |g(y)| <= ||g||
        => ∀x∈S, |f(x)| <= ||f|| & |g(x)| <= ||g||
        => ∀x∈S, |f(x)| + |g(x)| <= ||f|| + ||g||
        => ∀x∈S, |f(x) + g(x)| <= ||f|| + ||g||
        => ||f|| + ||g|| is an upper bound of |f(x) + g(x)|
        => ||f|| + ||g|| >= ||f + g||
    d(f, g) + d(g, h)   = ||f - g|| + ||g - h||
                        >= ||f - g + g - h||
                        = ||f - h||
                        = d(f, h)
b.  for all ε > 0, there's some N that if m, n >= N, d(fm, fn) = sup|fm(x) - fn(x)| < ε
    |fm(x) - fn(x)| < ε for all x in S, {fn(x)} is a Cauchy sequence in R, fn(x) -> y
    and {fn(x)} converges uniformly on S: 
        for all ε > 0 and all x ∈ S, there's N that |fm(x) - fn(x)| < ε/2
        by the proof of theorem 4.8, let b be the limit of {fn(x)}, |fn(x) - b| < ε for all x
    define f:S -> R, f(x) = lim{n -> ∞}fn(x)
    for all ε > 0 and x ∈ S, there's N that, |f(x) - fn(x)| < ε/2
    d(f, fn) = sup|f(x) - fn(x)| <= ε/2 < ε, fn -> f, (B(S), d) is complete

4.67
a.  let f be an adherent point of C(S)
    for all ε > 0, there's g ∈ C(S) that sup|f(x) - g(x)| < ε/4
    there's also δ > 0 that g(BS(x; δ)) ⊆ B(g(x); ε/2)
    for all y ∈ B(x; δ)
    |f(y) - f(x)|   <= |f(y) - g(y)| + |g(y) - g(x)| + |g(x) - f(x)|
                    < ε/4 + ε/2 + ε/4
                    = ε
    hence f is continuous on S
b.  closed subset of a complete space is complete:
        assume T complete, B ⊆ T is closed, let {xn} ⊆ B be a Cauchy sequence
        {xn} ⊆ T, xn -> p for some p ∈ T
        p is an accumulation point of {xn} and B, p ∈ B, {xn} converges in B
    C(S) is a closed subset of B(S), C(S) is complete

4.68
a.  d(p, pn)    <= Σ{n <= k}d(pk, pk+1)
                <= d(pn, pn+1) * 1/(1 - α)
                <= d(x, f(x)) * α^n/(1 - α)
b.  f(x) - f(y) = 1/2 * (x + 2/x - y - 2/y)
                = 1/2 * (x - y) + (y - x)/xy
    xy >= 1, -(x - y)/2 <= f(x) - f(y) <= (x - y)/2, |f(x) - f(y)| <= 1/2|x - y|
    f(√2) = (√2 + 2/√2)/2 = √2, √2 is a fixed point, by theorem 4.48 it is unique 
    f(1) = 3/2
    |p - pn|    <= |3/2 - 1|(1/2)^n/(1 - 1/2)
                = (1/2)^n

4.69
a.  the contraction in exercise 4.68 in space R - {√2}
b.  f(x) = 2x, |f(x) - f(y)| = 2|x - y|, f^n(x) -> ±∞ for all |x| > 1

4.70
there's some αm ∈ B(0, 1), if αm <= 0, d(f^m(x), f^m(y)) = 0 for all x, y ∈ S, f^m(x) is a unique fixed point in S
if 0 < αm < 1, f^m is a contraction in complete space S, f^m has a unique fixed point p, f^m(p) = p
d(f^n(x), f^n(y)) < αn * d(x, y) -> 0
for all ε > 0, for there's N that for all n >= N, d(f^n(x), f^n(p)) < ε/2
let pn = f^n(x), d(pn+2, pn+1) <= αnd(pn+1, pn)
there's some N that for all n >= N, αn < 1, by proof of theorem 4.48 {pn} converges
the subsequence {pmk} converges to p, {pn} converges to p as well

4.71
a.  assume f(p) = p, f(q) = q for some p != q
    d(f(p), f(q)) = d(p, q) < d(p, q), there cannot be more than one fixed point of f in S
    let S = ((0, +∞), d), f(x) = x/2
    |f(x) - f(y)| = |x - y|/2 < |x - y|, but the only fixed point 0 ∉ S
b.  f(x) is continuous:
        for all ε > 0, whenever d(x, y) < ε, d(f(x), f(y)) < ε
    let f:S -> S be a continuous function, let g(x) = d(x, f(x)), g:S -> R is continuous:
        for all ε > 0, there's δ that f(B(x; δ)) ⊆ B(f(x); ε/2)
        take r = min{δ, ε/2}, for all y ∈ B(x; r):
            d(y, f(y))  <= d(y, x) + d(x, f(x)) + d(f(x), f(y))
                        < d(x, f(x)) + ε
        symmetrically, d(x, f(x)) < d(y, f(y)) + ε, g(y) ∈ B(g(x); ε)
    S is compact, the image g(S) is compact
    define dn = d(f^n+1(x), f^n(x)) for some x ∈ S, dn is decreasing and bounded from below, {dn} ⊆ f(S)
    then {dn} has a accumulation point and limit in S, g(y) = d(y, f(y)) = inf{dn}
    if g(y) > 0, y != f(y), g(f(y)) < g(y), g(y) is not the infimum
    therefore g(y) = 0, f(y) = y, y is a fixed point, by part a y is unique
c.  define f:[0, 1/2] -> R, f(x) = x^2
    when x != y, |x + y| < 1, |f(x) - f(y)| = |x + y||x - y| < |x - y|
    for all 0 < α < 1, let x = 1/2, there's y that x + y > α
    |f(x) - f(y)| = |x + y||x - y| > α|x - y|

4.72
a.  cn+1 = d(pn+1, pn+2) = d(f(pn), f(pn+1))
    if pn = pn+1, cn+1 = cn, otherwise cn+1 < cn
b.  by exercise 4.71, g(x) = d(x, f(x)) is continuous, lim{n -> ∞}g(pk(n)) = g(lim{n -> ∞}pk(n)) = g(q)
    {g(pk(n))} is a subsequence of {cn}, as cn converges, cn -> g(q) = d(q, f(q)) = c
    if q != f(q), g(f(q)) < g(q), but g(q) is the infimum, thus q = f(q) is a fixed point 
    by exercise 4.71.a, q is unique, pn -> q for all x

5.1
// how is irrational exponent defined here?
a.  for all α > 0, dx^α/dx = αx^(1 - α) > 0 for x > 0, x^α is strictly increasing
    for all ε > 0, if |x - c| < (ε/M)^1/α, |x - c|^α < ε/M, |f(x) - f(c)| < M|x - c|^α < ε, f is continuous
    |f(x) - f(c)|/|x - c| < M|x - c|^(α - 1), again let |x - c| < (ε/M)^(1/(α - 1))
    |f(x) - f(c)|/|x - c| < M|x - c|^(α - 1) < ε, (f(x) - f(c))/(x - c) -> 0, f'(c) = 0
b.  define f as:
        f(x) = 2|x - c|
    then |f(x) - f(c)| = 2|x - c| < 3|x - c|, but f is not differentiable at c:
        lim{x -> c-}(f(x) - f(c))/(x - c) = -2
        lim{x -> c+}(f(x) - f(c))/(x - c) = 2

5.2
a.  f'(x) = 3x^2 + a
    if a >= 0, f(x) is increasing on R, no maxima or minima
    if a < 0, f'(x) < 0 and f(x) is strictly decreasing on (-√(-a/3), √(-a/3)) and increasing everywhere else
    -√(-a/3) is a local maxima, √(-a/3) is a local minima
b.  f'(x) = 2x/(x^2 - 9), f is strictly decreasing on (-∞, -3) and strictly increasing on (3, +∞)
    no maxima or minima
c.  f'(x)   = 2/3 * x^(-1/3) * (x - 1)^4 + 4 * x^(2/3) * (x - 1)^3
            = 2/3 * x^(-1/3) * (x - 1)^3 * (7x - 1)
    is negative on (0, 1/7) and positive on (1/7, 1), x = 1/7 is a global maxima
    f(x) >= 0, f(0) = f(1) = 0 are global minimas
d.  lim{x -> 0}sinx/x = 1 = f(0), f is continuous at 0
    sinx/x >= cosx:
        (sinx - xcosx)' = cosx - cosx + xsinx > 0 on (0, π/2), sin0 - 0cos0 = 0
        sinx/x - cosx = (sinx - xcosx)/x > 0 on (0, π/2]
    f'(x)   = cosx/x - sinx/x^2
            = 1/x^2(xcosx - sinx)
            < 0 on (0, π/2)
    f is strictly decreasing on [0, π/2], f(0) is a global maxima, f(π/2) is a global minima

5.3
f'(x) must have degree >= 1 or b1 = b2 for all x1, x2
assume f(x) = ax^2 + bx + c, f'(x) = 2ax + b, two points (x1, b1) and (x2, b2) determines a and b
(x1, a1) determines c, (x2, a2) may not lie on the quadratic function f(x)
f(x) must have degree >= 3, f(x) = ax^3 + bx^2 + cx + d, a, b, c and d are solutions to the equations:
    3ax1^2 + 2bx1 + c = b1
    3ax2^2 + 2bx2 + c = b2
    ax1^3 + bx1^2 + cx1 + d = a1
    ax2^3 + bx2^2 + cx2 + d = a2
depends on a1, a2, b1 and b2 there may be solutions of lower orders

5.4
a.  lim{x -> 0}e^(-1/x^2) = 0, f is continuous at 0 and R
b.  let y = 1/x, for all positive integer n
    lim{x -> 0}e^(-1/x^2)/x^n   = lim{y -> ∞}e^(-y^2)/y^-n
                                = lim{y -> ∞}y^n/e^(y^2) = 0
    since exponential function grows faster than polynomial functions
    lim{x -> 0}(f(x) - f(0))/(x - 0) = lim{x -> 0}e^(-1/x^2)/x = 0
    assume f^(n)(x) = Σ{k <= n}ak * e^(-1/x^2)/x^k, f^(n+1)(x) = Σ{k <= m}bk * e^(-1/x^2)/x^k:
        f^(0)(x) = e^(-1/x^2), n = 0, a0 = 1
        (ak * e^(-1/x^2)/x^k)'  = ak * f(x) * -1/x^3 * 1/x^k + ak * f(x) * -1/x^(k+1)
                                = -ak * f(x)/x^(k+3) - ak * k * f(x)/x^(k+1)
    f^(n)(0) = 0:
        f(0) = 0
        assume f^(n)(0) = 0
        f^(n+1)(0)  = lim{x -> 0}(f^(n)(x) - f^(n)(0))/(x - 0)
                    = lim{x -> 0}Σanf(x)/x^(n+1)
                    = 0
    and f^(n)(0) is continuous everywhere else

5.5
a.  f'(x) = -cos(1/x)/x^2 by chain rule
    lim{x -> 0}(f(x) - f(0))/(x - 0) = lim{x -> 0}sin(1/x)/x doesn't exist
    otherwise sin(1/x) -> 0 since sin(1/x) = sin(1/x)/x * x, but lim{x -> 0}sin(1/x) doesn't exist
b.  g'(x) = sin(1/x) + xcos(1/x) * -1/x^2 = sin(1/x) - cos(1/x)/x by chain rule
    g(x) -> 0 as x -> 0
    lim{x -> 0}(g(x) - g(0))/(x - 0)    = lim{x -> 0}xsin(1/x)/x
                                        = lim{x -> 0}sin(1/x)
    doesn't exist
c.  h'(x)   = 2xsin(1/x) - x^2cos(1/x) * 1/x^2
            = 2xsin(1/x) - cos(1/x)
    lim{x -> 0}(h(x) - h(0))/(x - 0)    = lim{x -> 0}x^2sin(1/x)/x
                                        = lim{x -> 0}xsin(1/x)
                                        = 0
    lim{x -> 0}h'(x) = lim{x -> 0}2xsin(1/x) - cos(1/x) doesn't exist as lim{x -> ∞}cos(1/x) doesn't exist

5.6
C(0, 0) = 0!/0!0! = 1
h^(0)(x) = f(x)g(x) = C(0, 0)f^(0)(x)g^(0)(x)
assume h^(n)(x) = ΣC(n, k)f^(k)(x)g^(n-k)(x)
h^(n+1)(x)  = Σ{0 <= k <= n}C(n,k)(f^(k+1)(x)g^(n-k)(x) + f^(k)(x)g^(n-k+1)(x))
            = Σ{0, n}C(n, k)f^(k+1)g^(n-k) + Σ{0, n}C(n, k)f^(k)g^(n-k+1)
            = Σ{1, n+1}C(n, k-1)f^(k)g^(n+1-k) + Σ{0, n}C(n, k)f^(k)g^(n+1-k)
            = C(n, 0)fg^(n+1) + Σ{1, n}(C(n, k-1) + C(n, k))f^(k)g^(n+1-k) + C(n, n)f^(n+1)g
            = C(n+1, 0)fg^(n+1) + Σ{1, n}C(n+1, k)f^(k)g^(n+1-k) + C(n+1, n+1)f^(n+1)g
            = Σ{0, n+1}f^(k)g^(n+1-k)

5.7
if f^(n) is infinite at c, f^(n+1) is not defined at c, thus f' and f'' are finite everywhere
a.  (fg)' = f'g + g'f = 0, divide both sides by 1 = gf
    f'/f + g'/g = 0, as gf = 1, g and g are never 0
b.  f'g + g'f = 0, f'g = -g'f
    (fg)''  = f''g + 2f'g' + fg'' = 0, divide both sides by f'g = -g'f
    f''g/f'g + 2f'g'/-fg' + fg''/-fg' = 0
    f''/f' - 2f'/f - g''/g' = 0
c.  (fg)''' = f'''g + 3f''g' + 3f'g'' + fg''' = 0, divide both sides by f'g = -fg'
    f'''g/f'g + 3f''g'/-fg' + 3f'g''/-fg' + fg'''/-fg' = 0
    f'''/f' - 3f''/f - 3f'g''/fg' - g'''/g' = 0
d.  by part b,
    (f''/f')^2 - (g''/g')^2 = (f''/f' - g''/g')(f''/f' + g''/g')
                            = 2f'/f(f''/f' + g''/g')
                            = 2f''/f + 2f'g''/fg'
    by part c, 
    f'''/f' - g'''/g' - 3/2((f''/f')^2 - (g''/g')^2)
    = f'''/f' - g'''/g' - 3f''/f' - 3f'g''/fg'
    = 0
    f'''/f' - 3/2(f''/f')^2 = g'''/g' - 3/2(g''/g')^2
e.  if c = 0, g(x) = af/d + b/d where ad != 0, a/d != 0
    g^(n) = af^(n)/d, g'''/g' = f'''/f', g''/g' = f''/f'
    if c != 0, g = a/c + (bc - ad)/(c(cf + d))
    g = p + q/(rf + s), let h = rf + s, t = q/h
    g = p + t, (d) holds for g and t
    th = q, (d) holds for h and t
    h = rf + s, (d) holds for h and f
    g => t => h => f, Schwarzian derivative of g and f are equal

5.8
a.  F = f1g2 - f2g1
    F'  = f1'g2 + f1g2' - f2'g1 - f2g1'
        = det[f1', f2'; g1, g2] + det[f1, f2; g1', g2']
b.  let Fn be a determinant of n x n functions f11, .., fnn
    Fn' = Σ{k}Dn,k, where Dn,k is the determinant of a matrix {fmn}, kth row are first derivatives
    let F{i,j} be the determinant of matrix F without ith row and jth column 
    n = 1 is trivial, assume Fn' = Σ{k}Dn,k
    Fn+1'   = (Σ(-1)^(k+1) * f1k * F{1,k})'
            = Σ(-1)^(k+1) * (f1k' * F{1, k} + f1k * F{1, k}')
            = Σ(-1)^(k+1) * (f1k' * F{1, k} + f1k * ΣD{1, k},j)
            = Dn+1,1 + Σ(-1)^(k+1)f1k * ΣD{1,k},j
            = Dn+1,1 + Σ{1 <= j <= n}Σ{1 <= k <= n+1}(-1)^(k+1)f1k * D{1,k},j
            = Dn+1,1 + Σ{1 <= j <= n}Dn+1,j+1
            = ΣDn+1,k

5.9
a.  by exercise 5.8, Wn' = ΣDn,k
    for all k but k = n, kth and k+1th rows of Dn,k are equal, Dn,k = 0, Wn' = Dn,n
b.  if h = Σckfk = 0, h^(n) = Σckfk^(n) = 0 for all n
    the columns of Wronskian are linearly dependent, the determinant is 0
c.  W = fg' - f'g = 0
    assume f != 0 on (a, b), 
    (g/f)'  = g'/f - gf'/f^2
            = g'/f - fg'/f^2
            = g'/f - g'/f
            = 0
    g/f is a constant on (a, b), let k = g/f, kf = g, kf - g = 0

5.10
if lim{x -> b-}f'(x) = p exists and is finite, for all x ∈ (b - δ, b), f'(x) ∈ B(p; 1) for some δ
as lim{x -> b-}f(x) = +∞, there must be some x on (b - δ, b) that
    f(x) > f(b - δ) + δ(p + 1)
    f(x) - f(b - δ) > δ(p + 1)
    (f(x) - f(b - δ))/δ > p + 1
by mean-value theorem, there must be some y ∈ (b - δ, x) that
    f(x) - f(b - δ) = f'(y)(x - (b - δ))
    f'(y)   = (f(x) - f(b - δ))/(x - (b - δ)) 
            > (f(x) - f(b - δ))/δ 
            > p + 1
but y ∈ (b - δ, b), f'(y) < p + 1, therefore lim{x -> b-}f'(x) cannot be finite

5.11
if h > 0, let (a, b) = (x, x + h), the mean-value theorem has the form
    (f(x + h) - f(x))/(x + h - x) = f'(c)
    (f(x + h) - f(x))/h = f'(c) for some c in (x, x + h)
    x < c < x + h, let θ = (c - x)/h, c = x + θh, 0 < θ < 1
and symmetrically proved if h < 0
a.  (f(x + h) - f(x))/h = (2xh + h^2)/h
                        = 2x + h
                        = 2(x + h/2)
                        = f'(x + h/2)
    θ = 1/2
b.  (f(x + h) - f(x))/h = (3x^2h + 3xh^2 + h^3)/h
                        = 3x^2 + 3xh + h^2
                        = 3(x + θh)^2
                        = 3x^2 + 6θxh + 3θ^2h^2
    h^2θ^2 + 2xhθ - xh - h^2/3 = 0
    d   = 4x^2h^2 + 4h^2(xh + h^2/3)
        = 4x^2h^2 + 4xh^3 + 4h^4/3
    θ   = (±√(4x^2h^2 + 4xh^3 + 4h^4/3) - 2xh)/2h^2
        = (±√(x^2 + xh + h^2/3) - x)/h
    if x > 0,
        xh + h^2/3 > 0 when h(h + 3x) > 0, xh + h^2/3 is negative on (-3x, 0)
        on (-3x, 3x), θ = ((√x^2 + xh + h^2/3) - x)/h
        lim{h -> 0}θ    = lim{h -> 0}((√x^2 + xh + h^2/3) - x)'
                        = lim{h -> 0}1/2 * 1/√(x^2 + xh + h^2/3) * (x + 2h/3)
                        = 1/2 * x/√x^2
                        = 1/2
    if x < 0, 
        -x > 0, when h -> 0, |√(x^2 + O(x)) - x|/|h| ≒ |2x|/|h| > 1
        for small h it must have θ = (-√(x^2 + xh + h^2/3) - x)/h
        similarly,
        lim{h -> 0}θ    = -1/2 * x/√x^2
                        = 1/2 * x/-x
                        = 1/2
c.  (f(x + h) - f(x))/h = (e^(x + h) - e^x)/h
                        = e^x * (e^h - 1)/h
                        = e^(x + θh)
    (e^h - 1)/h = e^θh
    log((e^h - 1)/h) = θh
    θ = log((e^h - 1)/h)/h
    lim{h -> 0}θ    = lim{h -> 0}(log((e^h - 1)/h))'
                    = lim{h -> 0}(he^h - e^h + 1)/h(e^h - 1)
    as e^h = Σh^n/n! = 1 + h + h^2/2 + O(h^3),
    he^h - e^h + 1  = h + h^2 - h - h^2/2 + O(h^3) = h^2/2 + O(h^3)
    h(e^h - 1) = h(h + h^2/2 + O(h^3)) = h^2 + O(h^3)
    lim{h -> 0}θ    = lim{h -> 0}(h^2/2 + O(h^3))/(h^2 + O(h^3))
                    = 1/2
d.  (f(x + h) - f(x))/h = (log(x + h) - logx)/h
                        = log((x + h)/x)/h
                        = 1/(x + θh)
    x + θh = h/log((x + h)/x)
    θ   = (h/log((x + h)/x) - x)/h
        = 1/log(1 + h/x) - x/h
    let y = h/x
    lim{h -> 0}θ    = lim{y -> 0}(1/log(1 + y)) - 1/y
                    = lim{y -> 0}(y - log(1 + y))/ylog(1 + y)
    log(1 + y) = Σ{n >= 1}(-1)^(n+1) * y^n/n = y - y^2/2 + O(y^3)
    y - log(1 + y) = y^2/2 + O(y^3)
    ylog(1 + y) = y^2 + O(y^3)
    lim{h -> 0}θ    = lim{y -> 0}(y^2/2 + O(y^3))/(y^2 + O(y^3))
                    = 1/2
                    
5.12
f'(x) = 12x^3 - 6x^2 - 2x
g'(x) = 12x^2 - 6x - 2
f'(x)/g'(x) = x when g'(x) != 0
(f(1) - f(0))/(g(1) - g(0)) = (1 - 1)/(-1 - 0) = 0
at 0 < x1 = (√33 - 3)/12 < 1, f'(x1) = g'(x1) = 0, (f(1) - f(0))g'(x1) = (g(1) - g(0))f'(x1) = 0
but the quotient is not defined at x1

5.13
when n = 1, theorem 5.20 has the form 
    (f(b) - f(a))g'(x1) = (g(b) - g(a))f'(x1), a < x1 < b
a.  f'(x) = cosx, g'(x) = -sinx
    (sinb - sina)-sin((a + b)/2)    = -2sin((a - b)/2)cos((a + b)/2)sin((a + b)/2)
                                    = (cosb - cosa)cos((a + b)/2)
b.  f'(x) = e^x, g'(x) = -e^-x
    (e^b - e^a)-e^-((a + b)/2)  = -(e^((b - a)/2) - e^((a - b)/2))
                                = (e^-b - e^-a)e^((a + b)/2)
for both part a and b, f'(x) = g(-x), g'(x) = -f(x)
if additionally
    (f(a) - f(b))f((a + b)/2) = (g(b) - g(a))g(-(a + b)/2)
then x1 = (a + b)/2 in theorem 5.20 with n = 1

5.14
for all ε > 0, let 1/N < ε, for all n, m >= N, by mean-value theorem,
    |f(1/n) - f(1/m)|   = |f'(c)(1/n - 1/m)|
                        < |1/n - 1/m|
                        < |1/N|
                        < ε
therefore {an} is a Cauchy sequence, {an} converges in complete space R

5.15
by mean-value theorem, for all x on (a, b),
    f(x) - f(c) = f'(r)(x - c)
    f'(r) = (f(x) - f(c))/(x - c)
for some r between x and c
f'(c) = lim{x -> c}(f(x) - f(c))/(x - c)
for all ε > 0, there's δ that,
    for x in B(c; δ), |(f(x) - f(c))/(x - c) - f'(c)| < ε
let xn = min{c + 1/n, c + δ/2}, there's an rn ∈ (c, xn) with f'(rn) = (f(x) - f(c))/(x - c)
rn -> c, f'(rn) -> f'(c), by theorem 4.12 lim{x -> c}f'(x) = f'(c)

5.16
for all ε > 0, there's δ that f'(B(c; δ)) ⊆ B(A; ε)
for all x ∈ B(c; δ),
    (f(x) - f(c))/(x - c) = f'(r), r ∈ (x, c) or (c, x)
r ∈ B(c; δ), (f(x) - f(c))/(x - c) = f'(c) ∈ B(A; ε)
therefore f'(c) = lim{x -> c}(f(x) - f(c))/(x - c) = A

5.17
g'(x)   = f'(x)/x - f(x)/x^2
        = (xf'(x) - f(x))/x^2
for all a < b ∈ [0, 1],
    g(b) - g(a) = g'(r)(b - a)
                = (rf'(r) - f(r))/r^2 * (b - a)
where
    f(r)    = f(r) - f(0)
            = f'(q)(r - 0)
            = rf'(q)
for some 0 < q < r
f'(x) is increasing, rf'(q) <= rf'(r), g(b) - g(a) >= 0

5.18
let g(x) = e^-λx, g'(x) = -λe^-λx = -λg(x), g and gf are differentiable
g(a)f(a) = g(b)f(b) = 0, by Rolle's theorem there's some a < c < b that 
    (gf)'(c)    = (g'f + f'g)(c)
                = (-λgf + f'g)(c)
                = 0
g(x) is never 0, -λf(c) + f'(c) = 0, λf(c) = f'(c)

5.19
for some p on (a, c) and q on (c, b), 
    f'(p)   = (f(c) - f(a))/(c - a)
            = (f(b) - f(a))/(b - a)
            = (f(b) - f(c))/(b - c)
            = f'(q)
by Rolle's theorem, f''(r) = 0 for some r on (p, q) ⊆ (a, b)

5.20
f(a) = f(b) = 0 => f'(c) = 0 for some c ∈ (a, b)
f'(a) = f'(c) = f'(b) = 0 => f''(p) = f''(q) = 0 for some p ∈ (a, c), q ∈ (c, b)
f''(p) = f''(q) = 0 => f'''(r) = 0 for some r ∈ (p, q)

5.21
let f(p) = f(q) = 0 for some p, q ∈ (0, 1)
p and q are local minimas of continuous f, f'(p) = f'(q) = 0
f(p) = f(q), there's r ∈ (p, q) with f'(r) = 0
by exercise 5.20 there's some c with f'''(c) = 0

5.22
a.  assume c > 0, for some ε < c there's δ that, f'((δ, +∞)) ⊆ B(c; ε)
    f'(y) > c - ε > 0 for all y > δ
    as f(x) -> 1, there's r that for all x, y ∈ (r, +∞), f(x), f(y) ∈ B(1; (c - ε)/2), |f(x) - f(y)| < c - ε
    take x ∈ max{r, δ}, y = x + 1
    |f(y) - f(x)|/|y - x|   = |f(y) - f(x)|
                            = f'(r)
                            < c - ε
    for some r ∈ (max{r, δ}, +∞)
    but then f'(r) > c - ε and f'(r) < c - ε
    symmetrically c < 0 leads to the same contradiction, c = 0
b.  f(x + 1) - f(x) = f'(r) for some r ∈ (x, x + 1)
    as x -> ∞, r -> ∞, f(x + 1) - f(x) = f'(r) -> 1
    assume a = 0, f(x - [x]) <= sup{f([0, 1))} is bounded by a constant
    lim{x -> ∞}f(x)/x   = lim{x -> ∞}(Σ{1 <= k <= [x]}(f(x - k + 1) - f(x - k)) + f(x - [x]))/x
                        = lim{x -> ∞}(Σ{1 <= k <= [x]}(f(x - k + 1) - f(x - k)) + f(x - [x]))/([x] + (x - [x]))
                        = lim{x -> ∞}(Σ{1 <= k <= [x]}(f(x - k + 1) - f(x - k)) + f(x - [x]))/([x] + O(1))
                        = lim{x -> ∞}(f(x + 1) - f(x))
                        = 1
    since limit of average is limit of sequence by Cesaro
    when a > 0, the first [a] terms can be filled by 0, the limit of sequence is still 1
c.  by the same argument of part b, f(x + 1) - f(x) -> 0, f(x)/x -> 0

5.23
f'(0) = lim{x -> 0}(f(x) - f(0))/x = 0
there's δ that, for y ∈ (0, δ), (f(y) - f(0))/y ∈ B(0; h)
but for all y > 0, (f(y) - f(0))/y = f'(r) >= h for some r ∈ (0, y)

5.24
let g(x) = f(2a - x), by chain rule g(x) is differentiable on [a - h, a + h]
a.  let t(x) = f(x) - g(x), t(a) = f(a) - f(a) = 0
        (t(a + h) - t(a))/h = t'(a + θh)
        (f(a + h) + f(a - h))/h = f'(a + θh) + f'(a - θh)
    for some 0 < θ < 1
b.  let t(x) = f(x) + g(x), t is differentiable on [a - h, a + h]
    by exercise 5.11,
        (t(a + h) - t(a))/h = t'(a + λh)
        (f(a + h) + f(a - h) - 2f(a))/h = f'(a + λh) - g'(a - λh)
    for some 0 < λ < 1
c.  L'Hospital's rule, case 0/0, restricted to finite first derivative:
        assume finite f', g' exist at c, g'(c) != 0, f(c) = g(c) = 0, then
        lim{x -> c}f(x)/g(x)    = lim{x -> c}(f(x) - f(c))/(g(x) - g(c))
                                = lim{x -> c}((f(x) - f(c))/(x - c))/((g(x) - g(c))/(x - c))
                                = f'(c)/g'(c)
    when f'(x) is continuous, 
    lim{h -> 0}(f(a + h) - f(a - h))/h  = lim{h -> 0}(f'(a + θh) + f'(a - θh)), 0 < θ(h) < 1 for all h
                                        = 2f'(a)
    f(x) is continuous, f(a + h), f(a - h) -> f(a), the limit has the form 0/0
    by L'Hospital's rule, 
        lim{h -> 0}(f(a + h) - 2f(a) + f(a - h))/h^2
        = lim{h -> 0}(f'(a + h) - f'(a - h))/2h
        = 2f''(a)/2 
        = f''(a)
    since f' is continuous given existence of f''
d.  define f as:
        f(x)    = -1 on [a - h, a)
                = 0 at a
                = 1 on (a, a + h]
    lim{h -> 0}(f(a + h) + f(a - h) - 2f(a))/h^2 = 0, but f is not continuous, f' and f'' doesn't exist

5.25
for all ε > 0, there's δ that, for all x ∈ B(c; δ),
    |(f(x) - f(c))/(x - c) - f'(c)| < ε/2
since c ∈ B(x; δ), δ is universal for all c,
    |(f(c) - f(x))/(c - x) - f'(x)| = |(f(x) - f(c))/(x - c) - f'(x)|
                                    < ε/2
    |f'(x) - f'(c)| < ε/2 * 2 = ε
f'(B(c; δ)) ⊆ B(f'(c); ε) for all c, f' is uniformly continuous

5.26
on [a, b],
    |f(x) - f(y)|/|x - y| = f'(r) <= α < 1 for some r ∈ (a, b)
    |f(x) - f(y)| <= α|x - y| for some α < 1
f is a contraction on [a, b], f has a unique fixed point on [a, b]

5.27
let f(x) = x^2sin(1/x), g(x) = x, f'(x) = 2xsin(1/x) - sin(1/x), g'(x) = 1 != 0
f(x)/g(x) = xsin(1/x) -> 0 as x -> 0
f'(x)/g'(x) = 2xsin(1/x) - sin(1/x) doesn't converge at 0

5.28
// errata: the definition of F in the hint is wrong
// thanks solutions manual
define F, G that
    F(x) = f(x) - (x - c)^(n-2)f^(n)(c)/(n - 2)!
    G(x) = g(x) - (x - c)^(n-2)g^(n)(c)/(n - 2)!
both F(x) and G(x) are nth order differentiable on (a, b)
    F^(k)(x) = f^(k)(x) - (x - c)^(n-2-k)f^(n)(c)/(n - 2 - k)! for k <= n - 3
    F^(n-2)(x) = f^(n-2)(x) - f^(n)(c)
    F^(n-1)(x) = f^(n-1)(x)
    F^(n)(x) = f^(n)(x)
    f^(k)(c) = 0 for all 0 <= k <= n - 3 and k = n - 1
    F^(n-2)(c) = -f^(n)(c)
by theorem 5.20, expand to n-1th order,
    (F(x) - Σ{0, n-2}(x - c)^kf^(k)(c)/k!)G^(n-1)(x1) = (G(x) - Σ{0, n-2}(x - c)^kg^(k)(c)/k!)F^(n-1)(x1)
    f(x)g^(n-1)(x1) = g(x)f^(n-1)(x1)
    f(x)/g(x) = f^(n-1)(x1)/g^(n-1)(x1), x1 between x and c
    lim{x -> c}(f(x)/g(x))  = lim{x -> c}f^(n-1)(x1)/g^(n-1)(x1)
                            = lim{x1 -> c}f^(n-1)(x1)/g^(n-1)(x1)
                            = f^(n)(c)/g^(n)(c)
    by L'Hospital's rule

5.29
define
    F(t) = f(t) + \sum_{k=1}^{n-1} \frac{f^{(k)}(t)}{k!}(x - t)^k
    G(t) = g(t) = t
then by the proof of theorem 5.20,
    F'(t) = \frac{(x - t)^{n-1}}{(n - 1)!}f^{(n)}(t)
    // this is unreadable as plain text, no latex anymore
    G'(t) = 1
    F'(x1)(G(x) - G(c)) = G'(x1)(F(x) - F(c))
    ((x - x1)^(n-1) / (n - 1)!)(x - c) = f(x) - f(c) - Σ{1, n-1}f^(k)(c)/k! * (x - c)^k
    f(x) = Σ{0, n-1}(x - c)^kf^(k)(c)/k! + (x - c)(x - x1)^(n-1)/(n - 1)!
since x1 is between x and c, |x - x1| < |x - c| and x - x1, x - c has the same sign
(x - x1)/(x - c) > 0, (x - x1)/(x - c) < 1, 0 < 1 - θ < 1, 0 < θ < 1
    (x - x1) / (x - c) = 1 - θ
    x - x1 = x - θx - c + θc
    -x1 = -θx - (1 - θ)c
    x1 = θx + (1 - θ)c
    (x - c)(x - x1)^(n-1) / (n - 1)! = (1 - θ)^(n-1)(x - c)^n / (n - 1)! * f^(n)(θx + (1 - θ)c)

5.30
=>:
    let (fn) be the component functions of f, define gn:R -> R^n as:
        gn(x) = a, where an = fn(x), ak = 0 for all k != n
    then lim{x -> c}gn(x) = b, where bn = lim{x -> c}fn(x), bk = 0 for all k != n:
        for all ε > 0, there's δ that |bn - fn(x)| < ε whenever |c - x| < δ
        ||b - gn(x)||  = √(bn - fn(x))^2
                        = |bn - fn(x)|
                        < ε
    as f = Σgn, by theorem 4.14, f(x) -> b where fn(x) -> bn as x -> c
    since lim{h -> 0}(fn(cn + h) - f(cn))/h = fn'(c), lim{h -> 0}(f(c + h) - f(c))/h = f'(c)
<=:
    lim{h -> 0}(f(c + h) - f(c))/h exist means lim{h -> 0}(fn(c + h) - f(c)) exist for all component function fn 
    let x = c + h, h = x - c, 
        lim{h -> 0}(fn(c + h) - f(c))   = lim{x -> c}(fn(x) - f(c))/(x - c)
                                        = f'(c)
    whenever the limit is defined
    and f'(c) is defined as the vector of derivatives of each fn at c

5.31
g = ||f||^2 = Σfn^2 is a constant function
g' = Σ2fnfn' = 2(f . f') = 0, f . f' = 0

5.32
// thanks solutions manual
// the phrasing of the exercise should be changed to: f is never zero in any component
for all components fn of f,
    fn'/fn = λ
so λ is a continuous function defined on R, the anti-derivative of λ exists
f'(x) = λ(x)f(x) is a first order linear ODE, the solution is
    f(x) = ce^int(a, x, λ(y)dy), c = f'(a)/f(a) for arbitrary a
let u(x) = e^int(a, x, λ(y)dy), u(x) is positive, fn(x) = u(x)cn for all n
f(x) = u(x)c for a constant vector c

5.33
fixing x or y, the function f(x) and f(y) are differentiable everywhere but (0, 0)
D1f(x, y) exists at (0, 0):
    lim{x -> 0}(f(x, 0) - f(0, 0))/x = 0
symmetrically, D2f(0, 0) = 0
D1f(x, y)   = y/(x^2 + y^2) - xy/(x^2 + y^2)^2 * 2x
            = y/(x^2 + y^2) - 2x^2y/(x^2 + y^2)^2 when (x, y) != (0, 0)
            = 0 when (x, y) = (0, 0)
by symmetry,
D2f(x, y)   = x/(x^2 + y^2) - 2xy^2/(x^2 + y^2)^2 when (x, y) != (0, 0)
            = 0 when (x, y) = (0, 0)
f(x, y) is not continuous at (0, 0):
    when x = y, f(x, y) = x^2/2x^2 = 1/2 = lim{x -> 0}f(x, x)
    when y = 0, f(x, y) = 0 = lim{x -> 0}f(x, 0)

5.34
f(x, 0) = 0 = lim{x -> 0}(f(x, 0) - f(0, 0))/x = D1(0, 0)
f(0, y) = -y^3/y^2 = -y, D2(0, 0) = -1
D1(x, y)    = (2xy(x^2 + y^2) - y(x^2 - y^2)2x)/(x^2 + y^2)^2
            = 2xy(x^2 + y^2 - x^2 + y^2)/(x^2 + y^2)^2
            = 4xy^3/(x^2 + y^2)^2
D1f(x, 0) = 0, D1,1f(x, 0) = 0 for all x
D1f(0, y) = 0, D1,2f(0, y) = 0 for all y
D2f(x, y)   = ((x^2 - 3y^2)(x^2 + y^2) - y(x^2 - y^2)2y)/(x^2 + y^2)^2
            = (x^4 + x^2y^2 - 3x^2y^2 - 3y^4 - 2x^2y^2 + 2y^4)/(x^2 + y^2)^2
            = (x^4 - 4x^2y^2 - y^4)/(x^2 + y^2)^2
D2f(x, 0) = x^4/x^4 = 1, D2f(x, 0) is not continuous at 0
D2f(0, y) = -y^4/y^4 = -1, D2,2f(0, y) = 0 for all y

5.35
if f is differentiable at c, there's a continuous f* that f(z) - f(c) = (z - c)f*(z) for all z in S
define g* = f*(~z), g* is a composition of continuous functions, g* is continuous
if z, c ∈ S*, ~z, ~c ∈ S,
    g(z) - g(c) = ~f(~z) - ~f(~c)
                = ~(f(~z) - f(~c))
                = ~(~z - ~c)f*(~c)
                = (z - c)g*(c)
for all z in S*, g is differentiable at c, g is differentiable on S*

5.36
a.  sinz = sinxcoshy + icosxsinhy
    u(x, y) = sinxcoshy, v(x, y) = cosxsinhy
    D1u(x, y)   = cosxcoshy
                = D2v(x, y)
    D1v(x, y)   = -sinxsinhy
                = -D2u(x, y)
    f'(z)   = D1u(x, y) + iD2v(x, y)
            = cosxcoshy - isinxsinhy
b.  cosz = cosxcoshy - isinxsinhy
    u(x, y) = cosxcoshy, v(x, y) = -sinxsinhy
    D1u(x, y)   = -sinxcoshy
                = D2v(x, y)
    D1v(x, y)   = -cosxsinhy
                = D2u(x, y)
    f'(z) = -sinxcoshy - icosxsinhy
c.  |z| = √(x^2 + y^2)
    u(x, y) = √(x^2 + y^2), v(x, y) = 0
    when y = 0, f(z) = |x| is not x-differentiable at (0, 0)
    D1u(x, y)   = x/√(x^2 + y^2)
                = D2v(x, y) only when x = 0, y != 0
    when x = 0, f(z) = |y| is not y-differentiable at (0, 0)
    D2u(x, y)   = y/√(x^2 + y^2)
                = -D1v(x, y) only when y = 0, x != 0
    hence f satisfies both equations on no z
d.  ~z = x - iy
    u(x, y) = x, v(x, y) = -y
    D1u(x, y)   = 1
                != D2v(x, y)
    D1v(x, y)   = 0
                = -D2u(x, y)
    f satisfies both equations at no z
e.  arg(z) is not continuous on the negative x-axis:
        every neighorhood contains both arg(z) ~ -π and arg(z) ~ π
    by wikipedia https://en.wikipedia.org/wiki/Argument_(complex_analysis),
    arg(z)  = 2arctan(y/(|z| + x)) anywhere but negative axis
            = u(x, y)
    v(x, y) = 0
    // thanks wolframalpha
    D1u(x, y)   = -y/|z|^2
                = D2v(x, y) only when y = 0, x != 0
    D2u(x, y)   = x/|z|^2
                = D1v(x, y) only when x = 0, y != 0
    f satisfies both equation at no z
f.  Log(z) = log|z| + iarg(z)
    u(x, y) = log(x^2 + y^2)/2, v(x, y) = arg(z)
    v is not continuous on negative x-axis, D2v doesn't exist there
    D1u(x, y)   = x/|z|^2
                = D2v(x, y)
    D1v(x, y)   = -y/|z|^2
                = -D2u(x, y)
    f'(z)   = x/|z|^2 - iy/|z|^2
            = 1/z
g.  z is differentiable on C
    => z^2 is differentiable on C
    => e^(z^2) is differentiable on C
    Cauchy-Riemann equations hold for all z ∈ R
    z^2 = x^2 - y^2 + i2xy:
        u(x, y) = x^2 - y^2, v(x, y) = 2xy
        D1u(x, y) = 2x, D1v(x, y) = 2y
        (z^2)' = 2x + i2y = 2z
    f'(c)   = e^(z^2) * (z^2)'
            = e^(x^2 - y^2)(cos2xy + isin2xy)(2x + i2y)
            = e^(x^2 - y^2)(2xcos2xy - 2ysin2xy + i2xsin2xy + i2ycos2xy)
    u(x, y) = e^(x^2 - y^2)(2xcos2xy - 2ysin2xy)
    v(x, y) = e^(x^2 - y^2)(2xsin2xy + 2ycos2xy)
h.  z^α = e^αLogz
    Logz is differentiable on R - (-∞, 0] x {0} = S
    => αlogz is differentiable on S
    => e^αLogz is differentiable on S
    f'(z)   = e^αLogz * Log'(z)
            = e^αLogz * (x/|z|^2 - iy/|z|^2)
    let α = a + bi,
    f(z)    = e^αLogz
            = e^(a + bi)(log|z| + iarg(z))
            = e^(alog|z| - barg(z) + iaarg(z) + iblog|z|)
            = e^(alog|z| - barg(z))(cos(aarg(z) + blog|z|) + isin(aarg(z) + blog|z|))
    u(x, y) = e^(alog|z| - barg(z))cos(aarg(z) + blog|z|)
    v(x, y) = e^(alog|z| - barg(z))sin(aarg(z) + blog|z|)
    when α is a nonnegative integer, inductively z^α is differentiable on C

5.37
if a = 0, b != 0
    bv^2 = c
    if v is 0 anywhere, bv^2 = c = 0, v and f must be constant 
    assume v is never 0, vD1v = vD2v = vD1u = vD2u = 0
    D1v = D2v = D1u = D2u = 0 on D, f is constant on D
if a != 0, b != 0
    au^2 + bv^2 = c
    auD1u + bvD1v = 0 (1)
    auD2u + bvD2v = 0 (2)
by Cauchy-Riemann equations, 
    -auD1v + bvD1u = 0 (3)
    auD2v - bvD2u = 0 (4)
(1) * D1v + (3) * D1u:
    auD1uD1v + bvD1v^2 - auD1vD1u + bvD1u^2 = 0
    bv(D1v^2 + D1u^2) = 0
    bv^2(D1v^2 + D1u^2) = 0 (5)
(2) * D2u + (4) * D2v:
    auD2u^2 + bvD2uD2v + auD2v^2 - bvD2uD2v = 0
    au(D2u^2 + D2v^2) = 0
    au^2(D2u^2 + D2v^2) = 0
    au^2(D1v^2 + D1u^2) = 0 (6)
(5) + (6):
    (au^2 + bv^2)(D1u^2 + D1v^2) = 0
    c(D1u^2 + D1v^2) = 0
if c = 0, au^2 + bv^2 = 0, a, b != 0, u and b must be 0 on D, f is constant
if c != 0, D1u^2 + D1v^2 = 0, D1u = D1v = 0, f'(c) = D1u + iD1v = 0, f is constant

6.1
a.  |f'(x)| = |xsin(1/x) - x^2cos(1/x)/x^2|
            = |xsin(x) - cos(1/x)|
            <= 2 on [0, 1]
    f are of bounded variation
b.  when x = 1/(kπ + π/2), sin(1/x) = sin(kπ + π/2) = (-1)^(k+1)
    let P = {0, 1/(nπ + π/2), .., 1/(π/2), 1}
    Σ{2, n+1}|Δfk|  = Σ{1, n}((√1/(πk + π/2)) + √1/(π(k-1) + π/2))
                    >= Σ{1, n}(√1/π(k + 1) + √1/πk)
                    >= Σ{1, n}√1/πk
                    -> ∞
    √x * sin(1/x) is not of bounded variation

6.2
a.  by exercise 5.1.a, f is differentiable on (a, b), f'(c) = 0 for all c ∈ (a, b)
    by theorem 5.14 f is constant on [a, b]
    when α = 1, for all partition P = {xk} of [a, b],
        Σ|Δfk|  = Σ|f(xk) - f(xk-1)|
                < ΣM|xk - xk-1|
                = M(b - a)
    f is of bounded variation on [a, b]
b.  // thanks https://math.stackexchange.com/questions/1566955/
    let C be the Cantor set:
        the set defined by recursively deleting the middle third from the connected interval of the set
        C0 = [0, 1]
        C1 = [0, 1/3] ∪ [2/3, 1]
        ...
        C = C∞
    define f(x) = d(x, C)^α, where d(x, C) = inf{d(x, y): y ∈ C} is defined as in exercise 4.56
    there are 2^(k-1) disjoint open intervals in ~C of length (1/3)^k for each k >= 1
    f(x) is continuous on such an open interval Ik with
        sup{f(x): x ∈ Ik} = (3^-k/2)^α
        inf{f(x): x ∈ Ik} = 0
    therefore Δfk on a closed subset of Ik >= (3^-k/2)^α
    Σ(P)    >= Σ2^(k-1)(3^-k/2)^α
            = (1/6)^α * Σ(2/3^α)^k
    is unbounded for 3^α <= 2, α <= log2/log3
    f(x) = d(x, C) satisfies uniform Lipschitz condition of order 1:
        |f(x) - f(y)| <= |x - y| by exercise 4.56.a
    f(x) = x^α, 0 < α <= 1 satisfies order α on [0, 1]:
        for all 0 <= x < y <= 1, let d = y - x
        let g(x)    = |f(x) - f(y)| - |x - y|^α
                    = (x + d)^α - x^α - d^α
        g is defined on [0, 1 - d]
        g'(x)   = α(x + d)^(α-1) - αx^(α-1)
                > 0 for all positive d 
        g(1 - d)    = 1 - (1 - d)^α - d^α
                    <= 1 - (1 - d) - d
                    = 0
        as x^α >= x on [0, 1] for 0 < α <= 1
        therefore g(x) is non-positive on [0, 1 - d], |f(x) - f(y)| < |x - y|^α
    if f satisfies order α on A, g satisfies order β on f(A), g o f satisfies order αβ on A:
        |g(f(x)) - g(f(y))| < M|f(x) - f(y)|^β
                            < MN|x - y|^αβ  // x^β is increasing for β > 0
    hence f(x) = d(x, C)^α satisfies order α for all 0 < α < log2/log3, but f(x) is not of bounded variation
c.  let f(x) = 1/logx when x != 0, f(0) = 0 on [0, 1/2]
    lim{x -> 0}f(x) = 0, f(x) is continuous
    fix x = 0, x < y <= 1
    |f(x) - f(y)|   = -1/logy
    |x - y|^α = y^α
    |f(x) - f(y)|/|x - y|   = -1/y^αlogy
                            = -y^-α/logy
                            -> ∞ as y -> 0 for all positive α by L'Hospital's rule
    as 1/logx is monotonic and bounded, f(x) is of bounded variation on [0, 1/2]

6.3
x and x^n are bounded on any closed interval [a, b] for any n, x^n+1 is of bounded variation
a polynomial is a sum of finite x^nk which is also of bounded variation
between any two zero points xk-1 and xk of f'(x), f'(x) is nonnegative or nonpositive, f is monotonic on [xk-1, xk]
let a = x0, b = xn+1,
Vf(a, b)    = ΣVf(xk+1, xk)
            = Σ(f(xk+1) - f(xk))

6.4
by theorem 6.15, if f is of bounded variation on [a, b], f = g - h where g and h are increasing on [a, b]
g, h ∈ S, -h ∈ S, f = g - h ∈ S

6.5
let s = sup(A), for all δ/2 > 0 there's x ∈ (s - δ, s] that,
    f(s) >= f(x) > x > s - δ/2 > s - δ
thus f(s) = > s, sup(A) ∈ A
assume s ∈ (0, 1), for all δ > 0, f(s + δ) < s
f(s) > s, let ε = f(s) - s for some ε > 0
f(s) <= f(s + ε/2) < s + ε/2, contradicting f(s) = s + ε
as f(0) > 0, s must be 1 and 1 ∈ A, f(1) > 1

6.6
a.  if f is of bounded variation on R, f is bounded on R:
        let Vf(-∞, +∞) = M
        if f is unbounded on R, there's |f(x)| > |f(0)| + 2M for some x, assume wlog x > 0
        P = {0, x} is a partition of [0, x] and 
            Vf(0, x)    >= |f(x) - f(0)|
                        >= |f(x)| - |f(0)|
                        = 2M
        but M >= Vf(0, x) by definition
    if f and g are of bounded variation on R, f + g, f - g, fg are of bounded variation on R:
        let h = f + g, for all partition P of all closed interval [a, b],
            Σ(P)    = Σ|h(xk) - h(xk-1)|
                    <= Σ(|f(xk) - f(xk-1)| + |g(xk) - g(xk-1)|
                    <= Vf(a, b) + Vg(a, b)
                    <= Vf(-∞, +∞) + Vg(-∞, +∞)
        so Vh(-∞, +∞) <= Vf(-∞, +∞) + Vg(-∞, +∞) is finite
        // denote Vf(-∞, +∞) as Vf(R)
        let h = -f, Vh(R) = Vf(R):
            for al partition P, 
            Σf(P)   = Σ|f(xk) - f(xk-1)|
                    = Σ|-f(xk) - -f(xk-1)|
                    = Σ|h(xk) - h(xk-1)|
                    = Σh(P)
            Vf(R) = sup{Vf(a, b)} = sup{Vh(a, b)} = Vg(R)
        f - g = f + (-g) is of bounded variation on R
        by exactly the same argument in the text, Vfg(R) <= sup{R(f)}Vg(R) * sup{R(g)}Vf(R)
    by exactly the same argument in the text, V1/f(R) <= Vf(R)/m^2 if |1/f(x)| >= m > 0
    for all c, Vf(-∞, c) + Vf(c, +∞) = Vf(R):
        all closed interval [a, b] either is 
            entirely in (-∞, c]: Vf(a, b) <= Vf(-∞, c)
            entirely in [c, +∞): Vf(a, b) <= Vf(c, +∞)
            in both: Vf(a, b) = Vf(a, c) + Vf(c, b) <= Vf(-∞, c) + Vf(c, +∞)
        so Vf(R) = sup{Vf(a, b)} <= Vf(-∞, c) + Vf(c, +∞)
        contersely, let a < b <= c <= s < t
            Vf(a, b) + Vf(s, t) <= Vf(a, b) + Vf(b, s) + Vf(s, t)
                                = Vf(a, t)
                                <= Vf(R)
        so Vf(-∞, c) + Vf(c, +∞) <= Vf(R)
    similarly, Vf(-∞, a) + Vf(a, b) = Vf(-∞, b)
    define V(x) = Vf(-∞, x), V is an increasing function:
        for all a < b, V(b) - V(a) = Vf(a, b) >= 0
    V - f is an increasing function:
        let D = V - f, for all a < b,
        D(b) - D(a) = Vf(a, b) - (f(b) - f(a))
        by definition Vf(a, b) >= f(b) - f(a)
b.  if f is bounded and monotonic on R, |f(x)| <= M for some constant M
    for all partition P on arbitrary [a, b], assume wlog f is increasing,
        Σ(P)    = Σ|f(xk) - f(xk-1)|
                = Σ(f(xk) - f(xk-1))
                = f(b) - f(a)
                <= 2M
    f is of bounded variation on R iff f = g - h, g and h bounded and increasing on R:
        f = V - (V - f), V and V - f are increasing and bounded
        conversely by part a, g and h are of bounded variation, g - h = f is of bounded variation

6.7
a.  let C(P) = {k: Δk = 0}, P = A(P) ∪ B(P) ∪ C(P), A, B and C are disjoint, ΣC(P) = 0
    for all partition P of [a, b],
    ΣP  = Σ{A(P)}Δfk + Σ{B(P)}|Δfk| + Σ{C(P)}0
        = Σ{A(P)}Δfk + Σ{B(P)}|Δfk|
        <= pf(a, b) + nf(a, b)
    if both pf(a, b) and nf(a, b) are achievable, there's partitions P1 and P2 that:
    1.  A(P1) and B(P2) are disjoint
    2.  A(P1) and B(P2) achieves pf(a, b) and nf(a, b)
        if an interval [a, b] in A(P1) contains an interval [c, d] in B(P2):
            f(d) < f(c), f(a) < f(b)
            if f(c) < f(a), f(b) - f(d) > f(b) - f(a)
            if f(d) > f(b), f(c) - f(a) > f(b) - f(a)
            max{0, f(c) - f(a)} + max{0, f(b) - f(d)} > f(b) - f(a)
            P1 ∪ {c, d} has greater positive variation than P1 and A(P1 ∪ {c, d}) is disjoint to P2
        if [a, b] in A(P1) and [c, d] in B(P2) overlaps, let a < c < b < d:
            f(a) < f(b), f(c) > f(d)
            if f(c) >= f(b), f(c) - f(a) >= f(b) - f(a)
            if f(c) < f(b), |f(d) - f(b)| > |f(d) - f(c)|
            P1' = P1 ∪ {c} or P2' = P2 ∪ {b} has no lower positive/negative variation and is disjoint to the other 
    by a similar argument, when pf(a, b) and nf(a, b) are not achievable, for all ε > 0,
    there's P that 
        pf(a, b) - Σ{A(P)}Δfk < ε/2
        nf(a, b) - Σ{B(P)}|Δfk| < ε/2
        pf(a, b) + nf(a, b) - Σ(P) < ε
    so Vf(a, b) = sup{Σ(P)} >= pf(a, b) + nf(a, b)
b.  p(x) + n(x) = V(x), pf(a, x), nf(a, x) >= 0
    0 <= p(x) <= V(x), 0 <= n(x) <= V(x)
c.  for all a <= x < y <= b, for all partition P of [a, x],
    Q = P ∪ {y} is a partition of [a, y] and 
    Σp(Q)   = Σp(P) + max{0, f(y) - f(x)}
            >= Σp(P)
    hence p(y) >= p(x), similarly 
    Σn(Q)   = Σn(P) + |min{0, f(y) - f(x)}|
            >= Σn(P)
    and n(x) too is increasing
d.  for all partition P,
    f(x) - f(a) = Σ{P}Δk
                = Σ{A(P)}Δfk - Σ{B(P)}|Δfk|
    {Σ{A(P)}Δfk - Σ{B(P)}|Δfk|: P ∈ P[a, b]} = {f(x) - f(a)}
    which proves the case when both p(x) and n(x) are achievable
    by part a, pf(a, b) and nf(a, b) can be achieved or infinitely approached simultaneously by the same partition P
    assume n(x) and p(x) both not achievable, for all ε > 0, there's
        p(x) - Σ{A(P)}Δfk < ε
        n(x) > Σ{B(P)}|Δfk|
        p(x) - n(x) < Σ{A(P)}Δfk - Σ{B(P)}|Δfk| + ε
                    = Σ(P) + ε
                    = f(x) - f(a) + ε
    a symmetric argument gives p(x) - n(x) > f(x) - f(a) - ε for all ε > 0, f(x) - f(a) = p(x) - n(x)
    the case only one of p(x) and n(x) is achievable is similar
e.  immediate from part a and d
f.  if f is continuous at c, V is continuous at c, V(c-) = V(c)
    for x < c, 
        0 <= |p(c) - p(x)| <= V(c) - V(x)
    let x -> c, p is increasing, p(c-) exists
        0 <= |p(c) - p(c-)| <= V(c) - V(c-) = 0
    symmetrically, |p(c+) - p(c)| = 0, p is continuous at c
    n = V - p is difference of two continuous function at c

6.8
a.  let y = f(t) = e^2πit, f(t) = g(t) on D(f), y = g(t)
    let y = g(t) = e^2πit, if t ∈ (1, 2], t - 1 ∈ D(f) and 
        f(t - 1)    = e^2πi(t - 1)
                    = e^i2πt * e^-2πi
                    = e^i2πt
                    = g(t)
    thus R(f) = R(g)
    g is not one-to-one on its domain, if there's any continuous and strictly monotonic u: [0, 2] -> [0, 1] that
        g(t) = f(u(t))
    then g should be one-to-one
b.  define g1: [0, 1] -> C and g2: [1, 2] -> C be two restrictions of g
    both g1 and g2 are equivalent to f
    if f and g are equivalent, if f has finite length on [a, b], u: [c, d] -> [a, b] is continuous and monotonic,
    f(t) = g(u(t)), then Λf(a, b) = Λg(c, d):
        for all partition P = {xk} of [a, b], let Q = u^-1(P) = {yk}, Q is a partition of [c, d] and 
        ΣΛf(P)  = Σ{P}|f(xk) - f(xk-1)|   = Σ{P}|g(u^-1(xk)) - g(u^-1(xk-1))|
                = Σ{Q}|g(yk) - g(yk-1)|
                = ΣΛg(Q)
        and vice versa, sup{Λf(P)} = sup{Λg(Q)}
    Λg(0, 2)    = Λg(0, 1) + Λg(1, 2)
                = 2Λf(0, 1)

6.9
a.  by theorem 6.19, s is continuous and strictly increasing on compact set [a, b], s is one-to-one
    by theorem 4.29, s^-1 is continuous and one-to-one 
    by theorem 4.52, s^-1 is strictly increasing on [0, L]
b.  s^-1: [0, L] -> [a, b] is strictly increasing and continuous
    so g(t) = f(s^-1(t)) is equivalent to f(t)

6.10
a.  metric of C is the same to norm of R^2
    t and 2b - t are strictly monotonic and continuous on [a, b], both are of bounded variation
    2b - t is strictly monotonic from [b, 2b - a] to [a, b], g'(t) = g(2b - t) and g(t) are equivalent
    Vg(a, b) = Vg'(b, 2b - a), g' is of bounded variation
    by theorem 6.17, h is rectifiable on [a, b] and [b, 2b - a]
    if f is rectifiable on [a, b] and [b, c], f is rectifiable on [a, c]:
        given a partition P of [a, c], P ∪ {b} is the disjoint union of a partition P1 of [a, b] and P2 of [b, c]
        Λf(P) <= Λf(a, b) + Λf(b, c) is finite 
    therefore h is rectifiable on [a, 2b - a]
b.  h is the plot of f and g on [a, b]
c.  fix x, let (x, y) ∈ ∂S = C(S) ∩ C(~S)
    if x < a or x > b, there's a B(x) disjoint with S, x ∈ [a, b]
    assume f(x) < y < g(x), let g(x) - y = u, y - f(x) = v
    as f and g are continuous at x, for some δ1 and δ2
        f(z) - f(x) < v/2 for z ∈ B(x; δ1)
        g(x) - g(z) > u/2 for z ∈ B(x; δ2)
    let δ = min{δ1, δ2, u/2, v/2}, B((x, y); δ) is interior to S, ∂S ⊆ Γ
    conversely, (x, f(x)) and (x, g(x)) are in the closure of S and ~S, Γ ⊆ ∂S, Γ = ∂S
d.  -(g(t) - f(t))/2 is of bounded variation
    g(2b - t) and f(2b - t) is rectifiable in R1 <=> is of bounded variation, so is (g(2b - t) - f(2b - t))/2
    the two components of H(t) are of bounded variation, H is rectifiable
    let u = (f - g)/2, v = (g - f)/2, u > 0 > v on (a, b), u = v = 0 at a and b
    H(t)    = t + iu(t) if t ∈ [a, b]
            // errata, the original definition t + i(g - f)/2 cannot be the boundary of S0
            = 2b - t + iv(t) if t ∈ [b, 2b - a]
    by exactly the same argument of part c, Γ0 = ∂S0
e.  the condition on y of S0 can be expressed as
        |2y| <= g(x) - f(x)
    hence (x, y) ∈ S0 <=> (x, -y) ∈ S0
f.  on [b, 2b - a], H(t) = ~H(2b - t)
    for all f: [a, b] -> C, Vf(a, b) = V~f(a, b):
        given partition P on [a, b],
        Λf(P)   = Σ|(x(tk), y(tk)) - (x(tk-1), y(tk-1))|
                = Σ√((x(tk) - x(tk-1))^2 + (y(tk) - y(tk-1))^2)
                = Σ√((x(tk) - x(tk-1))^2 + (y(tk-1) - y(tk))^2)
                = Σ|(x(tk), -y(tk)) - (x(tk-1), -y(tk-1))|
                = Λ~f(P)
    similarly Λf(a, b) = Λ-f(a, b)
    hence VH(a, b) = V~H(b, 2b - a) = VH(b, 2b - a)
    VH(a, 2b - a) = 2VH(a, b)
    for arbitrary x, y and z, 
        4x^2(y + z)^2 >= 0
        4x^4 + 4y^2z^2 - 8x^yz <= 4x^4 + 4y^2z^2 + 4x^2(y^2 + z^2)
        (2x^2 - 2yz)^2 <= 4(x^2 + y^2)(x^2 + z^2)
        2x^2 - 2yz <= 2√(x^2 + y^2)(x^2 + z^2)
        4x^2 + (y - z)^2 <= 2x^2 + y^2 + z^2 + 2√(x^2 + y^2)(x^2 + z^2)
        √(4x^2 + (y - z)^2) <= √(x^2 + y^2) + √(x^2 + z^2)
    given partition P of [a, b], 
        ΛH(P)   = Σ|(xk, (f(xk) - g(xk))/2) - (xk-1, (f(xk-1) - g(xk-1))/2)|
                = Σ√(Δxk^2 + (Δfk - Δgk)^2/4)
                = 1/2 * Σ√(4Δxk^2 + (Δfk - Δgk)^2)
                <= 1/2 * Σ(√(Δxk^2 + Δfk^2) + √(Δxk^2 + Δgk^2))
                = 1/2 * (Λf(P) + Λg(P))
                <= 1/2 * (Λf(a, b) + Λg(a, b))
                = Λh(a, 2b - a)/2 
        ΛH(a, 2b - a)   = 2ΛH(a, b)
                        <= Λh(a, 2b - a)

6.11
denote bk - ak by Δxk, f(bk) - f(ak) by Δfk (as usual)
for all ε > 0 and all c ∈ [a, b], there's δ that
    Σ|Δfk| < ε whenever ΣΔxk < δ
consider the disjoint set of open intervals consists of a single interval (x, c) or (c, x)
whenever |x - c| < δ, Σ|Δfk| = |f(x) - f(c)| < ε, f is continuous at c => f is continuous on [a, b]
divide [a, b] to intervals of length <= 1,
there's a δ that, for closed intervals [u, v] of length <= δ/2 and given a partition of [u, v],
    Σ(P)    = Σ|Δfk|
            < 1
as ΣΔxk = v - u < δ
every closed interval of finite length can be divided into finite number of intervals of length <= δ/2, and 
Vf(a, b)    = ΣVf(xk-1, xk) // xk - xk-1 <= δ/2 < δ
            < 2(b - a)/δ
hence f is of bounded variation on [a, b]

6.12
for all ε > 0, let δ = ε/M,
Σ|Δfk|  < ΣM|Δxk|
        = MΣΔxk
        < M * ε/M
        = ε

6.13
|f|:
    for all ε > 0, there's δ that,
    Σ||f(xk)| - |f(xk-1)||  <= Σ|f(xk) - f(xk-1)|
                            < ε
    whenever ΣΔxk < δ
cf:
    let for all ε/|c| > 0, there's δ that
    Σ|cf(xk) - cf(xk-1)|    <= Σ|c||f(xk) - f(xk-1)|
                            < |c| * ε/|c|
    whenever ΣΔxk < δ
f + g:
    for all ε > 0, there's δ1, δ2 that
    Σ|f(xk) + g(xk) - f(xk-1) - g(xk-1)|    = Σ|Δfk + Δgk|
                                            <= Σ(|Δfk| + |Δgk|)
                                            < ε/2 + ε/2
    whenever ΣΔxk < min{δ1, δ2}
fg:
    if f, g are absolutely continuous on [a, b], f, g are of bounded variation on [a, b], f and g are bounded on [a, b]
    |f(x)| <= A, |g(x)| <= B
    for all ε > 0, there's δ1 and δ2 that
    Σ|f(xk)g(xk) - f(xk-1)g(xk-1)|  <= Σ(|f(xk)g(xk) - f(xk-1)g(xk)| + |f(xk-1)g(xk) - f(xk-1)g(xk-1)|)
                                    = Σ(|g(xk)||f(xk) - f(xk-1)| + |f(xk-1)||g(xk) - g(xk-1)|)
                                    <= |B|Σ|Δfk| + |A|Σ|Δgk|
                                    < |B| * ε/|B| + |A| * ε/|A|
                                    = ε
    whenever ΣΔxk < min{δ1, δ2}
1/g, g bounded away from 0:
    let |1/g(x)| > m > 0
    ∀εm^2>0∃δ,
    Σ|1/g(xk) - 1/g(xk-1)|  = Σ|g(xk) - g(xk)|/|g(xk)||g(xk-1)|
                            <= Σ|Δgk|/m^2
                            < εm^2 / m^2
                            = ε
    whenever ΣΔxk < δ
f/g: immediate from fg and 1/g 

theorem 7.3
let c1α + c2β = γ
S(P, f, γ)  = Σf(tk)Δγk
            = Σf(tk)(c1Δαk + c2Δβk)
            = c1S(P, f, α) + c2S(P, f, β)
for all ε > 0, there's partitions Pε and Qε of [a, b] that,
    |S(P, f, α) - int(a, b, fdα)| < ε/2|c1|
    |S(P, f, β) - int(a, b, fdβ)| < ε/2|c2|
let P = Pε ∪ Qε, for all partition Q ⊇ P, 
    |S(Q, f, γ) - c1int(a, b, fdα) - c2int(a, b, fdβ)|
    < |c1| * ε/2|c1| + |c2| * ε/2|c2|
    = ε
so int(a, b, fdγ) = c1int(a, b, fdα) + c2int(a, b, fdβ)

theorem 7.21
applying theorem 7.20 to g = |f| once only gives 
    int(a, b, fdα) <= int(a, b, |f|dα)
to have theorem 7.21 theorem 7.20 must be applied again to -f:
    int(a, b, -fdα) = -int(a, b, fdα)
                    <= int(a, b, |f|dα)

7.1
S(P, 1, α)  = ΣΔαk
            = α(b) - α(a)
for all partition P of [a, b], take arbitrary Pε, for all P ⊇ Pε,
    |S(P, 1, α) - α(b) + α(a)| = 0 < ε
so int(a, b, fdα) = α(b) - α(a)

7.2
// errata: int(a, b, fdα) is defined for every monotonic function f
// not clear how it can be proved when only monotonic f ∈ R(α) has 0 integration
assume α is not constant, there's some x ∈ [a, b) that α(x) != α(b)
define f as:
    f = 0 on [a, x]
    f = 1 on (x, b]
f is monotonic on [a, b], int(a, b, fdα) = 0, int(a, b, αdf) is defined and
    int(a, b, αdf) = α(x)
by theorem 7.9, hence by theorem 7.6, 
    int(a, b, fdα)  = f(b)α(b) - f(a)α(a) - int(a, b, αdf)
                    = α(b) - α(x)
                    != 0
therefore α(x) = α(b) for all x ∈ [a, b], α is constant on [a, b]

7.3
a.  for all ε > 0, let Pε be an arbitrary partition with ||Pε|| < δ
    if P ⊇ Pε, ||P|| <= ||Pε|| < δ, and |S(P, f, α) - A| < ε
    by definition 7.1, int(a, b, fdα) = A
b.  f(c-) = f(c), α(c+) = α(c), α is monotonic
    by theorem 7.9, int(a, b, fdα) exists and equals to f(c)(α(c+) - α(c-)) = 1
    for all δ > 0, define P that, [xk-1, xk] = [c - δ/4, c + δ/4] ∈ P, ||P|| < δ
    S(P, f, α)  = Σf(tk)Δαk
                = f(tk)(α(c + δ/4) - α(c - δ/4))
                = 1 if tk >= c
                = 0 if tk < c 
    so int(a, b, fdα) is not defined according to the second definition

7.4
let I = int(a, b, fdx), there's some Pε that for all P ⊇ Pε,
    U(P, f) - I <= U(P, f) - L(P, f)
                < ε/4
let M = sup{|f(x)|: x ∈ [a, b]}, N = |Pε|, δ = ε/4MN, if ||P|| < δ let
    U(P, f) = ΣMk(f)Δxk
            = S1 + S2
where S1 is the sum of terms whose interval contains no point of Pε (i.e. whose intervals are sub-intervals of Pε)
S2 is the sum of remaining terms which contains at least one point of Pε
as S1 may be considered as intervals of a partition P finer than Pε,
    S1 <= U(Pε, f) < I + ε/4
and since Mk(f) <= M, S2 has fewer terms than |Pε| = N, length of each interval of S2 <= ||P|| < δ
    S2 <= NMδ = ε/4
adding the two inequality gives
    U(P, f) < I + ε/2 if ||P|| < δ
similarly,
    L(P, f) > I - ε/2 if ||P|| < δ'
hence take ||P|| < min{δ, δ'},
    |S(P, f) - I|   <= U(P, f) - L(P, f)
                    < ε
so the integral exists according to the second definition

7.5
f is continuous on [0, a) and continuous from left at a
Σ{n<=a}anf(n)   = int(1, a, fdA) + a1f(1)   // theorem 7.10
                = A(a)f(a) - A(1)f(1) + A1f(1) - int(1, a, Adf)
                = A(a)f(a) - int(1, a, Adf)

7.6
a.  Σ1/k^s  = int(1, n, 1/x^sd[x]) + 1 // theorem 7.11
            = 1/n^s * n - 1 - int(1, n, [x]d(1/x^s)) + 1  // integration by parts
            = 1/n^(s-1) + s * int(1, n, [x]/x^(s+1)dx) // theorem 7.8, x^(s+1) is continuous on [1, n]
b.  Σ1/k    = int(1, n, 1/xdx) - int(1, n, (x - [x] - 1/2)/x^2dx) + (1 + 1/n)/2
            = logn - int(1, n, (x - [x])/x^2dx) + 1/2 * int(1, n, 1/x^2dx) + (1 + 1/n)/2
            = logn - int(1, n, (x - [x])/x^2dx) + 1

7.7
let A(x) = 2[x/2] - [x], x is constant on every interval [n, n + 1)
when n = 2k, 2[n/2] - [n] = 2k - 2k = 0, A(n+) - A(n-) = 1
when n = 2k + 1, 2[n/2] - [n] = 2k - 2k - 1 = -1, A(n+) - A(n-) = -1
Σ(-1)^kf(k) = int(1, 2n, fdA) + f(1)
            = -f(1) - int(1, 2n, Adf) + f(1)
            = int(1, 2n, f'(x)([x] - 2[x/2])dx)

7.8
φ1 is continuous almost everywhere, φ2(x) = int(0, x, φ1dt) exist on [1, n] and φ2'(x) = φ1(x)
for all integer n,
    φ2(n)   = int(0, n, φ1dt)
            = Σint(k, k+1, φ1dt)
            = 0
int(1, n, f'(x)(x - [x] - 1/2)dx)   = int(1, n, f'(x)φ1(x)dx) // φ1(x) != x - [x] - 1/2 only at finite points
                                    = int(1, n, f'dφ2)
                                    = f'(n)φ2(n) - f'(1)φ2(1) - int(1, n, φ2df')
                                    = -int(1, n, f''φ2dx)

7.9
logn!   = Σlogk
        = int(1, n, logxdx) + int(1, n, φ2(x)/x^2 dx) + logn/2
        = (n + 1/2)logn - n + 1 + int(1, n, φ2(x)/x^2 dx)

7.10
a.  π(.) is a step function continuous from right with jump 1 at every prime number p
    logt is continuous on (0, +∞)
    int(3/2, x, logtdπ) = Σ{2, [x]}logp 
                        = k(x)
    similarly, k(.) is a step function continuous from right with jump logp at every prime number p
    1/logt is continuous on (0, +∞)
    int(3/2, x, 1/logt dk)  = Σ{2, [x]}logp/logp
                            = Σ{p <= n}1
b.  k(x)    = int(3/2, x, logtdπ)
            = π(x)log(x) - int(3/2, x, π(t)dlogt)
            = π(x)log(x) - int(3/2, x, π(t)/t dt)
            = π(x)log(x) - int(2, x, π(t)/t dt) - int(3/2, 2, π(t)/t dt)
            = π(x)log(x) - int(2, x, π(t)/t dt) // π(t)/t = 0 on [3/2, 2)
    π(x)    = int(3/2, x, 1/logt dk)
            = k(x)/logx - int(3/2, x, kd1/logt)
            = k(x)/logx + int(3/2, x, k/tlog^2t dt)
            = k(x)/logx + int(2, x, k/tlog^2t dt)

7.11
a.  when α↑, ΣMk(f)Δαk  >= ΣmΔαk for bounded f and m = inf{f(x)}, inf{U(P, f, α)} is defined on any interval in [a, b]
    let P1, P2 be two partition on [a, c], [c, b] that
        U(P1, f, α) - uint(a, c, fdα) < ε/4
        U(P2, f, α) - uint(c, b, fdα) < ε/4
    P = P1 ∪ P2 is a partition of [a, b] and
        U(P, f, α) = U(P1, f, α) + U(P2, f, α)
        U(P, f, α) - uint(a, c, fdα) - uint(c, b, fdα) < ε/2
    let Pε be a partition that 
        U(Pε, f, α) - uint(a, b, fdα) < ε/2
    let P' = P ∪ Pε, c ∈ P', P' satisfies all the inequalities above, 
        |U(P', f, α) - uint(a, c, fdα) - uint(c, b, fdα)| < ε/2
        |U(P', f, α) - uint(a, b, fdα)| < ε/2
        |uint(a, b, fdα) - uint(a, c, fdα) - uint(c, b, fdα)| < ε
    for all ε > 0, uint(a, b, fdα) = uint(a, c, fdα) + uint(c, b, fdα)
b.  Mk(f + g)   = sup{f(x) + g(x): x ∈ [xk-1, xk]}
                <= sup{f(x) + g(y): x, y ∈ [xk-1, xk]} // supremum of a super set
                = Mk(f) + Mk(g)
    when α↑, for all partition P of [a, b],
        U(P, f + g, α)  = ΣMk(f + g)Δαk
                        <= Σ(Mk(f) + Mk(g))Δαk
                        = U(P, f, α) + U(P, g, α)
        inf{U(P, f + g, α)} <= inf{U(P, f, α) + U(P, g, α)}
    similarly, mk(f + g) >= mk(f) + mk(g) and
        inf{L(P, f + g, α)} >= inf{L(P, f, α) + L(P, g, α)}

7.12
let α = x, define f:[1, 2] -> R as:
    f(x)    = x when x is rational
    f(x)    = -x when x is irrational
f is not continuous from left or right at any point in (1, 2), int(1, 2, fdα) doesn't exist
|f(x)| = x is continuous everywhere on [1, 2], int(1, 2, |f|dα) exists

7.13
a.  f ∈ BV([a, b]), by theorem 7.32, β ∈ BV([a, b]), β is continuous on [a, b]
    by theorem 7.27, β ∈ R(f), f ∈ R(β), int(a, b, fdβ) exists
    apply second mean-value theorem, for some x0 ∈ [a, b],
        int(a, b, fdβ)  = f(a)int(a, x0, dβ) + f(b)int(x0, b, dβ)
                        = f(a)β(x0) + f(b)(β(b) - β(x0))
                        = f(a)int(a, x0, gdα) + f(b)(int(a, b, gdα) - int(a, x0, gdα))
                        = f(a)int(a, x0, gdα) + f(b)int(x0, b, gdα)
b.  by theorem 7.27 f ∈ R(α), by theorem 7.23 and α = V - (V - α), fg ∈ R(α), int(a, b, fgdα) exist
    by theorem 7.26
        int(a, b, fgdα) = int(a, b, fdβ)
                        = f(a)int(a, x0, gdα) + f(b)int(x0, b, gdα)

7.14
by theorem 7.24, f ∈ R(V)
for all partition P of [a, b],
    Σ|f(tk)|(α(xk) - α(xk-1))   <= Σ|f(tk)||α(xk) - α(xk-1)|
                                <= Σ|f(tk)|(V(xk) - V(xk-1))
hence
    |int(a, b, fdα)|    <= int(a, b, |f|dα)
                        <= int(a, b, |f|dV)
                        <= int(a, b, MdV)
                        = MV(b) - MV(a)
                        <= MV(b) // MV(a) >= 0

7.15
let M = sup{|f|}, let βn = α - αn, f ∈ R(βn)
as Vβn(a, b) -> 0, there's N for all n >= N,
    Vβn(a, b) < ε/2M
    |S(P, f, βn)|   = |Σf(tk)Δβnk|
                    <= Σ|f(tk)Δβnk|
                    <= Σ|MVβn(xk-1, xk)|
                    = MΣVβn(xk-1, xk)
                    = MVβn(a, b)
                    < ε/2
so |int(a, b, fdβn)| <= ε/2 < ε, it has
    |int(a, b, fdα) - int(a, b, fdαn)|  = |int(a, b, fdβn)|
                                    < ε
for all ε > 0, int(a, b, fdαn) -> int(a, b, fdα)

7.16
// no idea how to prove fg ∈ R(α)
// a similar exercise of Rudin assumed α↑ from beginning
// in fact Rudin's book assumed α↑ throughout the chapter of Riemann-Stieltjes integration
1/2 * int(a, b, int(a, b, (f(x)g(y) - f(y)g(x))^2dα(y))dα(x))
= 1/2 * int(a, b, int(a, b, f(x)^2g(y)^2 - 2f(x)g(x)f(y)g(y) + f(y)^2g(x)^2 dα(y))dα(x))
// int(a, b, f(y)^2dα(y)), int(a, b, g(y)^2dα(y)), int(a, b, f(y)g(y)dα(y)) are constants
= int(a, b, f(x)^2dα(x)) * int(a, b, g(x)^2dα(x)) - int(a, b, f(x)g(x)int(a, b, f(y)g(y)dα(y)))
= int(a, b, f(x)^2dα(x)) * int(a, b, g(x)^2dα(x)) - int(a, b, f(x)g(x)dα(x))^2
since det[f(x), g(x); f(y), g(y)]^2 is non-negative on [a, b] x [a, b], α↑, the integral is non-negative 

7.17
(f(y) - f(x))(g(y) - g(x))  = f(y)g(y) - f(y)g(x) - f(x)g(y) + g(x)g(x)
1/2 * int(a, b, int(a, b, (f(y) - f(x))(g(y) - g(x))dα(y))dα(x))
= 1/2 * int(a, b, int(a, b, f(y)g(y) - f(y)g(x) - f(x)g(y) + g(x)g(x) dα(y))dα(x))
= int(a, b, fgdα)(α(b) - α(a)) - int(a, b, fdα)int(a, b, gdα)
if α↑ and both f, g increasing (or decreasing), f(y) - f(x) and g(y) - g(x) have the same sign
(f(y) - f(x))(g(y) - g(x)) >= 0, the first integral is nonnegative
if f increasing, g decreasing (or vice versa), (f(y) - f(x))(g(y) - g(x)) <= 0, the first integral is nonpositive

7.18
for n >= 1, let P be a partition:
    xk = a + k(b - a)/n
    S(P, f, x)  = Σf(tk)Δxk
                = Σf(tk)(b - a)/n
where a + (k - 1)(b - a)/n <= tk <= a + k(b - a)/n, take tk = a + k(b - a)/n gives
    S(P, f, x)  = Σf(a + k(b - a)/n)(b - a)/n
by exercise 7.4, as f ∈ R on [a, b], for all ε > 0 there's δ, ||P|| < δ implies S(P, f, x) ∈ B(int(a, b, fdx); ε)
let N = [(b - a)/δ] + 1, for all n >= N, ||P|| < δ, |S(P, f, x) - int(a, b, fdx)| < ε
lim{n -> ∞}(b - a)/n * Σf(a + k(b - a)/n) = int(a, b, fdx)
1.  let f(x) = 1/(x^2 + 1), a = 0, b = 1
    f(a + k(b - a)/n)   = f(k/n) 
                        = 1/(k^2/n^2 + 1)
                        = n^2/(k^2 + n^2)
    lim{n -> ∞}Σn/(k^2 + n^2)   = lim{n -> ∞}1/n * Σn^2/(k^2 + n^2)
                                = lim{n -> ∞}(1 - 0)/n * Σf(k/n)
                                = int(0, 1, 1/(x^2 + 1) dx)
                                = arctan(1) - arctan(0)
                                = π/4
2.  n(n^2 + k^2)^(-1/2) = √(n^2/(k^2 + n^2))
    let a = 0, b = 1, f(x) = √(1/(x^2 + 1))
    lim{n -> ∞}Σ(k^2 + n^2)^(-1/2)  = int(0, 1, √(1/(x^2 + 1)) dx)
                                    = arcsinh(1) - arcsinh(0)
                                    = log(1 + √2)

7.19
a.  f'(x)   = 2int(0, x, e^-t^2 dt) * e^-x^2
    e^-x^2(t^2 + 1)/(t^2 + 1) is continuous on R^2
    g'(x)   = int(0, 1, (-(t^2 + 1) * 2x * e^-x^2(t^2 + 1))/(t^2 + 1)  dt)
            = int(0, 1, (-2x * e^-x^2(t^2 + 1))dt) // theorem 7.40
            = -2e^-x^2 * int(0, 1, xe^-(xt)^2 dt)
            // let h(t) = xt, change integral from [0, 1] to [0, x]
            // h'(t) = x is continuous on [0, 1]
            = -2e^-x^2 * int(0, x, e^-t^2 dt)
            = -f'(x)
    (g + f)' = g' + f', g + f is constant on R
    at x = 0,
    f(0) + g(0) = 0 + int(0, 1, 1/(t^2 + 1) dt)
                = arctan(1)
                = π/4
b.  by theorem 7.38, 
    lim{x -> ∞}g(x) = int(0, 1, lim{x -> ∞}e^-x^2(t^2 + 1)/(t^2 + 1) dt)
                    = int(0, 1, 0dt)
                    = 0
    therefore
    lim{x -> ∞}f(x) = lim{x -> ∞}(f(x) + g(x)) - g(x)
                    = π/4
    lim{x -> ∞}√f(x)    = √π/2

7.20
x↑, |g| ∈ R on [a, b]
for all partition P of [a, x], 
Σ|Δfk|  = Σ|int(xk-1, xk, gdt)|
        <= Σint(xk-1, xk, |g|dt)
        = int(a, x, |g|dt)
also 
Σ|Δfk|  = Σ|int(xk-1, xk, gdt)|
        = Σ|g(tk)|(xk - xk-1)
        = S(P, |g|, t)
by the definition of int(a, x, |g|dt) = A, for all ε > 0 there's partition Pε that
|S(Pε, |g|, t) - A| = A - S(Pε, |g|, t)
                    = A - Σ|Δfk|
                    < ε
therefore int(a, x, |g|dt) = sup{Σ|Δfk|} = V|g|(a, x)

7.21
for all component function fi, fi' = (f')i exists, fi is uniformly continuous on [a, b]
by exercise 4.52 fi must be bounded, fi ∈ R, |fi| ∈ R, Vfi(a, b) = int(a, b, |fi|dx) is finite 
Λf(a, b) <= ΣVfi(a, b) is finite, the curve is rectifiable
for a partition P of [a, b],
    Λf(P)   = Σ{k}√Σ{i}Δfik^2
            = Σ{k}√Σ{i}(fi'(tik)Δxk)^2
            = Σ{k}Δxk√Σ{i}fi'(tik)^2
fi' is continuous, for all non-negative A, √(A + fi'(x)^2) is uniformly continuous on [a, b]
for all ε > 0, there's δi that whenever |x - y| < δi, |√(A + fi'(x)^2) - √(A + fi(y)^2)| < ε/3n(b - a)
let ||P|| < min{δi}, for an arbitrary tk in [xk-1, xk], fix all but one tik at a time and by triangle inequality, 
    |√Σ{i}fi'(tik)^2 - √Σ{i}fi'(tk)^2|  <= Σ|√(Ai + fi'(tik)^2) - √(Ai + fi'(tk)^2)|
                                        < n * ε/3n(b - a)
                                        = ε/3(b - a)
where
    |Λf(P) - S(P, ||f'||)|  = Σ{k}Δxk * |√Σ{i}fi'(tik)^2 - √Σ{i}fi'(tk)^2|
                            < ΣΔxk * ε/2(b - a)
                            = ε/3
by definition of Λf(a, b) = sup{Λf(P)}, there's a partition Pε that, for all P ⊇ Pε,
    |Λf(a, b) - Λf(P)| < ε/3
by definition of int(a, b, ||f'||dx), there's a partition Qε that, for all P ⊇ Qε,
    |S(P, ||f'||) - int(a, b, ||f'||dx)| < ε/3
take P = Pε ∪ Qε and ||P|| < min{δi},
    |Λf(a, b) - int(a, b, ||f'||dx)|    <= |Λf(a, b) - Λf(P)| 
                                        + |Λf(P) - S(P, ||f'||)| 
                                        + |S(P, ||f'||) - int(a, b, ||f'||dx)|
                                        < ε
for arbitrary ε, Λf(a, b) = int(a, b, ||f'||dx)

7.22
a.  Ik-1(x) - Ik(x) = 1/k! * int(a, x, k(x - t)^(k-1)f^(k)(t) - (x - t)^kf^(k+1)(t) dt)
                    = 1/k! * int(a, x, d-(x - t)^kf^(k)(t))
                    = 1/k! * (x - a)^kf^(k)(a)
b.  assume f^(n) is finite on [a, b], then f^(k) for all k <= n - 1 is continuous and bounded, f^(k) ∈ R
    define Ik(x), k <= n - 2 as
        Ik(x) = int(c, x, (x - t)^kf^(k+1)(t) dt)
    then 
        I0(x)   = int(c, x, f'(t) dt)
                = f(x) - f(c)
        Σ{1, n-2}(Ik-1(x) - Ik(x))  = Σ{1, n-2}f^(k)(c)(x - c)^k/k!
                                    = I0(x) - In-2(x)
                                    = f(x) - f(c) - int(c, x, (x - t)^(n-2)f^(n-1)(t) dt)
        f(x) = f(c) + Σ{1, n-2}f^(k)(c)(x - c)^k/k! + int(c, x, (x - t)^(n-2)f^(n-1)(t) dt)

7.23
a.  // theorem 7.40 and 7.32 cannot be applied here, fn(x) is a mixture of both
    lim{x -> c}(int(0, x, (x - t)^nf(t)dt) - int(0, c, (c - t)^nf(t)dt))/(x - t)
    = lim{x -> c}int(c, x, (x - t)^nf(t)dt)/(x - t)
    + lim{x -> c}int(0, c, ((x - t)^n - (c - t)^n)f(t)dt)/(x - t)
    = (x - x)^nf(x) + int(0, c, Dx(x - t)^nf(t)dt)
    = n * int(0, c, (x - t)^(n-1)f(t)dt)
    hence fn+1' = fn for n >= 1, fn^(n) = f
b.  // thanks solutions manual
    (f1)n = fn+1:
        f1(t) = int(0, t, f(u)du)
        f1' = f, f1(0) = 0
        (f1)n(x)    = 1/(n-1)! * int(0, x, (x - t)^(n-1)f1 dt)
                    = 1/n! * int(0, x, f1d(-(x - t)^n))
                    = 1/n! * (-f1(x)(x - x)^n + f1(0)x^n - int(0, x, -(x - t)^ndf1(t))) // integration by parts
                    = 1/n! * int(0, x, (x - t)^nf(t)dt)
                    = fn+1(x)
    assume wlog f(a) > 0, f1(a) = int(0, a, f(t)dt) < 0
    if f(t) >= 0 on [0, a], f1(a) >= 0, so there must be some 0 <= a1 < a that f(a1) < 0
    assume for all n <= k, there's no less change of signs in f on [0, a] than (fi(a))
    for n = k + 1, (fi(a)) = (f(a), (f1)i(a))
    by induction there's no less change of sign of f1 than ((f1)i(a)) on [0, a]
    denote the number of change of signs of f1 in [0, a] as M
        (when there's infinite change of sign, let M = k + 1 and consider only the first k + 1 change of sign)
    there's a sequence of points (xi) of length M + 1 that, f1(xi)f1(xi+1) < 0
    by theorem 7.32 f1 are continuous, there's f1(yi) = 0 between every xi and xi+1
    as f1(0) = 0, there's at least M + 1 zero point of f1 on [0, a], between each two there's a point x that f(x) != 0
    int(yi, xi+1, fdt) = f1(xi+1) - f1(yi) and int(xi+1, yi+1, fdt) = f1(yi+1) - f1(xi) have different signs
    f must take different signs on (yi, xi+1) and (xi+1, yi+1) as value of f at endpoints do not effect the integral
    f is continuous, there's at least M change of sign of f on [0, a]
    if additionally f(a)f1(a) < 0, assume f and f1 has the same number of change of sign on [0, a]
    since both f(x) and f1(x) changed sign M times while going backward from a to 0
    in a small interval (0, δ), f(x)f1(x) < 0 for all x ∈ (0, δ), f(x) and f1(x) has constant sign on (0, δ)
    but
        f(x)f1(x)   = f(x)(f1(x) - f1(0))
                    = f(x)f1'(y)
                    = f(x)f(y)
    for some y ∈ (0, x) by mean-value theorem
    but f(x) has constant sign on (0, δ), f(x)f(y) > 0
    therefore f must have more change of sign than f1 and no less change of sign than (fi(a)) on [0, a]
c.  let u = a - t, t = a - u, g(t) = f(a - t) = f(u)
    g(t) is continuous on [0, a] whenever f is and have the same number of change of sign
    int(0, a, (a - t)^ng(t)dt)  = -int(a, 0, u^nf(u)du)
                                = int(0, a, u^nf(u)du)
    by part b, g and f has more change of signs than the sequence (gk(a)) where 
        gk(a)   = 1/k! * int(0, a, (a - t)^(k-1)(t)dt)
                = 1/k! * int(0, a, t^(n-1)f(t)dt)

7.24
M = f(c) ∈ f([a, b]) since f is continuous, for all ε > 0 there's δ that
    f(B(c; δ) ∩ [a, b]) ⊆ (M - ε, M]
let S = [c - δ/2, c + δ/2] ∩ [a, b], S is a closed interval in which f(x) > M - ε, let |S| be the length of S, |S| > 0
(M - ε)|S|^(1/n)    < int(S, f(x)^ndx)^(1/n)
                    <= int(a, b, f(x)^ndx)^(1/n)
                    <= M(b - a)^(1/n)
for all k > 0, lim{n -> ∞}k^(1/n) = k^0 = 1 as f(x) = k^(1/x) is continuous on (0, +∞)
lim{n -> ∞}int(a, b, f(x)^ndx)^(1/n) ∈ (M - ε, M] for all ε, lim{n -> ∞}int(a, b, f(x)^ndx)^(1/n) = M

7.25
a.  for all y ∈ [0, 1] and all partition P of [a, b],
        U(P, f) = ΣMk(f)Δxk
                = Σmax{1, 2y}Δxk
                = max{1, 2y}
        L(P, f) = Σmk(f)Δxk
                = min{1, 2y}
b.  if x is rational, f(x, y) = 1 is continuous wrt. y, int(0, t, fdy) = t
    if x is irrational, f(x, y) = 2y is continuous wrt. y, int(0, t, fdy) = t^2
c.  for all x, F(x) = int(0, 1, fdy) = 1 is constant
    int(0, 1, Fdx) = 1

7.26
a.  1.  f is discontinuous at only countable points, by Lebesgue's criterion
    2.  f is monotonic and of bounded variation, int(0, 1, xdf) exists and so is int(0, 1, fdx)
b.  int(0, x, fdx)  = lim{n -> ∞}int(2^-n, x, fdx):
        as f(x) >= 0 on [0, 1], for 0 <= x <= 1, 
        0   <= int(0, x, fdx) - int(2^-n, x, fdx)  
            = int(0, 2^-n, fdx)
            <= 2^-n * 2^-n
            = 2^-2n
        can be made arbitrary small
    let p = [-log(2, x)],
        -log(2, x) - 1 < p <= -log(2, x)
        log(2, x) <= -p < log(2, x) + 1
        x <= 2^-p < 2x
        2^-(p+1) < x <= 2^-p
    as x <= 1, p >= 0, for n > p, 
        int(2^-n, x, fdx)   = int(2^-n, 2^-(p+1), fdx) + int(2^-(p+1), x, fdx)
                            = Σ{p+1, n-1}int(2^-(k+1), 2^-k, fdx) + int(2^-(p+1), x, fdx)
                            // discontinuity at every 2^-n doesn't change the integral
                            = Σ{p+1, n-1}2^-k2^-(k+1) + (x - 2^-(p+1))2^-p
                            = 1/2 * Σ{p+1, n-1}4^-k + (x - 2^-(p+1))2^-p
                            = 1/2 * 4^-p * Σ{1, n-p-1}4^-k + x2^-p - 2^-(2p+1)
                            = 2^-(2p+1)(Σ{1, n-p-1}4^-k - 1) + x2^-p
                            = A(x)^2/2 * (Σ{1, n-p-1}4^-k - 1) + xA(x)
        int(0, x, fdx)  = lim{n -> ∞}int(2^-n, x, fdx)
                        = A(x)^2/2 * -2/3 + xA(x)
                        = xA(x) - A(x)^2/3

7.27
0 < 1/f'(x) <= 1/m is increasing on [a, b]
int(a, b, cosf(x)dx)    = int(a, b, cosf(x)f'(x)/f'(x)dx) // f'(x) != 0 on [a, b]
                        = 1/m * int(x0, b, cosf(x)f'(x)dx)
                        = 1/m * int(x0, b, dsinf(x))
                        = 1/m * (sinf(b) - sinf(x0))
therefore |int(a, b, cosf(x)dx)| <= 2/m

7.28
let Q(x, h) = B(x; h) ∩ Q, I(x; h) = B(x; h) ∩ (R - Q), B(x; h) = Q(x; h) ∪ I(x; h)
f(I(x; h)) = {0} for all x and h, consider Ωf(Q(x; h) ∩ [0, 1])
by exercise 4.16, for all N there's a δ that Q(x; h) contains only rational number m/n, n >= N except x
for all ε > 0, there's N that |G(n)| < ε for all n >= N, which implies for some δ,
    f(Q(x; δ) - {x}) ⊆ B(0; ε), combine with f(I(x; h)) = {0},
    f(B(x; δ) - {x}) ⊆ B(0; ε)
    Ωf(B(x; δ)) < |G(n)| + ε
so ωf(x) = |G(n)|
when x is irrational, again by exercise 4.16 for all ε > 0, there's δ for all y ∈ Q(x; δ), |f(y)| < ε
Ωf(B(x; δ)) < ε, ωf(x) = 0, f is continuous at x
f is discontinuous on only countable points, by Lebesgue's criterion f ∈ R

7.29
for rational x, f(x) = f(m/n) = G(n) = 1/n > 0, h(x) = g(1/n) = 0
for irrational x, f(x) = 0, h(x) = 1
h is continuous nowhere on [0, 1], by Lebesgue's criterion h ∉ R

7.30
a.  f = V - (V - f), where V and V - f are increasing
    all discontinuity of V and V - f must be positive jump discontinuity
    by theorem 6.2 the set of discontinuity is countable, f ∈ R
b.  subset of a set with measure zero has measure zero, f ∈ R on [c, d] ⊆ [a, b]
    if f is continuous at c, 
        f^2 is continuous at c
        |f| = √f^2 is continuous at c
    if f, g ∈ R, their sets of discontinuity F and G have measure zero
    the discontinuity of fg ⊆ F ∪ G has measure zero, fg ∈ R
c.  1/g is continuous whenever g is continuous and nonzero
    if g is bounded away from 0, 1/g ∈ R, f/g ∈ R
d.  let F, G be the sets of discontinuity of f and g, F = G
    if f ∈ R, μ(F) = 0 = μ(G), g ∈ R and vice versa
e.  define F, G, H similarly
    if g is continuous at c, f is continuous at g(c), h is continuous at c
    H ⊆ G, μ(H) = 0, h ∈ R

7.31
if f, g are continuous at c, 
    logf is continuous as f > 0
    glogf is continuous
    e^glogf = f^g is continuous
the set of discontinuity of f^g is smaller than union of f and g, f^g ∈ R

7.32
a.  C is an intersection of countable closed sets, C is closed
    C ⊆ [0, 1], C is bounded, C is compact in R
    a covering of S is a covering of any subset of S, μ(C) <= μ(An) for all n
    for all ε > 0, take some n that (2/3)^n < ε/2
    An is a union of 2^n disjoint closed intervals, each of length 3^-n
    each closed interval [a, b] can be covered by an open interval of length b - a + δ for any δ > 0:
        [a, b] ⊆ (a - δ/2, b + δ/2)
    let δ = ε/2^(n+1), there's an open covering of An with total length 
        2^n * (3^-n + ε/2^(n+1))    = (2/3)^n + ε/2
                                    < ε
    μ(C) <= μ(An) < ε, C has measure zero
b.  =>: define x0 = 0, xn = Σ{1, n}an3^-n, xn ∈ An is the left endpoint of a closed interval in An:
            x0 = 0 is left endpoint of [0, 1]
            all closed intervals in An has length 3^-n, xn is the left endpoint of one of them
            xn+1 = xn + an+13^-(n+1), an+1 = 0 or 2 is the left endpoint of a closed interval in An+1
        x = x∞ ∈ An for all n, x ∈ ∩An = C
    <=: {x: x = Σan3^-n, an ∈ {0, 1, 2}} = [0, 1] is the base-3 representation of any real number in [0, 1]
        define S = {x: x = Σ{1, ∞}an3^-n, an = 0 or 2}
        let x = Σan3^-n and x ∉ S, let k be the first integer that ak = 1,
        xk-1 is a left endpoint of some closed interval of length 3^-(k-1) in Ak-1
        by calculation in part c, 0 <= Σ{k+1, ∞}an3^-n <= 3^-k, consider 3 cases:
        1.  an = 2 for all n > k
            Σ{k+1, ∞}an3^-n = 3^-k, in which case 
            x = Σbn3^-k where 
                bn = an when n < k
                bn = 2 when n = k
                bn = 0 when n > k
            so x ∈ S     
        2.  an = 0 for all n > k
            similarly x = Σbn3^-k where 
                bn = an when n < k
                bn = 0 when n = k
                bn = 2 when n > k
            again x ∈ S
        3.  there's some t > k that at = 1
            0 < Σ{k+1, ∞}an3^-k < 3^-k, x is immediately removed in the construction of Ak+1
        hence C ⊆ S
c.  each sequence (an) defines a distinct number in C:
        let (an) and (bn) be two different sequences, let k be the first ak != bk
        assume wlog ak = 2, bk = 0
        Σan3^-n - Σbn3^-n   = 2 * 3^-k + Σ{k+1, ∞}(an - bn)3^-n
                            >= 2 * 3^-k + 2Σ{k+1, ∞}3^-n
                            = 2 * 3^-k + 2 * 3^-(k+1) * Σ{0, ∞}3^-n
                            = 2 * 3^-k + 2 * 3^-(k+1) * 3/2
                            = 3^-k
                            > 0
    C is one-to-one to the set of sequences (an), which in turn is one-to-one to power set of N, which is uncountable
d.  set of discontinuity of f has measure zero, f ∈ R

7.33
a.  0 < x, 1 - x < 1, 0 < x^n, (1 - x)^n < 1, 0 < x^n(1 - x)^n/n! < 1/n!
b.  f^(k)(x) = Σn!/ai!bi! * x^ai(1-x)^bi, 0 <= ai, bi <= n:
        f(x) = x^n(1-x)^n/n!, a1 = b1 = n
        assume a term of f^(k)(x) is n!/a!b! * x^a(1 - x)^b = g(x), consider its derivative in 3 cases
        1.  both a and b > 0
            g'(x)   = n!/a!b! * (ax^(a-1)(1 - x)^b + x^ab(1 - x)^(b-1))
                    = n!(a-1)!b! * x^(a-1)(1 - x)^b + n!/a!(b-1)! * x^a(1 - x)^(b-1)
            both terms have the same form as g(x)
        2.  a = 0, b > 0 (or a > 0, b = 0)
            g'(x)   = n!/a!(b-1)! * (1 - x)^(b-1)
        3.  a = b = 0
            g'(x)   = 0
        hence f^(k+1) has the same form as f^(k)
    when a != 0, b != 0, g(1) = g(0) = 0
    when a = 0, b >= 0, g(1) = 0, g(0) = n!/b! for some b <= n
    when a >= 0, b = 0, symmetric
    all terms in f^(k)(1) and f^(k)(0) are integers, f^(k)(1) and f^(k)(0) are integers
c.  F(x)    = b^nΣ(-1)^kf^(2k)(x)π^2(n-k)
            = b^nΣ(-1)^kf^(2k)(x)(a/b)^(n-k)
            = Σ(-1)^kf^(2k)(x)a^(n-k)b^k
    is a sum of integers
d.  for all k >= 2n + 1, f^(k) = 0:
        take derivative decreases the power of x or 1 - x in a term of f^(k)
        the 2n order derivative is a constant, for all k >= 2n + 1 f^(k) = 0
    d/dx (F'(x)(sinπx - πF(x)cosπx)
    = F''(x)sinπx + πF'(x)cosπx - πF'(x)cosπx + π^2F(x)sinπx
    = b^n(Σ{0, n}(-1)^kf^(2k+2)(x)π^2(n-k) + Σ{0, n}(-1)^kf^(2k)(x)π^2(n-k+1))sinπx
    = b^n(Σ{0, n-1}(-1)^kf^(2k+2)(x)π^2(n-k) + Σ{1, n}(-1)^kf^(2k)(x)π^2(n-k+1) + f(x)π^2(n+1))sinπx
    = b^n(Σ{0, n-1}(-1)^kf^(2k+2)(x)π^2(n-k) + Σ{0, n-1}(-1)^(k+1)f^(2k+2)(x)π^2(n-k) + f(x)π^2(n+1))sinπx
    = π^2a^nf(x)sinπx
e.  int(0, 1, π^2a^nsinπx dx)   = F'(1)sinπ - πF(1)cosπ - F'(0)sin0 + πF(0)cos0
                                = π(F(1) + F(0))
    πint(0, 1, a^nsinπx dx) = F(1) + F(0)
f.  n! grows faster than a^n for any a, for sufficiently large n, 0 < πa^n/n! < 1
    0 < πa^nf(x)sinπx < 1 on (0, 1/2) ∪ (1/2, 1) for sufficiently large n, so is the integral F(1) + F(0)

7.34
S(P, f, α)  = Σf(tk)Δαk
            = Σf(tk)α'(sk)Δxk // xk-1 < sk < xk, xk-1 <= tk <= xk for arbitrary tk
            = Σf(sk)α'(sk)Δxk // take tk = sk
            = S(P, fα')
for all ε > 0, there's partitions Pε and Qε of [a, b] that for all P ⊇ Pε, Q ⊇ Qε,
    |S(P, f, α) - int(a, b, fdα)| < ε/2
    |S(Q, fα') - int(a, b, fα'dx)| < ε/2
    |int(a, b, fdα) - int(a, b, fα'dx)| <= |int(a, b, fdα) - S(P, f, α)| + |S(P, f, α) - int(a, b, fα'dx)|
                                        < ε
as ε is arbitrary, int(a, b, fdα) = int(a, b, fα'dx)

7.35
there's a finite partition P, for all choices of tk, 
    S(P, f) = Σf(tk)Δxk > I/2
let A = {k: [xk-1, xk] ⊆ T}, B = ~A
    I/2 < S(P, f) 
        = Σ{A}f(tk)Δxk + Σ{B}f(tk)Δxk
        < MΣ{A}Δxk + hΣ{B}Δxk // f(tk) <= M, there's always some f(tk) < h in each interval of B
        <= MΣ{A}Δxk + h(b - a) // B has total length <= b - a
    Σ{A}Δxk > (I/2 - h(b - a))/M
            = I/2 * (1 - (b - a)/(M + b - a))/M
            = I/2(M + b - a)
            = h

7.36
a.  by theorem 7.39, h(x) = int(a, b, K(x, t)φ(t)dt) is continuous on [a, b]
    g(x) + λh(x) is continuous on [a, b], T: C[a, b] -> C[a, b]
b.  |λ| < 1/M(b - a), M(b - a)|λ| < 1
    for any two continuous function defined on [a, b], 
    |T(f)(x) - T(g)(x)| = |λ||int(a, b, K(x, t)f(t)dt) - int(a, b, K(x, t)g(t)dt)|
                        = |λ||int(a, b, K(x, t)(f(t) - g(t))dt)|
                        <= |λ|int(a, b, |K(x, t)(f(t) - g(t))|dt)
                        <= M|λ|int(a, b, |f(t) - g(t)|dt)
                        <= M|λ|(b - a)||f - g||
                        < ||f - g||
    therefore T is a contraction on C[a, b]

7.37
a.  f(x, φ(x)) is continuous on [a - h, a + h]:
        for all ε > 0, there's δ that, f(B((x, y); δ)) ⊆ B(f(x, y); ε)
        φ is continuous, there's r that φ(B(x; r)) ⊆ B(φ(x); δ/2)
        take s = min{δ/2, r}, f(y, φ(y)) ∈ B(f(x, φ(x)); ε) whenever y ∈ B(x; s)
    =>: assume φ'(x) = f(x, φ(x)) on (a - c, a + c), φ(a) = b
        let G(x) = int(a, x, f(t, φ(t))dt)
        G'(x) = f(x, φ(x)) = φ'(x), φ(x) = G(x) + C for some constant C
        φ(a) = G(a) + C = 0 + C = b, C = b
    <=: φ(x) = b + int(a, x, f(t, φ(t))dt)
        φ'(x) = f(x, φ(x)), φ(a) = b
b.  assume f is an accumulation point of S, for all ε > 0 there's a function g ∈ S that 
        d(f, g) = ||f - g||
                = sup{|f(x) - g(x)|: x ∈ [a - c, a + c]}
                < ε
        |f(x) - b|  <= |g(x) - b| + |f(x) - g(x)|
                    <= Mc + ε
    for arbitrary ε, |f(x) - b| <= Mc, f ∈ S
c.  given φ ∈ S, |φ(x) - b| <= Mc, by part a T(φ) is continuous on [a - c, a + c]
    |T(φ)(x) - b|   = |int(a, x, f(t, φ(t))dt)|
                    <= int(a, x, |f(t, φ(t))|dt) // assume wlog x >= a
                    <= M(x - a)
                    <= Mh
                    <= Mc
    hence T(φ) ∈ S
d.  let g, h ∈ S, |g(x) - b|, |h(x) - b| <= Mc
    |T(g)(x) - T(h)(x)| = |int(a, x, f(t, g(t)) - f(t, h(t))dt)|
                        <= int(a, x, |f(t, g(t)) - f(t, h(t))|dt)
                        <= int(a, x, A|g(t) - h(t)|dt)
                        <= A||g - h||(x - a)
                        <= Ah||g - h||
    where Ah < 1, T is a contraction on S, there's a unique function φ that T(φ) = φ
    combine with part a, y' = f(x, y), y(a) = b has a unique solution

theorem 8.33
Σan is convergent, an -> 0 as n -> ∞
for all ε > 0, there's N, M that 
    yn < y + ε/2
    an < ε/2
for all n >= max{N, M}
by x <= y, each chunk of {pk} and {qr} has at least one term
by how pk is chosen, the term pk added to make the sum just over yn must have  
    bt = pk = am, m >= k >= n
    Σ{1 <= s <= t-1}bs < yn
    Σ{1 <= s <= t}bs < yn + pk < y + ε
after that the sum decreases towards xn < yn, for all greater t the sum <= y + ε
for all ε > 0, there's an yn > y - ε 
and positive terms pk are added to Σbn until the sum exceeds yn somewhere in the sequence, limsup{n -> ∞} = y
liminf{n -> ∞} = x similarly

8.1
a.  if U is finite, for all ε > 0, there's N that for all n >= N,
        an < U + ε/2
        un <= U + ε/2 < U + ε
    for all n >= N, there's m > n >= N that
        un >= am > U - ε
    hence un ∈ B(U; ε) for all ε > 0, un -> U
    if U = -∞, {an} has no finite limit superior
    assume u = lim{n -> ∞}un is finite, u must be a finite limit superior of {an}:
        for all ε > 0, there's some uN ∈ B(u; ε), an <= uN < u + ε for all n >= N
        un ∈ C({an}), u = inf{un} ∈ C({un}) ⊆ C({an}), u is an adherent point of {an}
        if u is an accumulation point of {an}, there's infinite an > u - ε for all ε
        if u is an isolated point of {an}, (B(u; r) - {u}) ∩ {an} = ∅
        there must be infinite an = u otherwise an <= u - r for sufficiently large n, lim{un} <= u - r
    hence u = -∞ = U
b.  symmetric with the sequence bn = -an
c.  for each integer k, there's an integer N that
        an < U + 1/k whenever n >= N
    also there's m > N that
        U + 1/k > am > U - 1/k
    let s(k) = m, a(s(k)) is a sequence that
        a(s(k)) ∈ B(U; 1/k)
    so a(s(k)) -> U
    similar subsequences of {an} can be constructed for V symmetrically
d.  when U = V is finite, by theorem 8.3 an -> U = V, all subsequence of {an} converges to the same value

8.2
a.  let limsup{n -> ∞}an = A, limsup{n -> ∞}bn = B, limsup{n -> ∞}(an + bn) = C
    {an}, {bn} bounded below, A and B are either finite or +∞
    if either is +∞, A + B is no less than any number in extended real set
    assume both A, B are finite, {an}, {bn}, {an + bn} are bounded, by exercise 8.1, 
        A = lim{n -> ∞}sup{ak: k >= n}
        B = lim{n -> ∞}sup{bk: k >= n}
        C = lim{n -> ∞}sup{ak + bk: k >= n}
    since
        sup{ak: k >= n} + sup{bk: k >= n}   = sup{ak + bs: k, s >= n}
                                            >= sup{ak + bk: k >= n}
    for all ε > 0 there's N that
        cn <= an + bn < A + B + ε
    hence C <= A + B + ε for all ε, C <= A + B
b.  if both A and B = +∞, {an} and {bn} are both not bounded above, {anbn} is not bounded above, C = +∞ <= A + B
    if both A and B are finite, A and B are bounded above
    if A (or B) = 0, let M = sup{bn}, for all ε > 0, there's N that whenever n >= N,
        0 < an < ε/M
        0 < anbn <= anM < ε
        anbn -> 0 = C
    if both A and B > 0, for all 3AB >= ε > 0, there's N that whenever n >= N,
        an < A + ε/3B
        bn < B + ε/3A
        anbn    < (A + ε/3B)(B + ε/3A)
                = AB + ε/3 + ε/3 + ε^2/9AB
                <= AB + ε
    therefore C <= AB

8.3
theorem 8.3:
    a.  there's N and M that, if n >= max{N, M},
            L - ε <= an <= U + ε
            L <= U + 2ε
        for arbitrary ε, L <= U
    b.  =>: assume an -> p
            for all ε > 0, there's N for all n >= N,
                p - ε < an < p + ε
            so p = U = L
        <=: assume U = L
            there's N and M for all n >= max{N, M},
                p - ε < an < p + ε
            so lim{n -> ∞}an = p
    c.  =>: assume an -> +∞
            {an} is not bounded above, limsup{n -> ∞} = +∞
            given M, there's N that n >= N implies -an < -M, -an is bounded above but not below
            for all p, there's N that n >= N implies -an < p - 1, {-an} has no finite limit superior
            liminf{n -> ∞}an = limsup{n -> ∞}-an = +∞
    d.  symmetric to part c
theorem 8.4:
    let limsup{n -> ∞}an = A, limsup{n -> ∞}bn = B
    if {bn} is not bounded above, B = +∞ >= A
    if {bn} is bounded above, so is {an}, by exercise 8.1, 
        A = lim{n -> ∞}sup{ak: k >= n}
        B = lim{n -> ∞}sup{bk: k >= n}
    since 
        sup{ak: k >= n} <= sup{bk: k >= n}
    it must have A <= B
    liminf is symmetric 

8.4
if {an+1/an} is bounded, let limsup{n -> ∞}an+1/an = A >= 0, for all ε > 0, there's N for all n >= N,
    an+1/an < A + ε
    an  < aN * (A + ε)^(n - N)
        = aN/(A + ε)^N * (A + ε)^n
        = c(A + ε)^n, c > 0
    (an)^(1/n) < c^(1/n) * (A + ε)
    limsup{n -> ∞}an^(1/n)  = lim{n -> ∞}sup{ak^(1/k): k >= n}
                            <= lim{n -> ∞}c^(1/n) * (A + ε)
                            = A + ε
as ε is arbitrary, limsup{n -> ∞}an^(1/n) <= limsup{n -> ∞}an+1/an
a symmetric argument gives liminf{n -> ∞}an+1/an <= liminf{n -> ∞}an^(1/n)
the inequality in the middle is an implication of theorem 8.3.a

8.5
lim{n -> ∞}an+1/an  = lim{n -> ∞}(1 + 1/n)^n
                    = e
by exercise 8.4, limsup{n -> ∞}n/(n!)^(1/n) = liminfP{n -> ∞}n/(n!)^(1/n) = e
by theorem 8.3.b, lim{n -> ∞}n/(n!)^(1/n) = e

8.6
let A = limsup{n -> ∞}an, if an is not bounded above, A = +∞ >= limsup{n -> ∞}σn
if A is finite or -∞, for all ε > 0, there's N that for all n >= N,
    an < A + ε
    σn  = Σ{1, n}ak/n
        = Σ{1, N}ak/n + Σ{N+1, n}ak/n
        < c/n + (n - N)(A + ε)/n
        < c/n + A + ε, c depends on ε
    limsup{n -> ∞}σn    = lim{n -> ∞}sup{ak: k >= n}
                        <= lim{n -> ∞}sup{c/n + A + ε: k >= n}
                        = A + ε
as ε is arbitrary, limsup{n -> ∞}σn <= A
a symmetric argument gives liminf{n -> ∞}an <= liminf{n -> ∞}σn

8.7
a.  for all ε > 0,
        cosn <= 1 < 1 + ε
    for all ε > 0 and integer m,  
        cos(x) is continuous, there's δ that cos(B(0; δ)) ⊆ B(1; ε)
        let πk be the decimal representation of π with k digits after dot, |πk - π| <= 10^-k
        there must be some n that for all k >= n, |πk - π| < δ
        take some k that k >= n and 10^k > m, πk10^k > m is an integer
        |πk10^k - π10^k| < δ, cos(πk10^k) = cos(πk10^k - π10^k) ∈ B(1; ε)
    so limsup{n -> ∞} = 1
    similarly liminf{n -> ∞} = -1
b.  (1 + 1/n)cosnπ = (1 + 1/n)(-1)^n
    |an| = 1 + 1/n -> 1, for all ε > 0 there's N that n >= N implies an < 1 + ε
    an > 1 for all even n, there are inifinitely many an > 1 - ε for any ε, limsup{n -> ∞}an = 1
    {an} is bounded, liminf{n -> ∞}an = lim{n -> ∞}inf{ak: k >= n} = -1
c.  {an} sin(nπ/3) = √3/2 for all n = 6k + 1, {an} is not bounded from above, limsup{n -> ∞}an = +∞
    an >= 0 for all n, nsin(nπ/3) = 0 for all n = 3k, liminf{n -> ∞}an = 0
d.  sin(nπ/2)cos(nπ/2) = sin(nπ)/2 = 0, limsup{n -> ∞}an = liminf{n -> ∞}an = 0
e.  lim{n -> ∞}n/(1 + n)^n = 0, (-1)^n * n/(1 + n)^n -> 0, limsup{n -> ∞}an = limsup{n -> ∞}an = 0
f.  an  = 0 if n = 3k
        = 1/3 if n = 3k + 1
        = 2/3 if n = 3k + 2
    limsup{n -> ∞}an = lim{n -> ∞}sup{ak: k >= n} = 2/3
    liminf{n -> ∞}an = lim{n -> ∞}inf{ak: k >= n} = 0

8.8
since (√(n + 1) - √n)(√(n + 1) + √n) = 1, 
    an+1 - an   = 2(√(n + 1) - √n) - 1/√(n + 1)
                = 2/(√(n + 1) + √n) - 1/√(n + 1)
                > 2/2√(n + 1) - 1/√(n + 1)
                = 0
{an} is strictly increasing, a1 = 1, let s(n,m) = Σ{n, m}1/√k, t(n,m) = int(n, m, 1/√x dx), dn = s(1,n) - t(1,n)
f(x) = 1/√x is positive and decreasing, so
    s(1,n) - t(1,n) = s(1,2) - t(1,2) + s(2,n) - t(2,n)
                    >= s(1,2) - t(1,2)
                    = 3 - 2√2 
                    > 0
by theorem 8.23, d = lim{n -> ∞}dn exists and d > 0, it has
    lim{n -> ∞}2√n - Σ{1,n}1/√k = lim{n -> ∞}int(1, n, 1/√x dx) + 2 - Σ{1,n}1/√k
                                = lim{n -> ∞}-dn + 2
                                < 2

8.9
see exercsie 4.6

8.10
if either a1 or a2 = 0, an = 0 for all n, L = (a1a2^2)^(1/3) = 0
if a1, a2 > 0, (a1a2)^(1/2) > 0, an > 0 for all n, let bn = logan, an = e^bn
bn+2 = (logan + logan+1)/2 = (bn+1 + bn)/2
by exercise 4.2, bn -> (b1 + 2b2)/3, as e^x is continuous, 
    lim{n -> ∞}an   = lim{n -> ∞}e^bn
                    = e^(loga1 + 2loga2)/3
                    = (a1a2^2)^(1/3)

8.11
// errata: a2n+1 = 1/2 * (a2n + a2n-1)
// thanks solutions manual
by induction, an > 0 for all n
    a2n+1   = (a2n + a2n-1)/2 
            >= √a2na2n-1
    a2n+2   = a2na2n-1/a2n+1
            <= √a2na2n-1
            <= a2n+1
also starting from a3 >= a4, by induction, 
    a2n+1   = (a2n + a2n-1)/2
            <= a2n-1
    a2n+2   = a2na2n-1/a2n+1
            >= a2n
a4 <= a6 <= .. <= a5 <= a3, both {a2n} and {a2n+1} converge
let a2n -> A, a2n+1 -> B, 
    B   = lim{n -> ∞}a2n+3
        = lim{n -> ∞}(a2n+1 + a2n+2)/2
        = (A + B)/2
hence B = A, {an} converges with 
    a2n+2   = a2na2n-1/a2n+1
            = a2n-2a2n-3a2n-1/a2n+1a2n-1
            = a2n-2a2n-3/a2n+1
            = a2a1/a2n+1
            = 16/a2n+1
    A   = lim{n -> ∞}a2n+2
        = lim{n -> ∞}16/a2n+1
        = 16/A
    A   = 4

8.12
an+1 - an   = an^3/3 - an + 2/3
            = 1/3 * (x - 1)^2(x + 2)
            >= 0 on [-2, +∞)
as a1 = -3/2, {an} is increasing
when an <= 1, an+1 = an^3/3 + 2/3 <= 1, {an} is bounded above, an -> A for some A in [-3/2, 1]
A   = lim{n -> ∞}an+1
    = lim{n -> ∞}an^3/3 + 2/3
    = A^3/3 + 2/3
A^3 - 3A + 2 = 0, A = 1
when an = -2, an+1 = an^3/3 + 2/3 = -2 = an, a1 = -2 makes {an} constant

8.13
an+1    = (3 + 3an)/(3 + an)
        = 1 + 2an/(3 + an)
        = 1 + 2(1 - 3/(3 + an))
        = 3 - 6/(3 + an)
is increasing on an, for an >= √3,
an+1    >= (3 + 3√3)/(3 + √3)
        = √3
an+1/an = (3/an + 3)/(3 + an)
        <= 1 // 3/an <= an
{an} is decreasing and bounded below, let an -> A, √3 <= A <= 3
A   = lim{n -> ∞}an+1
    = lim{n -> ∞}(3 + 3an)/(3 + an)
    = (3 + 3A)/(3 + A)
A^2 - 3 = 0, A = √3

8.14
b3b1 - b2^2 = 1 = (-1)^(1+1)
assume bn+2bn - bn+1^2,
    bn+3bn+1 - bn+2^2   = (bn+2 + bn+1)bn+1 - bn+2^2
                        = bn+2(bn+1 - bn+2) + bn+1^2
                        = -bn+2bn + bn+1^2
                        = -1 * (-1)^(n+1)
                        = (-1)^(n+2)
when n = 5, bn+1bn >= n^2, for all n >= 5, n^2 >= (n + 1)^2 and 
    bn+2bn+1    = (bn+1 + bn)bn+1
                = bn+1^2 + bn+1bn
                >= bn+1^2 + n^2
                >= 2n^2
                >= (n + 1)^2
    |an+1 - an| = |bn+2/bn+1 - bn+1/bn|
                = |bn+2bn - bn+1^2|/bn+1bn
                <= 1/bn+1bn
                <= 1/n^2
for all m >= n >= N,
    |am - an|   <= Σ{n, m}ak - ak+1|
                <= Σ{N, ∞}1/n^2
                = 1/N^2 * π/6
{an} satisfies Cauchy condition so an -> A for some A >= 1,
    A   = lim{n -> ∞}an+1 = lim{n -> ∞}bn+2/bn+1
        = lim{n -> ∞}(bn+1 + bn)/bn+1
        = lim{n -> ∞}1 + 1/an
        = 1 + 1/A
    A^2 - A - 1 = 0, A = (1 + √5)/2

8.15
a.  for all s there's N that for n >= N, e^n >= n^s
    for some N for all n >= N, 
        e^n >= n^5
        n^3e^-n <= n^-2
    and Σan converges absolutely by comparison test
b.  let p, q be fixed real numbers where q != 0
    as logn/loglogn is increasing on [e^e, +∞) and not bounded above, there's N that n >= N >= 2 implies:
        logn/loglogn >= p/q
        qlogn >= ploglogn
        n^q >= (logn)^p
    hence for sufficiently large n, 
        n >= (logn)^p
        1/n <= 1/(logn)^p
    and (logn)^p must diverge by comparison test
    when p = 0, (logn)^p = 1, Σ1 = +∞
c.  p^n * n^p >= 0 for all p 
    n/logn is not bounded and increasing on some [N, +∞)
    for all real q > 1 and real k, for sufficiently large n,
        n/logn >= k/logq
        nlogq >= klogn
        q^n >= n^k
    when p >= 1, p^n * n^p >= n, Σan is not bounded
    when 0 < p < 1, q = 1/p > 1, q^n >= n^(p+2) for sufficiently large n,
    p^n * n^p   = (1/q)^n * n^p
                <= 1/n^(p+2) * n^p
                <= 1/n^2
    so Σan converges by comparison test
d.  for all n >= 2, 0 < q < p, n^(p-q) is increasing and not bounded above, there's N that n >= N implies:
        n^(p-q)/2 >= 1
        n^p/2 >= n^q
        n^p >= n^p - n^q >= n^p/2
        1/n^p <= 1/(n^p - n^q) <= 2/n^p
    by comparison test, Σan converges <=> 1/n^p converges <=> p > 1
e.  an = 1/n * n^(1/n)
    lim{n -> ∞}an/(1/n) = lim{n -> ∞}1/n^(1/n)
                        = 1
    Σan diverges
f.  p^n > q^n, q/p < 1, (q/p)^n -> 0, there's N for n >= N,
        q^n = p^n(q/p)^n <= p^n/2
        p^n/2 <= p^n - q^n <= p^n
    by two comparison tests, 1/(p^n - q^n) converges <=> 1/p^n converges <=> 0 < p < 1
g.  lim{x -> ∞}xlog(1 + 1/x)    = lim{x -> ∞}log(1 + 1/x)/(1/x)
                                = lim{x -> ∞}1/(1 + 1/n) // L'Hospital
                                = 1
    xlog(1 + 1/x) is continuous, lim{n -> ∞}nlog(1 + 1/n) = 1
    lim{n -> ∞}1/nlog(1 + 1/n) = 1 != 0, Σan diverges
h.  n >= 2, logn^logn > 0
    loglogn is increasing and not bounded above, for all k > 0, there's N for all n >= N,
        klogn <= logn * loglogn
        n^k <= logn^logn
        1/n^k >= 1/logn^logn 
    take k = 2, by comparison test Σan converges
i.  loglogn > 0 when n >= 3, an positive
    if p <= 0, an >= 1/nlogn, an diverges by comparison test:
        int(3, n, 1/xlogx dx)   = loglogn - loglog3 -> +∞, by integration test Σ1/nlogn diverges
    if 0 < p <= 1, 0 < loglogn^p <= loglogn for loglogn >= 1,
        int(3, n, 1/xlogxloglogx dx) = logloglogn - logloglog3 -> +∞, 1/nlognloglogn diverges
        an >= 1/nlognloglogn diverges
    // thanks wolframalpha
    if p > 1,
        int(3, n, 1/xlogx(loglogx)^p dx)    = (loglogn)^(1-p)/(1 - p) - C
                                            -> -C
    by integration test Σan converges
j.  (logn - loglogn * logloglogn)'  = 1/n - logloglogn/nlogn - loglogn/nlognloglogn
                                    = 1/n - (logloglogn + 1)/nlogn
                                    = 1/n * (1 - (logloglogn + 1)/logn)
                                    = 1/n * (logn - logloglogn - 1)/logn
                                    > 0 for n > e
    loge - logloge * loglogloge > 1, logn > loglogn * logloglogn for n > e
    n > (loglogn)^loglogn for n > e, Σan diverges by comparison test
k.  lim{n -> ∞}(√(1 + n^2) - n)/(1/n)   = lim{n -> ∞}n/(√(1 + n^2) + n)
                                        = lim{n -> ∞}1/(√(1/n^2 + 1) + 1)
                                        = 1/2
    by limit test Σan diverges
l.  (n - √n(n - 1))'    = 1 - (2n - 1)/√n(n - 1)
                        < 0 when n > 1
    n - √n(n - 1) >= 0 is bounded below, n - √n(n - 1) converges to some value A in [0, 1)
    lim{n -> ∞}n^(3/2)(√(n - 1) - √n)   = lim{n -> ∞}(n^(3/2) - n√(n - 1))/√(n - 1)
                                        = lim{n -> ∞}(3/2 * √n - √(n - 1) - n/2√(n - 1)) * 2√(n - 1) // L'Hospital
                                        = lim{n -> ∞}(3√n(n - 1) - 3n + 2)
                                        = 2 - 3A
    by limit test, Σan converges <=> n^(p - 3/2) converges <=> p < 1/2
m.  limsup{n -> ∞}|an|^(1/n)    = limsup{n -> ∞}n^(1/n) - 1
                                = 0
    by root test Σan converges absolutely
n.  // thanks wolframalpha
    lim{n -> ∞}(√(n + 1) - 2√n + √(n - 1))n^(3/2) = -1/4
    by limit test, Σan converges <=> n^(p - 3/2) converges <=> p < 1/2

8.16
there are 9^n numbers with n digits and no 0:
    n = 1, |{1, .., 9}| = 9
    n = k + 1, an k+1-digit number starts with digit 1 - 9 and a k-digit number with no 0
when n has k digits, 1/n <= 1/10^(k-1), additionally 1/n < 1/10^(k-1) when k >= 2 and n has no 0
Σnk < Σ{1, ∞}9^k/10^(k-1)
    = 9{0, ∞}(9/10)^k
    = 90

8.17
Σan converges: 0 < an/n! <= (n - 1)/n! <= 1/n^2 for sufficiently large n
<=: let A = Σ(n - 1)/n!, if A is rational, Σan/n! is rational as their difference is a finite sum of rational numbers
    (n - 1)/n!  = n/n! - 1/n!
                = 1/(n - 1)! - 1/n!
    let bn = -1/n!, an = bn+1 - bn
    Σ(n - 1)/n! = lim{n -> ∞}bn - b1
                = 1
=>: assume an < n - 1 are a sequence of integers, Σan/n! = p/q for integer p and q
    q!Σan/n! is an integer, but
        Σ{1, q}anq!/n! is a finite sum of integers
        Σ{q+1, ∞}anq!/n!    = q!Σ{q+1, ∞}an/n!
                            < q!Σ{q+1, ∞}(n - 1)/n!
                            = q!/q!
                            = 1
    therefore q!Σan/n! cannot be an integer, Σan/n! cannot be rational

8.18
a.  a few lemmas:
        O(1/pn) <= M/pn
                <= M'/n
        O(1/pn) = O(1/n)
        |O(f(n)) - O(f(n))| <= |O(f(n))| + |O(f(n))|
                            = O(f(n))
        if f(n) -> 0, lim{n -> ∞}O(f(n)) = 0 as |O(f(n))| <= M|f(n)|
    lim{n -> ∞}Σ{qn+1, pn}1/k   = lim{n -> ∞}Σ{1, pn}1/k - Σ{1, qn}1/k
                                = lim{n -> ∞}(logpn + C + O(1/pn) - logqn - C - O(1/qn))
                                = log(p/q) + lim{n -> ∞}O(1/n) - O(1/n)
                                = log(p/q)
    b.  when n = 1, s2 = Σ(-1)^(k+1)/k = 1 - 1/2 = 1/2 = x1
        assume s2n = xn,
            s2n+2   = s2n + 1/(2n + 1) - 1/(2n + 2)
                    = xn + 1/(2n + 1) - 1/(2n + 2)
                = Σ{n+1, 2n+1}1/k + 1/(2n + 2) - 2/(2n + 2)
                = Σ{n+1, 2n+2}1/k - 1/(n + 1)
                = Σ{n+2, 2n+2}1/k
                = xn+1
    lim{n -> ∞}Σ{1, n}(-1)^(k+1)/k  = lim{n -> ∞}Σ{1, 2n}(-1)^(k+1)/k
                                    = lim{n -> ∞}Σ{n+1, 2n}1/k
                                    = log2
c.  insert parentheses to group every p + q terms, define
        an = Σ{(n-1)p+1, np}1/(2k - 1) - Σ{(n-1)q+1, nq}1/2k
    define Sn be the partial sum of Σan,
        Sn  = Σ{1, np}1/(2k - 1) - Σ{1, nq}1/2k
            = Σ{1, 2np}1/k - Σ{1, np}1/2k - Σ{1, nq}1/2k
            = log(2np) + C + O(1/n) - 1/2 * (log(np) + log(nq) + 2C + O(1/n))
            = log(2np) - log(n√(pq)) + O(1/n)
            = log(2√(p/q)) + O(1/n)
            = log2 + log(p/q)/2 + O(1/n)
        lim{n -> ∞}Sn = log2 + log(p/q)/2
    Σan is convergent, p + q is constant, (-1)^(n+1)/n -> 0
    by theorem 8.14, the arrangement converges to the same value
d.  Σ(-1)^(n+1)(1/(3n - 2) - 1/(3n - 1))    = Σ(-1)^(n+1)(1/(3n - 2) - 1/(3n - 1) + 1/3n) - Σ(-1)^(n+1)/3n
                                            = Σ(-1)^(n+1)/n - Σ(-1)^(n+1)/3n
                                            = log2 * 2/3

8.19
Σ|cn|   = Σ√(an^2 + bn^2)
        >= Σ|an|
        = +∞
Σcn is not absolutely convergent
1/√n -> 0 is decreasing, Σan converges, Σbn converges absolutely, Σcn = Σan + iΣbn converges conditionally

8.20
// both immediate from theorem 8.23
a.  int(1, n, logx/x dx) = log(n)^2
    Σ{1, n}logk/k = log(n)^2 + A + O(logn/n)
b.  int(2, n, 1/xlogx dx) = log(log(n)) - loglog2
    Σ{1, n}logk/k   = log(log(n)) - loglog2 + D + O(1/nlogn)
                    = log(log(n)) + B + O(1/nlogn)

8.21
a.  n + a > 0, (n + a)^-s > 0 
    for s > 1, (n + a)^-s < n^-s, by comparison test Σζ(s, a) converges
    Σ{h, 1, k}Σ{n, 0, ∞}ζ(s, h/k)   = Σ{h, 1, k}Σ{n, 0, ∞}(n + h/k)^-s
                                    = Σ{h, 1, k}Σ{n, 0, ∞}(kn + h)^-s * k^s
                                    = k^s * Σ{h, 1, k}Σ{n, 0, ∞}(kn + h)^-s
                                    = k^s * Σ{0, ∞}(n + 1)^-s
                                    = k^sζ(s)
b.  by part a, 
        ζ(s, 1/2) + ζ(s, 1) = 2^sζ(s)
        Σ(n - 1/2)^-s = (2^s - 1)ζ(s)
        Σ(2n - 1)^-s * 2^s = (2^s - 1)ζ(s)
        Σ(2n - 1)^-s = (1 - 2^-s)ζ(s)
    hence
        Σ(-1)^(n-1)/n^s = 2Σ(2n - 1)^-s - Σn^-s
                        = (2 - 2^(1-s))ζ(s) - ζ(s)
                        = (1 - 2^(1-s))ζ(s)

8.22
// thanks solutions manual
(an + n^-2p)/2 >= √an * n^-p, sum of the left side is convergent, by comparison test Σ√an * n^-p is convergent
lim{n -> ∞}int(2, n, 1/x(logx)^2)   = lim{n -> ∞}1/logn - 1/log2
                                    = -1/log2
so Σan = Σ1/n(logn)^2 converges, but Σ√an/√n = 1/nlogn diverges by integration test

8.23
if Σnan converges, its partial sum is bounded, Σan = Σnan * 1/n converges by Dirichlet's test

8.24
=>: Σan - a1/2  = Σ(an + an+1)/2
                >= Σ√anan+1
    partial sums are bounded, Σ√anan+1 is convergent
<=: assume Σ√anan+1 converges and {an} monotonic, 
    if {an} change signs, it may do so only once between some aN-1 and aN, an >= 0 or an =< 0 for all n >= N
    √anan+1 >= 0 for all n >= N, Σ√anan+1 has bounded partial sums 
    assume wlog an > 0 for all n, if an is increasing, √anan+1 >= Σan^2 = an, Σan has bounded partial sums
    similarly if an is decreasing, √anan+1 >= √an+1^2 = an+1, Σan has bounded partial sums

8.25
a.  |an| -> 0 as n -> ∞, for some N, n >= N implies
        |an| < 1
        an^2 < |an|
    so Σ|an^2| converges by comparison test
b.  |an| -> 0, for some N, n >= N implies
        |an| < 1/2
        |an/(1 + an)|   = |an|/(1 + an)
                        < 2|an|
    so Σ|an/(1 + an)| converges by comparison test
c.  same argument to part b, |an^2| -> 0

8.26
// thanks solutions manual
define Σ{1, n}(1/k)/n * sin(nx) = an * bn
an+1 - an   = Σ{1, n+1}(1/k)/(n + 1) - Σ{1, n}(1/k)/n
            = 1/(n + 1)^2 - Σ{1, n}(1/n - 1/(n + 1))1/k
            = 1/(n + 1)^2 - Σ{1, n}1/n(n + 1) * 1/k
            < 0
by formula 13,
|Σsin(nx)|  = |sin(nx/2)sin((n + 1)x/2)/sinx/2|
            <= 1/|sin(x/2)|
by Dirichlet's test, Σanbn converges

8.27
a.  Σ(bn - bn+1) = b1 - lim{n -> ∞}bn, {bn} converges, 
    Σan converges => {Anbn+1} converges
    An is bounded, let M >= |An| for all n,
        Σ|An(bk+1 - bk)| <= MΣ|bk+1 - bk|
    is bounded as Σ|bk+1 - bk| converges, ΣAn(bk+1 - bk) converges absolutely
    by theorem 8.27, Σanbn converges
b.  |An| <= M, 0 <= lim{n -> ∞}|Anbn+1| <= lim{n -> ∞}M|bn+1| = 0
    Σ|an(bk+1 - bk)| converges as in part a

8.28
a.  for p, q >= N, f(p, q) <= 1/2N
    lim{p, q -> ∞}f(p, q)   = lim{p -> ∞}lim{q -> ∞}f(p, q)
                            = lim{q -> ∞}lim{p -> ∞}f(p, q)
                            = 0
b.  lim{p -> ∞}lim{q -> ∞}f(p, q) = 0
    lim{q -> ∞}lim{p -> ∞}f(p, q) = 1
    when p = q, p/(p + q) = 1/2
    when 2p = q, p/(p + q) = 1/3, the double limit doesn't exist
c.  double limit doesn't exist:
        when p = q, f(p, q) = (-1)^p/2 doesn't converge
    lim{p -> ∞}f(p, q) doesn't exist:
        limsup{p -> ∞}f(p, q) = 1, liminf{p -> ∞}f(p, q) = -1
    lim{p -> ∞}lim{q -> ∞}f(p, q) = 0
d.  lim{p, q -> ∞}f(p, q) = 0:
        for all ε > 0, take N = 2ceil(1/ε) + 1, whenever p, q >= N, 
        |(-1)^(p+q)(1/p + 1/q)| = 1/p + 1/q
                                < ε
    lim{p -> ∞}f(p, q) doesn't exist:
        for any N, there's p >= N that f(p, q) is posititve or negative, the only possible limit is 0
        but |f(p, q)| >= 1/q for all p
    symmetrically lim{q -> ∞}f(p, q) doesn't exist
e.  lim{p, q -> ∞}f(p, q) = 0:
        for q > N, |f(p, q)| < 1/N
    lim{p -> ∞}f(p, q) doesn't exist:
        f(p, q) oscillates between the two values 1/q and -1/q
    lim{p -> ∞}lim{q -> ∞}f(p, q) = 0:
        lim{q -> ∞}f(p, q) = 0
f.  double limit doesn't exist:
        when p = q, f(p, q) = 1
        when p = q + 1, f(p, q) = -1
    lim{p -> ∞}f(p, q) doesn't exist:
        similar 
    symmetrically lim{q -> ∞}f(p, q) doesn't exist
g.  lim{p, q -> ∞}f(p, q) = 0:
        for p > N, |f(p, q)| <= 1/q < 1/N
    lim{p -> ∞}f(p, q) doesn't exist:
        by exercise 8.7.a, for all N there's p >= N, cosp >= 1/2 or cosp <= -1/2
    lim{p -> ∞}lim{q -> ∞}f(p, q) = 0:
        similar to double limit
h.  lim{p, q -> ∞}f(p, q) = 0:
        by formula 13, Σ{1, q}sin(n/p)  = sin(q/2p)sin((q + 1)/2p)/sin(1/2p)
                                        <= 1/sin(1/2p)
        let r = 1/2p be an open map, 
        r -> 0 as p -> ∞, p/sin(1/2p) = 2sin(r)/r, lim{p -> ∞}p/sin(1/2p) = lim{r -> 0}2sin(r)/r = 2
        let g(q) = 1/q^2, h(p, q) = Σ{1, q}sin(n/p), f(p, q) = g(q)h(p, q), g(q) -> 0, h(p, q) is bounded
        lim{p, q -> ∞}f(p, q) = 0
    lim{p -> ∞}f(p, q) doesn't exist:
        f(p, 1) = psin(1/p) diverges
    lim{p -> ∞}lim{q -> ∞}f(p, q) = 0:
        same to double limit

8.29
a.  =>: assume Σ|f(m, n)| converges to A
        there's N that p, q >= N implies |S(p, q) - A| < 1
        for all p, q >= N, S(p, q) < A + 1
        {S(p, q): p, q < N} is a finite set hence is bounded, {S(p, q)} is bounded
    <=: assume {S(p, q)} is bounded
        let A = sup{S(p, q)}
        for all ε > 0, there's pair (p, q) that |S(p, q) - A| < ε
        for all m, n >= max{p, q}, S(m, n) contains more positive terms, S(p, q) <= S(m, n) <= A
        |S(m, n) - A| < ε, lim{p, q -> ∞}S(p, q) = A
b.  assume lim{p, q -> ∞}S(p, q) = S, for all ε > 0 there's N that, whenever p, q > N,
        |s(p, q) - s(N, N)| <= S - S(N, N)
                            < ε/2
    let r, t > N,
        |s(r, t) - s(p, q)| <= |s(r, t) - s(N, N)| + |s(p, q) - s(N, N)|
                            < ε
    let T = {s(p, q)}, if T is finite, let d = min{|x - y|: x, y ∈ T}
    take ε = d/2, for some N whenever p, q > N, s(p, q) is constant
    if T is infinite, T is bounded and has an accumulation point A 
    for all ε > 0, there's N that for all p, q, s, t > N,  
        |s(p, q) - s(r, t)| < ε/2
    there are only finite s(p, q) with p, q <= N, so there must be one p, q > N that
        s(p, q) ∈ B(A; ε/2)
    then for all r, t > N, 
        |A - s(r, t)|   <= |A - s(r, t)| + |s(r, t) - s(p, q)|
                        < ε
    therefore lim{p, q -> ∞}s(p, q) = A
c.  e^-(m^2 + n^2) = e^-m^2 * e^-n^2
    e^-n^2 <= 1/n^2, by comparison test Σe^-n^2 converges
    by theorem 8.44, Σf(m, n) converges absolutely

8.30
by theorem 8.42, 
    Σa(n)x^mn   = Σ{1, ∞}Σ{1, ∞}a(n)x^mn
                = Σ{1, ∞}a(n)Σ{1, ∞}(x^n)^m
                = Σ{1, ∞}a(n)(1/(1 - x^n) - 1) // |x^n| < 1
                = Σ{1, ∞}a(n)x^n/(1 - x^n)
let G(n) be a rearrangement of Σf(m, n) such that terms is ordered by the product mn
for a particular k = mn, k/m = n is an integer, m|k
insert parentheses to group all terms with the same product mn, by theorem 8.42,
    ΣG(n)   = Σ{1, ∞}Σ{d|n}a(d)x^(d * n/d)
            = Σ{1, ∞}Σ{d|n}a(d)x^n
            = Σ{1, ∞}A(n)x^n
            = Σa(n)x^mn

8.31
when α <= 0, the (m + in)^-α >= 1, the series is not bounded
when 0 < α <= 1, consider the subseries with m = n,
    Σ|n + in|^-α    = Σ(n√2)^-α
                    = √2^-α * Σn^-α
diverges, the double series must also diverge
define s(p) = Σ{m + n <= p}f(m, n)
when α > 1, group terms of Σf(m, n) diagonally it has:
    s(p)    = Σ{n = 2, p}Σ{m = 1, n-1}f(m, n - m)
            = Σ{n = 2, p}Σ{m = 1, n-1}|m + i(n - m)|^-α
where 
    √((n - 1)^2 + 1)    = √(n^2 - 2n + 1)
                        = |1 + i(n - 1)|
                        <= |m + i(n - m)|
                        <= |n/2 + in/2|
                        = n√2
hence
    Σ{2, p}(n - 1)/(n√2)^α  = √2^-α * Σ{2, p}(n - 1)/n^α
                            = √2^-α * Σ{2, p}(1/n^(α-1) - 1/n^α)
                            <= s(p)
so s(p) the partial sum of Σf(m, n) is not bounded if α <= 2
also
    s(p)    <= s(p + 1)
            <= Σ{2, p+1}(n - 1)/(n^2 + 1)^(α/2)
            <= Σ{2, p+1}(n - 1)/(n^2 - 1)^(α/2)
            = Σ{2, p+1}(n - 1)^(1-α/2) * (n + 1)^(-α/2)
where (n - 1)^(1-α/2) < 1, (n + 1)^(-α/2) bounded when α > 2
s(p) is bounded when α > 2, Σf(m, n) converges absolutely 

8.32
a.  |cn|    = Σ{0, n}1/√(k + 1) * 1/√(n - k + 1)
            = Σ{0, n}1/√(k + 1)(n - k + 1)
            >= Σ{0, n}2/(k + 1 + n - k + 1)
            = Σ{0, n}2/(n + 2)
    is not bounded, the series diverges
b.  let m = n + 1, 
    cn  = Σ{0, n}(-1)^(k+1)/(k + 1) * (-1)^(n-k+1)/(n - k + 1)
        = (-1)^nΣ{0, n}1/(k + 1)(n - k + 1)
        = (-1)^nΣ{0, n}(1/(k + 1) + 1/(n - k + 1))/(n + 2)
        = (-1)^n/(n + 2)Σ{0, n}2/(k + 1)
        = (-1)^(m+1)/(m + 1)Σ{0, m-1}2/(k + 1)
        = 2(-1)^(m+1)/(m + 1)Σ{1, m}1/k
    Σcn = Σ2(-1)^(m+1)/(m + 1)Σ{1, m}1/k
    Σ1/k(n + 1) = (logn + D + O(1/n))/(n + 1)
                -> 0 as n -> ∞
    Σ{1, n}1/k(n + 1) - Σ{1, n+1}1/k(n + 2) = Σ(1/(n + 1) - 1/(n + 2))/k - 1/(n + 1)(n + 2)
                                            = Σ(1/k)/(n + 1)(n + 2) - 1/(n + 1)(n + 2)
                                            > 0 
    |cn| is decreasing and cn -> 0, by theorem 8.16 Σcn converges

8.33
immediate from Mertens' theorem
akx^k * bn-kx^(n-k) = akbn-kx^n

8.34
let Σan be an absolutely convergent series, Σbn be an convergent series, A = Σan, B = Σbn, cn = Σ{d|n}ad * b_[n/d]
define An = Σ{1, n}ak, Bn = Σ{1, n}bk, Cn = Σ{1, n}ck, dn = B - Bn, en = Σ{1, n}ad * d_[n/d]
define a function f that,
    f(n, d) = adb_[n/d] if d|n
            = 0 otherwise
then
    Cp  = Σ{n = 1, p}Σ{d|n}(ad * b_{n/d})
        = Σ{n = 1, p}Σ{d = 1, n}f(n, d)
        = Σ{d = 1, p}Σ{n = 1, p}f(n, d)
        = Σ{d = 1, p}Σ{k = 1, [p/d]}f(kd, d)
        = Σ{d = 1, p}Σ{k = 1, [p/d]}ad * bk
        = Σ{d = 1, p}ad * Σ{k = 1, [p/d]}bk
        = Σ{d = 1, p}ad * B_[p/d]
        = Σ{d = 1, p}ad * (B - d_[p/d])
        = ApB - ep
as Σbn = B, dn = B - Bn -> 0, dn is bounded, let |dn| <= M for all n
Σan converges absolutely, let K = Σ|an|
for all ε > 0, choose N that n > N implies 
    |dn| < ε/2K
    Σ{n, ∞}|an| < ε/2M
for all p > N(N + 1), [p/d] > N for all d <= N,
    |ep|    <= Σ{1, p}|ad * d_[p/d]|
            = Σ{1, N}|ad * d_[p/d]| + Σ{N+1, p}|ad * d_[p/d]|
            < ε/2K * Σ{1, N}|ad| + MΣ{N+1, p}|ad|
            <= ε/2K * Σ{1, ∞}|ad| + MΣ{N+1, ∞}|ad|
            <= ε/2 + ε/2
            = ε
therefore ep -> 0 and Cp -> AB, Σcn converges
Σ{d|n}ad/d^s * b_n/d / (n/d)^s  = Σ{d|n}(ad * b_n/d)/n^s
                                = cn/n^s

8.35
immediate from exercise 8.34, cn = Σ{d|n}ad * b_n/d = Σ{d|n}1 = d(n)

8.36
a.  sn  = 1 if n = 4k + 1
        = 0 if n = 4k or 4k + 2
        = -1 if n = 4k + 3
    |sn| <= 1, Σ{1, 4n}sk = 0, let m = [n/4], n - 4m <= 3,
        |Σ{1, n}sk| <= |Σ{1, 4m}sk| + |Σ{4m+1, n}sk|
                    <= 3
        lim{n -> ∞}|σn| = lim{n -> ∞}|Σsn/n|
                        <= lim{n -> ∞}|3/n|
                        = 0
b.  sn  = 1/2 if n = 3k + 1
        = -1/2 if n = 3k + 2
        = 0 if n = 3k
    Σ{1, 3n}sk = 0, |sn| <= 1/2, by exactly the same argument of part a σn -> 0
c.  by formula 15, 
        sn  = Σ{1, n}cos(2k - 1)x 
            = sin2nx/2sinx
        |Σ{1, n}sk| = |Σ{1, n}sin(k2x)/2sinx|
                    = |sin(nx)sin((n + 1)x)/2sin(x)^2|
                    <= 1/2sin(x)^2
        lim{n -> ∞}|σn| <= lim{n -> ∞}1/n2sin(x)^2
                        = 0

8.37
a.  (n + 1)sn - nσn = (n + 1)Σak - Σ{m = 1, n}Σ{k = 1, m}ak
                    = Σ(n + 1)ak - Σ(n - k + 1)ak
                    = Σkak
                    = tn
b.  let σn -> σ
    =>: assume Σsn converges to s
        lim{n -> ∞}tn/n = lim{n -> ∞}(n + 1)/n * sn - σn
                        = s - σ
    <=: assume lim{n -> ∞}tn/n = 0
        (n + 1)/n * sn - σn converges   => (n + 1)/n * sn converges
                                        => (n + 1)/n * sn * (n + 1)/n = sn converges
c.  =>: assume σn = Σsk/n converges to σ, then sn/n -> 0:
            multiply by n/(n + 1), lim{n -> ∞}Σsk/n = lim{n -> ∞}Σsk/(n + 1) = σ
            0   = lim{n -> ∞}(Σ{1, n+1}sk/(n + 1) - Σ{1, n}sk/(n + 1))
                = lim{n -> ∞}sn+1/(n + 1)
                = lim{n -> ∞}sn/n
        tn/n(n + 1) = sn/n - σn/(n + 1)
                    = sn/n - Σ{1, n}sk/n(n + 1)
                    = sn/n - (Σ{1, n}sk/n - Σ{1, n}sk/(n + 1))
                    = sn/n - (σn - σn+1 + sn+1/(n + 1))
                    = (σn+1 - σn) + (sn/n - sn+1/(n + 1))
        Σ{1, n}tk/k(k + 1)  = -σ1 + σn+1 + s1 - sn+1/(n + 1)
        Σtn/n(n + 1)    = -σ1 + s1 + lim{n -> ∞}(σn+1 - sn+1/(n + 1))
                        = -σ1 + s1 + σ
    <=: assume Σtn/n(n + 1) converges, by the argument above lim{n -> ∞}σn - sn/n exists
        multiply by n/(n + 1) and Σ{1, n}sk/(n + 1) - sn/(n + 1) converges to the same value
        0   = lim{n -> ∞}(σn+1 - sn+1/(n + 1) - Σ{1, n}sk/(n + 1) + sn/(n + 1))
            = lim{n -> ∞}sn/(n + 1)
            = lim{n -> ∞}sn/n
        therefore lim{n -> ∞}σn exists
    
8.38
a.  u1 + (-1)^1 * s1    = -2a1
                        = 2(-1)^1s1
                        = 2v1
    un+1 + (-1)^(n+1)sn+1 - un - (-1)^nsn   = (-1)^(n+1)an+1 + (-1)^(n+1)(sn+1 + sn)
                                            = 2(-1)^(n+1)sn+1
                                            = 2(vn+1 - vn)
b.  {an} must be decreasing:
        if {an} is increasing, an >= a1 > 0, an cannot converge to 0
    {an} positive, decreasing and converges to 0, Σ(-1)^nan converges, Σ(-1)^nan is (C, 1) summable
    |vn| <= sn:
        if n = 2m, vn   = Σ{1, m}s2k - Σ{1, n}s2k-1
                        = Σ{1, m}a2k
        if n = 2m + 1, vn   = -Σ{0, m}s2k+1 + Σ{1, m}s2k
                            = -Σ{0, m}a2k+1
    vn/n converges to 0:
        an <= a1 = M for all n
        as an -> 0, for all ε > 0, there's N that n > N implies an < ε/2
        take n > max{2M/ε, N}, 
        |vn/n|  <= sn/n
                <= Σ{1, N}ak/n + Σ{N+1, n}ak/n
                < M/(2M/ε) + (nε/2)/n
                = ε/2 + ε/2
                = ε
    hence 
        lim{n -> ∞}Σ{m = 1, n}Σ{k = 1, m}(-1)^ksk/n = lim{n -> ∞}Σ{m = 1, n}vm/n
                                                    = 1/2 * lim{n -> ∞}Σ{m = 1, n}(um + (-1)^msm))/n
                                                    = 1/2 * lim{n -> ∞}Σ{m = 1, n}um/n
                                                    = 1/2 * Σ(-1)^nan // theorem 8.48
c.  for even n = 2m, 
        Σ(-1)^(n+1)/n   = Σ{1, 2m}1/k - 2Σ{1, m}1/2k
                        = Σ{1, 2m}1/k - Σ{1, m}1/k
                        = Σ{m+1, 2m}1/k
                        -> log2 // exercise 8.18
    for odd n = 2m + 1, 
        Σ{1, n}(-1)^(n+1)/n = Σ{1, 2m}(-1)^(n+1)/n + (-1)^n/n
                            -> log2
    an = 1/n is decreasing and an -> 0, apply part b, 
        Σ(-1)^nsn   = 1/2 * Σ(-1)^n/n
                    = -1/2 * Σ(-1)^(n+1)/n
                    = -1/2 * log2
                    = -log√2

8.39
a.  Σ2/n(n + 1) converges by comparison test, Π(1 - 2/n(n + 1)) converges
    Π{2, m}(1 - 2/n(n + 1)) = Π{2, m}(n^2 + n - 2)/n(n + 1)
                            = Π{2, m}(n + 2)(n - 1)/n(n + 1)
                            = Π{2, m}(n + 2)Π{2, m}(n - 1)/Π{2, m}nΠ{2, m}(n + 1)
                            = (m + 2)/3m
                            -> 1/3
b.  Σn^-2 converges, by theorem 8.55 Π(1 - an) converges
    Π{2, m}(1 - 1/n^2)  = Π{2, m}(n + 1)(n - 1)/n^2
                        = Π{2, m}(n + 1)Π{2, m}(n - 1)/(Π{2, m}n)^2
                        = (m + 1)/2m
                        -> 1/2
c.  (n^3 - 1)/(n^3 + 1) = 1 - 2/(n^3 + 1), Σ2/(n^3 + 1) converges by comparison test
    // thanks wolframalpha
    Π{2, m}(n^3 - 1)/(n^3 + 1) = 2(m^2 + m + 1)/3m(m + 1):
        m = 2, (2^3 - 1)/(2^3 + 1) = 2(2^2 + 2 + 1)/6(2 + 1)
        2(m^2 + m + 1)/3m(m + 1) * ((m + 1)^3 - 1)/((m + 1)^3 + 1)
        = 2(m^2 + m + 1)/3m(m + 1) * m((m + 1)^2 + (m + 1) + 1)/(m + 2)(m^2 + m + 1)
        = 2((m + 1)^2 + (m + 1) + 1)/3(m + 1)(m + 2)
    therefore Π(n^3 - 1)/(n^3 + 1) = 2/3
d.  |z^(2^n)| = |z|^(2^n) <= |z|^n for |z| < 1, by comparison test Σz^(2^n) converges absolutely
    Π{0, m}(1 + z^(2^n)) = Σ{0, 2^(m+1) - 1}z^n:
        m = 0, 1 + z^(2^0) = 1 + z = Σ{0, 1}z^n
        Σ{0, 2^m - 1}z^n * (1 + z^(2^m))    = Σ{0, 2^m - 1}(z^n + z^(2^m + n))
                                            = Σ{0, 2^(m+1) - 1}z^n
    therefore Π(1 + z^(2^n)) -> 1/(1 - z)

8.40
an -> 0, sn -> s != 0, an/sn-1 -> 0, there's N that 1 + an/sn-1 > 0 for all n >= N
a1Π{2, m}(1 + an/sn-1) = sm:
    m = 2, a1(1 + a2/a1) = a1 + a2 = s2
    sm * (1 + am+1/sm)  = sm + am+1
                        = sm+1
therefore Π(1 + an/sn-1) = Σan != 0

8.41
a.  Π{2, m}(1 + 1/(2^m - 2)) = 2Σ{1, m}2^-n:
        1 + 1/(2^2 - 2) = 3/2 = 2 * 3/4 = 2(1/2 + 1/4)
        2Σ{1, m}2^-n * (1 + 1/(2^(m+1) - 2))    = 2(1 - 2^-m)(2^(m+1) - 1)/(2^(m+1) - 2)
                                                = (1 - 2^-m)(2^(m+1) - 1)/(2^m - 1)
                                                = 1 - 2^(m+1)
                                                = Σ{1, m+1}2^-n
    thus Π{2, ∞}(1 + 1/(2^m - 2)) = Σ{1, ∞}2^-n = 1
b.  Π{2, m}(1 + 1/(n^2 - 1)) = 2Σ{1, m}1/n(n + 1):
        Σ{1, m}1/n(n + 1) = Σ{1, m}(1/n - 1/(n + 1)) = 1 - 1/(m + 1)
        1 + 1/(2^2 - 1) = 4/3 = 2(1 - 1/3)
        2(1 - 1/m)(1 + 1/(m^2 - 1)) = (m - 1) * 2/m * m^2/(m + 1)(m - 1)
                                    = 2m/(m + 1)
                                    = 2(1 - 1/(m + 1))
    therefore Π{2, ∞}(1 + 1/(n^2 - 1)) = Σ{1, ∞}1/n(n + 1) = 1

8.42
// thanks https://en.wikipedia.org/wiki/Trigonometric_functions#Sum_and_difference_formulas
when x = 2kπ, let 2k = 2^p * q where q is odd, cos(x/2^p) = cos(qπ) = 0
in that case convergence of Πcos(x/2^n) depends only on n > p where x/π2^n is not an integer, cos(x/2^n) != 0
the product Π{p+1, m}cos(x/2^n) = Π{1, m}cos((x/2^p)/2^n), it's sufficient to consider only x != 2kπ
when x != 2kπ, x/2^n != kπ, sin(x/2^n) != 0, cos(x/2^n) can be expressed as:
    cos(x/2^n) = sin(x/2^(n-1))/2sin(x/2^n)
    Π{1, m}cos(x/2^n)   = Π{1, m}sin(x/2^(n-1))/2sin(x/2^n)
                        = sinx/2^msin(x/2^m)
let r = x/y be a strictly monotonic function of y
    lim{y -> ∞}ysin(x/y)    = lim{r -> 0}xsin(r)/r
                            = x
so lim{m -> ∞}msin(x/m) = x, {2^msin(x/2^m)} is its sub-sequence with the same limit,
    Πcos(x/2^n) = lim{m -> ∞}sinx/2^msin(x/2^m)
                = sinx/x

8.43
a.  1/√n is decreasing and positive, Σ(-1)^n/√n converges
    logx <= x - 1 when 0 < x <= 1:
        log1 = 1 - 1 = 0
        d(logx - x + 1)/dx  = 1/x - 1
                            > 0 on (0, 1)
    Π{1, ∞}(1 - 1/2n) = 0:
        log(Π{1, m}(1 - 1/2n))  = Σ{1, m}log(1 - 1/2n)
                                <= Σ{1, m}-1/2n
        is not bounded below and decreasing
        log(Π{1, m}(1 - 1/2n)) -> -∞, Π{1, m}(1 - 1/2n) -> 0
    for n = 2m + 1,
        Π{2, n}(1 + (-1)^k/√k)  = Π{1, m}(1 + 1/√2k) * Π{1, m}(1 - 1/√(2k + 1))
                                <= Π{1, m}(1 + 1/√2k) * Π{1, m}(1 - 1/√2k)
                                = Π{1, m}(1 - 1/2k)
                                -> 0
    hence Π{2, n}(1 + (-1)^n/√n) > 0, liminf{n -> ∞}Π{2, n}(1 + (-1)^n/√n) = 0
    the product diverges to 0 or oscillates
b.  1 + an > 0 when n >= 2, for n >= 2, the sum
        Σ{2, n}ak = Σ{1, m}1/n
    diverges, for n = 2m, the product
        Π{3, n}(1 + ak) = Π{1, m}(1 - 1/√k)(1 + 1/√k + 1/k)
                        = Π{1, m}(1 - 1/k) + (1 - 1/√k)/k
                        = Π{1, m}1 - 1/k + 1/k - 1/k√k
                        = Π{1, m}1 - 1/k√k
    converges as Σ1/n√n converges, when n = 2m + 1, 
        Π{3, n}(1 + ak) = Π{1, m}(1 - 1/k√k) * (1 - 1/(2m + 1))
    also converges since 1 - 1/(2m + 1) -> 1

8.44
// errata: a2n+2/(1 + a2n+2) < a2n+1 < a2n/(1 + a2n) for n >= 1
=>: assume Σ(-1)^kak converges, its partial sums are bounded 
    for odd n >= 3, n = 2k + 1, an < a2k/(1 + a2k) < 1, log(1 - an) is defined
    Σ{4, n}log(1 + (-1)^kak) <= Σ{4, n}(-1)^kak is bounded above
    a2n/(1 + a2n) > a2n+1   => 1 - a2n/(1 + a2n) < 1 - a2n+1
                            => 1/(1 + a2n) < 1 - a2n+1
                            => (1 + a2n)(1 - a2n+1) > 1
    for n = 2m + 1, m >= 2,
        Σ{4, n}log(1 + (-1)^kak) = Σ{1, m-1}log(1 + a2k) + log(1 - a2k+1), where each term
        log(1 + a2k) + log(1 - a2k+1)   = log((1 + a2k)(1 - a2k+1))
                                        >= log1 = 0
    the sequence {Σ{4, 2m+1}log(1 + (-1)^kak)} is bounded and increasing, it converges to some value p >= 0
    the sequence {Π{4, 2m+1}(1 + (-1)^kak)} converges to e^p >= 1 since e^x is continuous
    for n = 2m + 2, as Σ(-1)^kak converges, an -> 0, 
        lim{n -> ∞}Π{4, n}(1 + (-1)^kak)    = lim{m -> ∞}Π{4, 2m+1}(1 + (-1)^kak) * (1 + a2m+2)
                                            = e^p
    therefore Π(1 + (-1)^kak) converges
<=: // thanks solutions manual, this part can be disproved by counterexample
    let an = (-1)^n * (e^((-1)^n/√n) - 1) >= 0,
        a2n+2   = e^(1/√(2n+2)) - 1
        a2n+1   = 1 - e^(-1/√(2n+1))
                > 1 - e^(-1/√(2n+2))
                = a2n+2/(1 + a2n+2)
        similarly a2n+1 < a2n/(1 + a2n)
    Π(1 + (-1)^kak) = Πe^((-1)^n/√n)
                    = e^Σ(-1)^n/√n
    converges to e^-log2 = 1/2, but 
    Σ{1, n}(a2k - a2k-1)    = Σ{1, n}(e^(1/√2k)) - e^(-1/√(2k-1))
                            = Σ{1, n}e^xk(1/√2k + 1/√(2k - 1)) // mean-value theorem, -1/√(2k - 1) < xk < 1/√2k
                            >= 1/e * Σ{1, n}(1/√2k + 1/√(2k - 1))
                            -> ∞

8.45
a.  Σf(n) converges absolutely  => the subseries of all primes powers converges absolutely
                                => Σ{k = 1, ∞}Σ{n = 1, ∞}f(pk^n) converges absolutely by theorem 8.36.ii
                                => Π(1 + Σf(pk^n)) converges absolutely
    for all ε > 0, there's N that n > N implies
        |Σ|f(n)| - Σ{1, n}|f(k)||   = Σ{n+1, ∞}|f(k)|
                                    < ε
    by unique prime factorization, Π{1, n}(1 + Σf(pk^s)) is a sum of distinct f(k) which covers Σ{1, n}f(k)
        |Π{1, n}(1 + Σf(pk^s)) - Σ{1, n}f(k)|   <= Σ{n+1, ∞}|f(k)
                                                < ε
    therefore Π(1 + Σf(pk^s)) = Σf(n)
b.  Σf(n) converges, f(n) -> 0, there's N for all n > N,
        |f(n)| < 1
    for all n >= 2, there's some n^s > N, 
        |f(n^s)|    = |f(n)^s|
                    < 1
        |f(n)|  < 1
    hence
        Σ{0, ∞}f(pk^n)  = Σ{0, ∞}f(pk)^s
                        = 1/(1 - f(pk))

8.46
// nothing left to say

8.47
cot(x)^4    < 1/x^4 
            < (1 + cot(x)^4)
            = 1 + 2cot(x)^2 + cot(x)^4
take x = kπ/(2m + 1), sum over k = 1 to m, 
    Σcot(πk/(m + 1))^4 < (2m + 1)^4/π^4 * Σ1/k^4 < m + 2Σcot(πk/(m + 1))^2 + Σcot(πk/(m + 1))^4
by exercise 1.49,
    (8m^4 + O(m^3))π^4/45(2m + 1)^4 < Σ1/k^4 < (8m^4 + O(m^3))π4/45(2m + 1)^4
when m -> ∞, both sides have limit π^4/90

theorem 9.20
f(p) = |p - z0| is a continuous function R^2 -> R
f(T) is a closed and bounded set in R, p = sup{f(T)} ∈ f(T)

9.1
for all fn, there's a constant Mn that |fn(x)| <= Mn for all x ∈ S
there's some N that for all n >= N, 
    |fn(x) - f(x)| < 1/2
    |fn(x) - fm(x)| <= |fn(x) - f(x)| + |fn(x) - fm(x)| < 1
take n = N + 1, |fn(x)| < M, for all m > n and all x,
    |fm(x)| <= |fn(x) - fm(x)| + |fn(x)|
            < M + 1
for all m <= n, fm(x) <= sup{Mm} is finite, {fn(x)} is uniformly bounded

9.2
a.  if fn -> f, gn -> g uniformly on S, fn + gn -> f + g uniformly on S:
        for all ε > 0, there's integers N, M, for all x ∈ S,
        n > max{N, M} implies |fn(x) - f(x)| < ε/2 and |gn(x) - g(x)| < ε/2 
        |fn(x) + gn(x) - f(x) - g(x)| < ε
    constant function converges uniformly for sure
    on a bounded interval S, |x| <= M
    for all ε > 0, n > [M/ε] + 1,
        |x|/n   <= M/n
                < M/(M/ε)
                = ε
    x/n -> 0 uniformly, fn(x) = x + x/n converges uniformly on S
    1/n -> 0 uniformly, define pn(x) = gn(x) - 1/n
    on irrational x or 0, pn(x) = 0
    on rational x = a/b, pn(x) = b
    so gn(x) = pn(x) + 1/n converges uniformly
b.  on any bounded interval S, the set {a: rational x = a/b ∈ S} is unbounded:
        for some sub-interval of S which contains no integer, let a1/b1 < a2/b2 be two rational numbers ∈ S
        assume wlog 0 < a1/b1 < a2/b2, a1b2 < a2b1
        for sufficiently large prime number p, there's an integer in (a1p/b1, a2p/b2) and a1p/b1 > max{a1, a2}
        let q be an integer in (a1p/b1, a2p/b2), a1/b1 < q/p < a2/b2, q/p ∈ S
        q/p is not an integer, gcd(q, p) = 1, q > max{a1, a2}
        this process can be repeated indefinitely, numerator is not bounded
    on rational x = a/b,
        fn(x)gn(x)  = x(1 + 1/n)(b + 1/n)
                    = xb + 1/n^2 + x(b + 1)/n
                    = xb + 1/n^2 + x/n + a/n
                    -> 0
    a is unbounded, fn(x)gn(x) cannot converge uniformly

9.3
a.  see exercise 9.2
b.  by exercise, {fn} and {gn} are uniformly bounded on S
    let |fn(x)| <= A, |gn(x)| <= B for all n and x
    for all ε > 0, there's N that, for all x ∈ S, n > N implies:
        |fn(x) - f(x)| < ε/2B
        |gn(x) - g(x)| < ε/2A
        |fn(x)gn(x) - f(x)g(x)| <= |fn(x)gn(x) - fn(x)g(x)| + |fn(x)g(x) - f(x)g(x)|
                                <= A|gn(x) - g(x)| + B|fn(x) - f(x)|
                                < ε/2 + ε/2
                                = ε

9.4
for all ε > 0, there's δ that,
    |g(x) - g(y)| < ε whenever |x - y| < δ
there's N that for all x ∈ S,
    |fn(x) - f(x)| < δ whenever n > N
    |g(f(x)) - g(fn(x))| < ε

9.5
a.  1/(nx + 1) -> 0 for all x
    for all n, let x < 1/n, 1/(nx + 1) > 1/2, fn(x) cannot converge uniformly
b.  let gn(x) <= fn(x) <= hn(x), if gn -> f and hn -> f uniformly, fn -> f uniformly:
        for all ε > 0 there's N that for all x, 
        |gn(x) - f(x)|  < ε
        |hn(x) - f(x)|  < ε
        |fn(x) - f(x)|  <= max{|gn(x) - f(x)|, |hn(x) - f(x)|} 
                        < ε
    fn(x)   = x/(nx + 1) 
            = 1/(n + 1/x) 
            -> 0
    0 <= fn(x) <= 1/n, fn -> 0 uniformly

9.6
g is continuous on [0, 1], g([0, 1]) is a compact interval, g is bounded on [0, 1], |g(x)| <= M
g(x)x^n -> 0 uniformly on any [0, p] with p < 1:
    0 <= |g(x)|x^n <= Mp^n
g(x) continuous, there's a δ that
    |g(x)x^n| <= [g(x)| < ε whenever x ∈ (1 - δ, 1]
therefore |g(x)x^n| < ε whenever n > N for all x in [0, 1]

9.7
fn -> f uniformly, fn are continuous, f is continuous, f(xn) -> f(x)
for all ε > 0 there's N that n > N implies:
    |fn(xm) - f(xm)| < ε/2 for each m
    |f(xn) - f(x)| < ε/2
hence
    |fn(xn) - f(x)| <= |fn(xn) - f(xn)| + |f(xn) - f(x)|
                    < ε

9.8
=>: assume
        1.  fn -> f, f is continuous
        2.  ∀ε>0∃δ>0∃m>0∀x∈S, n > m & |fk(x) - f(x)| => |fk+n(x) - f(x)| < ε
    fn and f are continuous, for all x0 ∈ S, there's a neighborhood B(x0) in which 
        |f(x0) - f(x)| < δ/3
        |fn(x0) - fn(x)| < δ/3
    fn -> f, there's some N that for all k > N,
        |fk(x) - f(x)| < δ/3
        |fk(x0) - f(x0)|    <= |fk(x0) - fk(x)| + |fk(x) - f(x)| + |f(x) - f(x0)|
                            < δ
    {B(x0)} is an open cover of S, S is compact, a finite sub-collection of {B(x0)} covers S
    there's an N that for all x0 ∈ S, k > N implies:
        |fk(x0) - f(x0)| < δ
        |fk+n(x0) - f(x0)| < ε for all n > m
    therefore fn -> f uniformly
<=: assume fn -> f uniformly
    by theorem 9.2, f is continuous
    for all ε > 0, there's m that n > m implies |fn(x) - f(x)| < ε for all x ∈ S
    δ can be an arbitrary value

9.9
a.  {fn(x)} is decreasing, let δ = ε, m = 1, for all n > m,
        |fk+n(x) - f(x)|    <= |fk(x) - f(x)|
                            < ε
    by exercise 9.8 fn -> f uniformly
b.  fn(x) = 1/(nx + 1) is continuous on (0, 1)
    f(x) = 0 is continuous on (0, 1)
    {fn(x)} is decreasing
    but fn -> f not uniformly, Dini's theorem may not be true when S is not compact

9.10
when x = 0 or x = 1, fn(x) = 0
when x ∈ (0, 1), fn(x) <= n^c(1 - x^2)^n -> 0 as exponential function grows faster than polynomial function
fn -> 0 pointwise on [0, 1]
for all c <= 0, fn(x) >= fn+1(x) for all x ∈ [0, 1], fn and f are continuous, fn -> f uniformly
when c > 0,
    fn'(x)  = n^c((1 - x^2)^n - 2nx^2(1 - x^2)^(n-1))
            = n^c(1 - x^2)^(n-1) * (1 - x^2 - 2nx^2)
            = n^c(1 - x^2)^(n-1) * (1 - (2n + 1)x^2)
is positive on (0, √(1/(2n + 1))) and negative on (√(1/(2n + 1)), 1), fn(x) has a global maximum at √(1/(2n + 1))
// thanks solutions manual
let xn = 1/√(2n + 1), xn -> 0, if fn -> f uniformly, by exercise 9.7, fn(xn) -> f(x) = 0
fn(xn)  = n^c/√(2n + 1) * (1 - 1/(2n + 1))^n
        = n^c/√(2n + 1) * ((1 - 1/(2n + 1))^(2n+1))^(n/(2n+1))
let yn = (1 - 1/(2n + 1))^(2n+1), gn(y) = y^(n/(2n+1))
{yn} is a subsequence of (1 - 1/n)^n which is increasing and has limit 1/e, yn ∈ [0, 1/e]
n/(2n + 1) = 1/(2 + 1/n), gn(y) <= gn+1(y) on [0, 1], gn -> √y uniformly, gn(yn) -> g(y) = 1/√e
for c < 1/2, 
    |fn(x)| <= |fn(xn)|
            -> 0
uniformly on [0, 1]
when c >= 1/2, fn(xn) does not converge to 0, fn cannot converge uniformly to 0
int(0, 1, n^cx(1 - x^2)^n dx)   = n^(c-1)/2
                                -> 0
iff c < 1, integration by terms is correct iff c < 1

9.11
Σx^n(1 - x) = (1 - x)Σx^n
            = x on (0, 1)
            = 0 at 0 or 1
the limit function is not continuous but each partial sum is continuous
if sn converges uniformly the limit function should also be continuous
Σ(-x)^n(1 - x)  = (1 - x)-x/(1 + x)
                = (x^2 - x)/(1 + x) on [0, 1]
let fn(x) = (-1)^n, |Σfn(x)| <= 1 is uniformly bounded
let gn(x) = x^n(1 - x), gn+1(x) <= gn(x) for x in [0, 1]
gn(x) <= x^n -> 0 uniformly on [0, 1) and gn(x) is constant at 1, gn -> 0 uniformly on [0, 1]
by Dirichlet's test, Σfn(x)gn(x) converges uniformly 

9.12
immediate from Dirichlet's test

9.13
sn(x) - sm(x)   = ΣFk(x)(gk(x) - gk+1(x)) + gn+1(x)Fn(x) - gm+1(x)Fm(x)
                = -Σ{m+1, n}(Fn(x) - Fk(x))(gk(x) - gk+1(x)) + Σ{m+1, n}Fn(x)(gk(x) - gk+1(x)) 
                + gn+1(x)Fn(x) - gm+1(x)Fm(x)
                = -Σ{m+1, n}(Fn(x) - Fk(x))(gk(x) - gk+1(x)) + Fn(x)(gm+1(x) - gn+1(x)) 
                + gn+1(x)Fn(x) - gm+1(x)Fm(x)
                = -Σ{m+1, n}(Fn(x) - Fk(x))(gk(x) - gk+1(x)) + (Fn(x) - Fm(x))gm+1(x)
{gn} is uniformly bounded, |gn(x)| <= M, gn(x) - gm(x) <= 2M
by theorem 9.5, for all ε > 0 there's N that n, m > N implies
    |Σ{m+1, n}fn(x)|    = |Fn(x) - Fm(x)|
                        < ε/4M
    |sn(x) - sm(x)| <= |Σ{m+1, n}(Fn(x) - Fk(x))(gk(x) - gk+1(x))| + |Fn(x) - Fm(x)||gm+1(x)|
                    <= Σ{m+1, n}|Fn(x) - Fk(x)|(gk(x) - gk+1(x)) + |Fn(x) - Fm(x)||gm+1(x)|
                    <= ε/4M * Σ(gk(x) - gk+1(x)) + ε/4M * M
                    = ε/4M * (gm+1(x) - gn+1(x)) + ε/4
                    = ε/2 + ε/4
                    < ε
again by theorem 9.5, Σfn(x)gn(x) converges uniformly

9.14
a.  fn(x)   = x/(1 + nx^2)
            -> 0 if x != 0
            = 0 if x = 0
    f(x) = 0
    fn'(x)  = ((1 + nx^2) - 2nx^2)/(1 + nx^2)^2
            = (1 - nx^2)/(1 + nx^2)^2
            = O(n)/(n^2x^4 + O(n))
            -> 0 if x != 0
            = 1 if x = 0
    f'(x) = 0 = g(x) on R - {0}
b.  for all x > 0, fn(x) = x/(1 + nx^2) = 1/(1/x + nx)
    for all ε > 0, for all 0 < x < ε,
        fn(x)   < 1/(1/x)
                = x
                < ε
    for all x > ε and n > 1/ε^2,
        fn(x)   < 1/nx
                <= 1/nε
                < 1/(ε/ε^2)
                = ε
    hence fn -> f uniformly on [0, +∞)
    as fn(-x) = -fn(x), fn -> f uniformly on R
c.  g is not continuous at 0, fn cannot uniformly converge to g on any interval containing 0
    fn'(x)  = (1 - nx^2)/(1 + nx^2)^2
            = 1/(1 + nx^2) - nx^2/(n^2x^4 + 2nx^2 + 1)
            = 1/(1 + nx^2) - 1/(nx^2 + 2 + 1/nx^2)
    where 1/(1 + nx^2) and 1/(nx^2 + 2 + 1/nx^2) < 1/nx^2 converges uniformly on all interval bounded from 0
    (1 - nx^2)/(1 + nx^2)^2 = 1 at x = 1, by continuity a there's a neighborhood B(0; δ) in which fn(x) > 1/2
    therefore fn'(x) doesn't converge uniformly on any interval of the form (0, a)
    as fn'(-x) = fn'(x), fn'(x) converges uniformly on on [a, +∞) and (-∞, a] for any a > 0

9.15
0 <= 1/(ne^(n^2x^2)) <= 1/n, fn -> 0 uniformly on R
fn'(x)  = -2nxe^(-n^2x^2)
        -> 0 on R - {0} as exponential function grows faster than polynomial function
        = 0 at 0
for all n, when x = 1/n√2 (the maximum point of logx - n^2x^2),
    logx - n^2x^2 = -(log2)/2 - logn - 1/2 
take ε that logε <= (log2)/2 - 1/2, 
    logx - n^2x^2   = -(log2)/2 - logn - 1/2 
                    >= logε - log2n
                    = log(ε/2n)
    xe^(-n^2x^2)    >= ε/2n
    2nxe^(-n^2x^2)  >= ε
for all n, fn'(x) doesn't converge uniformly

9.16
let gn(x) = int(0, x, fn(x)dx), g(x) = int(0, x, fdx), by theorem 9.8,
    gn -> g uniformly on [0, 1]
by theorem 7.32, each gn is continuous on [0, 1]
let xn = 1 - 1/n, xn -> 1, by exercise 9.8, 
    lim{n -> ∞}int(0, 1 - 1/n, fn(x) dx)    = lim{n -> ∞}gn(xn)
                                            = g(1)
                                            = int(0, 1, fdx)

9.17
when S(f) and S(g) exist, S(f + g) = S(f) + S(g):
    lim{n -> ∞}1/n * Σf(k/n) + lim{n -> ∞}1/n * Σg(k/n) = lim{n -> ∞}(1/n * Σ(f(k/n) + g(k/n)))
when S(f), S(|f|) exist, |S(f)| <= S(|f|):
    |1/n * Σf(k/n)| <= 1/n * Σ|f(k/n)| for each n
fn -> f uniformly, for all ε > 0 there's N that p, q > N implies 
    |fp(x) - fq(x)| < ε/2
    |S(fp) - S(fq)| = |S(fp - fq)|
                    = lim{n -> ∞}|1/n * (Σfp(k/n) - fq(k/n))|
    where |1/n * (Σfp(k/n) - fq(k/n))| <= 1/n * Σ|fp(k/n) - fq(k/n)| < 1/n * nε/2 = ε/2
hence 
    |S(fp) - S(fq)| <= ε/2 < ε for all p, q > N
{S(fn)} is a Cauchy sequence, {S(fn)} converges to a limit S
for all ε > 0 there's N that for all p > N,
    |fp(x) - f(x)| < ε/3 for all x ∈ [0, 1]
    |1/n * Σfp(k/n) - 1/n * Σf(k/n)|    <= 1/n * Σ|fp(k/n) - f(k/n)|
                                        < 1/n * nε/3
                                        = ε/3 for all n
    |S(fp) - S| < ε/3
as 1/n * Σfp(k/n) -> S(fp), there's some M that for all n > M,
    |1/n * Σfp(k/n) - S(fp)| < ε/3
hence
    |1/n * Σf(k/n) - S| < ε
therefore S(fn) -> S = S(f) as n -> ∞

9.18
fn -> 0 pointwise
for all n, let x = 1/n, 1/(1 + n^2x^2) = 1/2, fn cannot converge uniformly
int(0, x, 1/(1 + n^2t^2) dt)    = arctan(nx)/n
                                -> 0 for all x > 0
int(0, x, 0 dt) = 0, term-by-term integration permissible

9.19
let sn(x) = Σ{1, n}x/k^α(1 + kx^2) be the partial sums
when x = 0, sn(x) = 0
when x != 0, x/n^α(1 + nx^2) <= x/n^(1+α)x^2 <= 1/x * 1/n^(3/2), by comparison {sn(x)} converges for each x
// thanks solutions manual
1 + nx^2 >= 2√nx
for x != 0, 
    |x/n^α(1 + nx^2)|   <= |x/n^α2√nx|
                        = 1/2n^(α + 1/2)
by M-test, Σx/n^α(1 + nx^2) converges uniformly on R if α > 1/2

9.20
let gn(x) = sin(1 + x/n)/√n, 
|sin(1 + x/n)/√n|   <= 1/√n
                    -> 0
gn -> 0 pointwise on R
on a compact set S, |x| <= M, cos(1 + x/n) -> cos1 > 0, sin(1 + x/n) -> sin1 > 0 uniformly
there's an N for all n > N and all x ∈ S,
dgn(x)/dn   = (cos(1 + x/n)(-x/n^2)√n - sin(1 + x/n)/2√n)/n
            = (-xcos(1 + x/n) - n/2 * sin(1 + x/n))/n^(5/2)
            < 0
a sub-sequence of gn(x) is decreasing for all x ∈ S, by Dini's theorem gn(x) -> 0 uniformly on compact set S
by exercise 9.12, Σ(-1)^ngn(x) converges uniformly on S

9.21
let sn be the partial sums, when x = 1, 
    sn  = Σ(1/(2n + 1) - 1/(2n + 2))
        = 1 - lim{n -> ∞}1/(2n + 2)
        = 1
when x ∈ [0, 1),
    sn  = Σ{0, n}x^(2k+1)/(2k + 1) - Σ{0, n}x^(k+1)/2(k + 1)
        = 1/2 * Σ{1, n+1}(-1)^(k+1)x^k/k + Σ{[n/2 + 1], n}x^(2k+1)/(2k + 1)
where 
    Σ{1, n}(-1)^(k+1)x^k/k -> log(1 + x) by formula 37
    x^(2k+1)/(2k + 1) is a subseries of x^n/(n + 1) <= x^n, Σ{[n/2 + 1], n}x^(2k+1)/(2k + 1) -> 0 by Cauchy condition
sn(x) -> log(1 + x)/2 pointwise on [0, 1), the limit function is not continuous, the convergence is not uniform

9.22
Σan converges absolutely, for all ε > 0 there's N that n > N implies
    |Σ{n+1, n+p}ansin(nx)|  <= Σ{n+1, n+p}|an||sin(nx)|
                            <= Σ{n+1, n+p}|an|
                            < ε
for all x and all p, Σansin(nx) satisfies Cauchy's condition of uniform convergence
similarly Σancos(nx) converges uniformly on R

9.23
// thanks 
//  An Introduction to the Theory of Infinite Series, T. J. I'A. Bromwich
//  The Uniform Convergence of a Certain Class of Trigonometrical Series, T. W. Chaundy & A. E. Jolliffe
//  solutions manual
=>: assume nan -> 0
    sin(nx) is periodic, if Σansin(nx) = lim{n -> ∞}sn converges on [0, 2π) it converges on R
    sn(0) = sn(π) = 0, if x ∈ (π, 2π), x = 2π - θ, θ ∈ (0, π) and 
        sin(nx) = sin(n(2π - θ))
                = sin(2πn - nθ)
                = -sin(nθ)
    hence if {sn} converges on (0, π) it converges on R
    nan -> 0, let Mn = sup{kak: k >= n}, lim{n -> ∞}Mn = limsup{n -> ∞}nan = 0, {Mn} is decreasing
    when x ∈ (0, π), 
        |sn(x) - sm(x)| = |Σ{m+1, n}Fk(x)(ak - ak+1) + an+1Fn(x) - am+1Fm(x)|
                        <= Σ{m+1, n}|Fk(x)|(ak - ak+1) + an+1|Fn(x)| + am+1|Fm(x)|
                        <= Σ{m+1, n}(ak - ak+1)/|sin(x/2)| + an+1/|sin(x/2)| + am+1/|sin(x/2)|
                        = 2am+1/sin(x/2)
                        <= 2am/sin(x/2)
        sin(x/2) >= x/π as sin(x)/x is decreasing on (0, 2π)
    if x ∈ [π/n, π), 
        |Σ{n+1, n+p}aksin(kx)|  < 2an/sin(x/2)
                                <= 2an/(x/π)
                                <= 2nan
    if x ∈ (0, π/n), let m = [π/x], x = π/(m + a), 0 <= a < 1, if n + p <= m,
        |Σ{n+1, n+p}aksin(kx)|  = Σ{n+1, n+p}aksin(kx)
                                <= Σ{n+1, n+p}ak * kx
                                <= Mn+1πp/(m + a)
                                <= Mnπ
    if n + p > m, 
        |Σ{n+1, n+p}aksin(kx)|  <= |Σ{n+1, m}aksin(kx)| + |Σ{m+1, n+p}aksin(kx)|
                                <= Mnπ + 2am+1/sin(x/2)
                                <= Mnπ + 2am+1/(x/π)
                                = Mnπ + 2am+1(m + a)
                                < Mnπ + 2(m + 1)am+1
                                <= (π + 2)Mn
    both Mn and nan -> 0, for all ε > 0, there's N for all n > N, all p and all x ∈ (0, π),
        |Σ{n+1, n+p}aksin(kx)| < ε
    therefore Σansin(nx) converges uniformly on R
<=: assume Σansin(nx) converges uniformly, for all ε > 0 there's N that n > N implies
        εsin(1/2)/2 > |Σ{n, 2n-1}aksin(kx)|
    take x = 1/2n, sin(1/2) = sin(nx) < sin((2n - 1)x) < sin(1)
        |Σ{n, 2n-1}aksin(kx)|   = Σ{n, 2n-1}aksin(kx)
                                >= na2nsin(1/2)
        ε > 2na2n
    similarly, there's N that n > N implies ε > 2(n - 1)a2n-1, nan -> 0

9.24
when s = 0, Σann^-s = Σan is constant
when s > 0, n^-s -> 0 is decreasing, Σan is bounded, by Dirichlet's test Σann^-s converges uniformly on [0, +∞)
each partial sum Σ{1, n}ak * k^-s is continuous, the limit function must also be continuous, lim{s -> 0+}Σann^-s = Σan

9.25
let t = s - 1 - h/2 > 0, 
    Σn^-s   = Σn^-(1 + h/2) * n^-t
where Σn^-(1 + h/2) uniformly bounded, n^-t -> 0 is decreasing
by Dirichlet's test Σn^-s uniformly converges on t > 0
for all s > 1, let h = s - 1, logn/n^(h/2) -> 0 is decreasing for sufficiently large n:
    (logn/n^(-h/2))'    = (n^(h/2 - 1) - logn * h/2 * n^(h/2 - 1))/n^h
                        = n^(-h/2 - 1) * (1 - hlogn/2)
                        < 0 for sufficiently large n
s - h/2 > 1, Σn^(-x) is uniformly bounded on (s - h/2, +∞), Σlogn/n^x converges uniformly on (s - h/2, +∞)
by theorem 9.14, ζ'(s) = Σ-logn/n^s
let f(s) = 1/n^s, f^(k)(s) = (-logn)^k/n^s
(logn)^k/n^t -> 0 for all k and t > 0, the sequence is also decreasing for sufficiently large n:
    d((logn)^k/n^t)/dn  = (k(logn)^(k-1) * n^(t-1) - (logn)^k * t * n^(t-1))/n^2t
                        = n^(-t-1) * (logn)^(k-1) * (k - tlogn)
                        < 0 for sufficiently large n
by the same argument Σf^(k)(s) converges uniformly on [1 + h, +∞) for any h > 0
ζ^(k)(s) = (-1)^kΣ(logn)^k/n^s

9.26
exponential function grows faster than polynomial functions, n^(3/2)x/e^(n^2x^2) -> 0 for all x
fn(x)^2 = n^3x^2e^-2n^2x^2
int(-1, 1, fn(x)^2 dx)  = 2n^3int(0, 1, x^2e^(-2n^2x^2) dx)
                        = 1/√2 * int(0, 1, √2n * (√2nx)^2e^(-(√2nx)^2) dx)
                        = 1/√2 * int(0, √2n, y^2e^-y^2 dy)
                        = -1/√2 * int(0, √2n, yd(e^-y^2/2))
                        = -1/2√2 * (√2ne^(-2n^2) - int(0, √2n, e^-y^2dy))
                        -> 1/2√2 * √π/2
                        = √π/4√2
                        > 0

9.27
// thanks solutions manual
// looks like the proof depends on measure theory, will go back here after chapter 10

9.28
a.  1 >= cos(x)^2n >= 0, int(0, π, cos(x)^2n dx) >= 0, int(a, b, cos(x)^2n dx) <= b - a
    for all ε > 0, |cos(ε/4)| < 1, there's some N that n > N implies:
        cos(ε/4)^2n < ε/2π, cos(x)^2n < ε/2π on [ε/4, π - ε/4]
        int(0, π, cos(x)^2n dx) <= int(0, ε/4, 1dx) + int(ε/4, π - ε/4, cos(x)^2n dx) + int(π - ε/4, π, 1dx)
                                <= ε/4 + ε/2π * (π - ε/2) + ε/4
                                < ε
    hence lim{n -> ∞}int(0, π, cos(x)^2n dx) = 0
    fn(π) = cos(π)^n = (-1)^n diverges
b.  fn(0) = 1, for x ∈ (0, π/2], |cos(x)| < 1, fn(x) = cos(x)^n -> 0
    the limit function is not continuous, fn(x) doesn't converge uniformly

9.29
for all x ∈ [0, 1], let N = [2/x] + 1, for all n > N,
    2/n < x, fn(x) = 0
hence fn(x) -> 0 pointwise on [0, 1], but 
    int(0, 1, fn(x)dx)  = int(1/n, 2/n, ndx)
                        = 1

9.30
if f is continuous and increasing on S, C({xn}) ⊆ S, limsup{n -> ∞}f(xn) = f(limsup{n -> ∞}xn):
    let limsup{n -> ∞}xn = p, for all ε > 0, there's δ > 0 that |f(x) - f(p)| < ε whenever |x - p| < δ
    as f is increasing, f(x) - f(p) < ε for all x - p < δ
    there's some N that n > N implies xn < p + δ, f(xn) < f(p) + ε
    for all M there's n > M, xn > p - δ, f(xn) > f(p) - ε, limsup{n -> ∞}f(xn) = f(p)
similarly, if f is continuous and decreasing on S, liminf{n -> ∞}f(xn) = f(limsup{n -> ∞}xn)
by exercise 8.4, 
    liminf{n -> ∞}|an+1/an| <= limsup{n -> ∞}an^(1/n) = 1/r <= limsup{n -> ∞}|an+1/an|
1/x is continuous and decreasing,
    liminf{n -> ∞}|an/an+1| <= r <= limsup{n -> ∞}|an/an+1|

9.31
a.  x^k is increasing and continuous, 
        limsup{n -> ∞}(an^k)^(1/n)  = limsup{n -> ∞}(an^(1/n))^k
                                    = (1/r)^k
    r = 2^k
b.  1   > limsup{n -> ∞}|anz^kn|^(1/n)
        = limsup{n -> ∞}|an|^(1/n) * |z|^k
        = |z|^k/r
    |z|^k < r = 2, |z| < 2^(1/k)
c.  limsup{n -> ∞}|anz^(n^2)|^(1/n) = limsup{n -> ∞}|an|^(1/2) * z^n
                                    = +∞ if |z| > 1
                                    = 1/2 if |z| = 1
                                    = 0 if |z| < 1
    radius of convergence is 1

9.32
Σanx^n * (1 + Ax + Bx^2)    = Σ{0, ∞}anx^n + Σ{0, ∞}Aanx^(n+1) + Σ{0, ∞}Banx^(n+2)
                            = Σ{2, ∞}anx^n + Σ{2, ∞}Aan-1x^n + Σ{2, ∞}Ban-2x^n + a0 + a1x + Aa0x
                            = Σ{2, ∞}(an + Aan-1 + Ban-2)x^n + a0 + a1x + Aa0x
                            = a0 + (a1 + Aa0)x
Σanx^n  = (a0 + (a1 + Aa0)x)/(1 + Ax + Bx^2)

9.33
a.  for all k >= 0,
        lim{x -> 0}e^(-1/x^2)/x^k   = lim{y -> ∞}e^(-y^2)/(1/y)^k
                                    = lim{y -> ∞}y^k/e^(y^2)
                                    = 0 as exponential function grows faster than polynomial functions
    f^(n)(x) = Σane^(-1/x^2)/x^kn a finite sum:
        f^(0)(x) = f(x) = e^(-1/x^2)
        assume f^(n)(x) = Σane^(-1/x^2)/x^kn
        (ane^(-1/x^2)/x^kn)'    = an(e^(-1/x^2) * -2/x^3 * x^k - e^(-1/x^2) * kx^(k-1))/x^2k
                                = ane^(-1/x^2)(-2x^(-k-3) - kx^(-k-1))
    therefore f^(n+1)(0)    = lim{n -> ∞}f^(n)(x)/x
                            = 0
b.  Σf^(n)(0)/n! * x^n = 0, the series is convergent on R, but e^(-1/x^2) != 0 for all R - {0}

9.34
a.  for α < 0, 
        (-1)^nC(α, n)   = (-1)^nΠ{1, n}(α - k)/n!
                        = Π{0, n-1}(-α + k)/n!
                        = -α/n * Π{1, n-1}(-α + k)/k
                        >= -α/n
    by comparison test Σ(-1)^nC(α, n) diverges
    for α = 0, ΣC(α, n)(-1)^n = 0
    for α > 0, when α is an integer, ΣC(α, n)(-1)^n is a finite sum
    // thanks soluions manual
    let an = nC(α, n)(-1)^n,
        0   < an+1/an
            = (n - α)/n
            < 1 for sufficiently large n
    |an+1| < |an|, an+1 and an has same sign for sufficiently large n, assume wlog for some N an >= 0 whenever n > N
    {an} is decreasing and positive, an -> A for some A >= 0, also
        an - an+1   = nC(α, n)(-1)^n - (n + 1)C(α, n+1)(-1)^(n+1)
                    = nC(α, n)(-1)^n - (α - n)C(α, n)(-1)^(n+1)
                    = (-1)^nC(α, n)(n - α + n)
                    = αC(α, n)(-1)^n
    ΣC(α, n)(-1)^n  = Σ(an - an+1)/α
                    = (a1 - A)/α
    converges whenever α > 0
b.  when α <= -1, 
        C(α, n) = Π{1, n}(α - k + 1)/k
                <= -Π{1, n}k/k
    is not bounded, ΣC(α, n) cannot converge
    when -1 < α < 0, define 
        an  = |C(α, n)| 
            = -α(-α + 1)..(-α + n - 1)/n!
            > 0
        C(α, n) = (-1)^nan 
    an+1/an = (n - α)/(n + 1)
            < 1
    {an} is decreasing and positive, an -> B for some B >= 0
    an  = Π{1, n}(-α + k - 1)/k
        = Π{1, n}(1 - (α + 1)/k)
    as Σ(1 - (α + 1)/k) diverges, an diverges to 0, ΣC(α, n) = Σ(-1)^nan converges
    an  = -α/n * Π{1, n-1}(-α + k)/k
        > -α/n
    by comparison test Σ|C(α, n)| = Σan diverges, ΣC(α, n) converges conditionally 
    when α = 0, ΣC(α, n) = 0
    when α > 0, again define an = |C(α, n)|
    an+1/an = |α - n|/(n + 1)
            = (n - α)/(n + 1) for sufficiently large n
            < 1
    (n + 1)an+1 = (n - α)an
    nan - (n + 1)an+1 = αan > 0
    {nan} is decreasing and positive, nan -> A for some A >= 0
    Σan = Σ(nan - (n + 1)an+1)/α
        = 1/α - A/α
    converges, ΣC(α, n) converges absolutely

9.35    
anx^n <= an when 0 <= x <= 1, Σan converges, by M-test Σanx^n converges uniformly on [0, 1]
assume r = 1, if Σan converges, Σanx^n converges uniformly on [0, 1], the limit function f is continuous on [0, 1]
lim{x -> 1-}f(x) = Σan

9.36
Σan diverges, an >= 0, its partial sums are not bounded above
for all M > 0, there's N that n > N implies:
    Σ{0, n}ak > 2M
for all n there's x ∈ (0, 1) that for all 0 <= k <= n and all y > x, 
    y^k > x^k >= x^n >= 1/2
    Σany^n  > Σ{0, n}aky^k 
            > 1/2 * Σ{0, n}ak
            > M
let δ = 1 - x, Σany^n > M whenever x ∈ (1 - δ, 1), lim{x -> 1-}anx^n = +∞

9.37
by exercise 9.36, if Σan is not bounded, lim{x -> 1-}anx^n = +∞
if lim{x -> 1-}Σanx^n = A, Σan converges, by exercise 9.35 Σanx^n converges uniformly on [0, 1]
Σan = lim{x -> 1-}Σanx^n

9.38
a.  by defintion,
        e^x = Σx^n/n!
        xe^xt/(e^x - 1) = xΣ(xt)^n/n! / (Σ{0, ∞}x^n/n! - 1)
                        = Σ(xt)^n/n! / Σ{1, ∞}x^(n-1)/n!
                        = Σ(xt)^n/n! / Σ{0, ∞}x^n/(n + 1)!
    by theorem 9.26, there's a neighborhood B(0, δ) in which, 
        Σqnx^n  = 1/Σ{0, ∞}x^n/(n + 1)!
        xe^xt/(e^x - 1) = Σqnx^n * Σ(xt)^n/n!
                        = Σpnx^n // theorem 9.24
    where each pn is unique 
b.  at x = 0, 
        ΣPn(t)x^n/n!    = P0(t)
                        = e^tx * ΣPn(0)x^n/n!
                        = P0(0)
    in B(0, δ), 
        ΣPn(t)/n! * x^n = e^xt * ΣPn(0)/n! * x^n
                        = Σ(t^n/n! * x^n) * Σ(Pn(0)/n! * x^n)
                        = Σ(Σ{0, n}Pk(0)t^(n-k)/k!(n-k)!) * x^n
    Pn(t)/n!    = Σ{0, n}Pk(0)t^(n-k)/k!(n - k)!
    Pn(t)   = Σ{0, n}C(n, k)Pk(0)t^(n-k)
c.  at t = 0, 
        x/(e^x - 1) = ΣPn(0)x^n/n!
                    = 1/Σx^n/(n + 1)!
        1   = ΣPn(0)x^n/n! * Σx^n/(n + 1)!
            = Σ(Σ{0, n}Pk(0)/k!(n - k + 1)!)x^n
        Pk(0) = 1
        Σ{0, n}Pk(0)/k!(n - k + 1)! = 0 for all n >= 1
        Σ{0, n}Pk(0)(n + 1)!/k!(n - k + 1)! = 0
        Σ{0, n}C(n+1, k)Pk(0) = 0
        Σ{0, n-1}C(n, k)Pk(0) = 0 for all n >= 1
    take n = 2,
        B0 + 2B1 = 0
        B1 = -1/2
d.  Pn'(t)  = Σ{0, n-1}C(n, k)Pk(0)(n - k)t^(n-k-1)
            = Σ{0, n-1}n!/k!(n - k)!Pk(0)(n - k)t^(n-k-1)
            = nΣ{0, n-1}(n - 1)!/k!(n - 1 - k)!Pk(0)t^(n-k-1)
            = nPn-1(t)
e.  Σ(Pn(t + 1) - Pn(t))x^n/n!  = ΣPn(t + 1)x^n/n! - ΣPn(t)x^n/n!
                                = xe^(t+1)x/(e^x - 1) - xe^tx/(e^x - 1)
                                = (e^x - 1)xe^tx/(e^x - 1)
                                = xe^tx
                                = Σx(tx)^n/n!
                                = Σx^(n+1)t^n/n!
                                = 1 + Σ{1, ∞}x^nt^(n-1)/(n - 1)!
                                = 1 + Σ{1, ∞}nt^(n-1)/n! * x^n
    hence for n >= 1, Pn(t + 1) - Pn(t) = nt^(n-1)
f.  ΣPn(1 - t)x^n/n!    = xe^(1 - t)x/(e^x - 1)
                        = xe^xe^-tx/(e^x - 1)
                        = xe^(-tx)/(1 - e^-x)
                        = -xe^(-tx)/(e^-x - 1)
                        = ft(-x)
                        = ΣPn(t)(-x)^n/n!
    hence Pn(1 - t) = (-1)^nPn(t)
g.  in the neighborhood B(0; δ),
        ΣB2n+1x^2n+1/(2n + 1)!  = 1/2 * (ΣBnx^n/n! - ΣBn(-x)^n/n!)
                                = 1/2 * (x/(e^x - 1) + x/(e^-x - 1))
                                = 1/2 * (x/(e^x - 1) + xe^x/(1 - e^x))
                                = 1/2 * x(1 - e^x)/(e^x - 1)
                                = -x/2
    let b2n = 0, b2n+1 = B2n+1/(2n + 1)!,
        Σ{0, ∞}B2n+1x^2n+1/(2n + 1)!    = Σ{0, ∞}bnx^n/n!
                                        = -x/2
    therefore B1 = -1/2, B2n+1 = 0 for all n >= 1
h.  by part e, 
        (Pn+1(k) - Pn+1(0))/(n + 1) = Σ{0, k-1}(Pn+1(s + 1) - Pn+1(s))/(n + 1)
                                    = Σ{0, k-1}(n + 1)s^n/(n + 1)
                                    = Σ{0, k-1}s^n

// no solutions manual starting from this chapter, a lot of the exercises won't be solved  

definition 10.8.c
max(fn+1, gn+1) >= fn and gn
                >= max(fn, gn)
max is a continuous function R^2 -> R:
    for all ε > 0, if (z, w) ∈ B((x, y); ε), max(x, y) - √(ε/2) <= max(z, w) <= max(x, y) + ε
as (fn(x), gn(x)) -> (f(x), g(x)), min(fn(x), gn(x)) -> min(f(x), g(x))
similarly
min(fn+1, gn+1) >= fn or gn
                >= min(fn, gn)
min(fn(x), gn(x)) -> min(f(x), g(x)) as min(f, g) = -max(-f, -g)

theorem 10.10.b
I1 ∩ I2 is at most a single point on R with measure zero
f1 ∈ U(I1), f2 ∈ U(I2), there's sequence of functions {sn}, {tn} that
    sn ↑ f1 a.e. on I1, tn ↑ f2 a.e. on I2
define a sequence of functions {rn} as:
    rn  = sn on I1
        = tn on I - I1
rn is a step function (I1 ∩ I2 is the only new point in the partition), rn ↑ f a.e. on I and 
    int(I, fn)  = lim{n -> ∞}int(I, rn)   
                = lim{n -> ∞}int(I1, sn) + lim{n -> ∞}int(I - I1, tn)
                = int(I1, f1) + lim{n -> ∞}int(I2, tn)
                = int(I1, f1) + int(I2, f2)

theorem 10.17
a.  integral of step functions are invariant under translation: only (xk - xk-1) matters not each xk
    let f ∈ U(I), g ∈ U(I + c), g(x) = f(x - c),
    there's a sequence {fn} that fn ↑ f a.e. on I, lim{n -> ∞}int(I, fn) = int(I, f)
    let gn(x) = fn(x - c), gn(x) -> f(x - c) = g(x), gn+1(x) >= g(x), gn ↑ g a.e. on I + c
        int(I, f)   = lim{n -> ∞}int(I, fn)   
                    = lim{n -> ∞}int(I+c, gn) // invariance of integral of step function under translation
                    = int(I+c, g)
    integral of upper functions are invariant under translation
    finally let f ∈ L(I), g ∈ L(I + c), g(x) = f(x - c)
    f = f1 - f2, f1, f2 ∈ U(I)
    define g1(x) = f1(x - c), g2(x) = f2(x - c), g1 - g2 = g on I + c, similar to above g1, g2 ∈ U(I + c)
    int(I + c, g)   = int(I + c, g1) - int(I + c, g2)
                    = int(I, f1) - int(I, f2)
                    = int(I, f)
b.  let f ∈ S(I), let g(x) = f(x/c) for some c > 0
    g(x) is a step function on cI:
        f vanishes outside some [a, b] ∈ I => g vanishes outside some [ca, cb] ∈ cI
        f is constant on (xk-1, xk) of a partition P = {xk} => g is constant on (cxk-1, cxk) of a partition cP = {cxk}
    int(cI, g) = int(I, f):
        assume g(x) = ck on each interval (cxk-1, cxk), f(x) = ck on each interval (xk-1, xk)
        int(cI, g)  = Σck(cxk-1 - cxk)
                    = cΣck(xk-1 - xk)
                    = cint(I, f)
    let f ∈ U(I), let g(x) = f(x/c) for some c > 0 
    there's step functions fn ↑ f a.e. on I, let gn = fn(x/c)
    gn ∈ S(cI), gn+1(x) >= gn(x) and 
        lim{n -> ∞}gn(x)    = lim{n -> ∞}fn(x/c)
                            = f(x/c) a.e. on cI
    hence gn ↑ g, g ∈ U(cI),
        int(cI, g)  = lim{n -> ∞}int(cI, gn)  
                    = lim{n -> ∞}cint(I, fn)
                    = cint(I, f)
    let f ∈ L(I), g(x) = f(x/c) on cI
    f = f1 - f2, f1, f2 ∈ U(I), let g1(x) = f1(x/c), g2(x) = f2(x/c), by argument above g1, g2 ∈ U(cI)
    g1 - g2 = g, 
        int(cI, g)  = int(cI, g1) - int(cI, g2) 
                    = cint(I, f1) - cint(I, f2)
                    = cint(I, f)
c.  let f ∈ S(I), g(x) = f(-x) is defined on -I
    g is a step function on -I:
        f vanishes outside [a, b] => g vanishes outside [-a, -b]
        f is constant in each interval of a partition {xk} => g is constant in each interval of {-xk}
    f(x) = ck in (xk-1, xk) => g(x) = ck between (-xk, -xk-1),
        int(-I, g)  = Σck(-xk - -xk-1)
                    = Σck(xk-1 - xk)
                    = int(I, f)
    let f ∈ U(I), g(x) = f(-x) on -I
    there's fn ↑ f where fn ∈ S(I), define gn(x) = fn(-x), gn ∈ S(-I),
        lim{n -> ∞}gn(x)    = lim{n -> ∞}fn(-x)
                            = f(-x)
                            = g(x)
        gn+1(x) >= gn(x)
    gn ↑ g on -I and
        int(-I, g)  = lim{n -> ∞}int(-I, gn)
                    = lim{n -> ∞}int(I, fn)
                    = int(I, f)
    let f ∈ L(I), there's f1, f2 ∈ U(I) that f = f1 - f2
    define g1, g2: -I -> R, g1(x) = f1(-x), g2(x) = f2(-x), g1, g2 ∈ U(I), g1 - g2 = g, g ∈ L(I)
    int(-I, g1) - int(-I, g2) = int(I, f1) - int(I, f2) = int(I, f)

theorem 10.18.b
let f1 = u1 - v1, f2 = u2 - v2, u1, v1 ∈ U(I1), u2, v2 ∈ U(I2)
define
    u   = u1 on I1
        = u2 on I - I1
    v   = v1 on I1
        = v2 on I - I1
u - v = f on I, u, v ∈ U(I) by theorem 10.10.b, f ∈ L(I),
    int(I1, f1) + int(I2, f2)   = int(I1, u1) - int(I1, v1) + int(I2, u2) - int(I2, v2)
                                = int(I1, u1) + int(I2, u2) - (int(I1, v1) + int(I2, v2))
                                = int(I, u) - int(I, v)
                                = int(I, f)

theorem 10.30, gn -> f a.e. on I
wherever |f(x)| <= g(x), for all ε > 0, there's N that n > N implies
    |fn(x) - f(x)| < ε/2
    |fn(x)| <= |fn(x) - f(x)| + |f(x)|
            < g(x) + ε/2
-g <= gn <= g for all n
if fn(x) > g(x) >= 0,
    min(fn(x), g(x))    = g(x)
                        > fn(x) - ε/2
    fn  > g(x)
        >= gn(x)   
        = max(min(fn, g), -g)
        = max(g, -g)
        = g(x)
        > fn(x) - ε/2
if fn(x) < -g(x) <= 0,
    min(fn(x), g(x))    = fn(x)
    fn(x)   < -g(x)
            <= gn(x)   
            = max(min(fn(x), g(x)), -g(x))    
            = max(fn(x), -g(x))
            = -g(x)
            < fn(x) + ε/2
otherwise -g(x) <= fn(x) <= g(x) and gn(x) = fn(x)
|gn(x) - fn(x)| < ε/2, |gn(x) - f(x)| < ε, gn -> f a.e. on I

errata of theorem 10.31:
    |fn| is increasing => int(I, |fn|) is increasing

theorem 10.38, example 2, lim{x -> ∞}f(x) = p iff lim{n -> ∞}f(xn) = p for all increasing xn -> ∞, x1 >= 1
=>: let lim{x -> ∞}f(x) = p, immediate from theorem 4.12
<=: if f(x) doesn't converge to p as x -> ∞, there's ε > 0, for all M there's x > M and |f(x) - p| > ε
    take xn that xn > n and |f(xn) - p| >= ε, define un = inf{xk: k >= n}
    un >= n, u1 >= 1, un -> ∞ is increasing, un -> ∞
    but if there's infinite xn < f(x) - ε, lim{n -> ∞}un = liminf{n -> ∞} <= f(x) - ε
    if there's only finite xn < f(x) - ε, lim{n -> ∞}un = liminf{n -> ∞} >= f(x) - ε

theorem 10.39: a lemma "boundary of an interval has measure zero" is given without proof
guess will be proved later during the introduction to measure of sets

theorem 10.39, example 2
x^(a-1)|logx| is continuous on each interval [1/n, 1], by Lebesgue's criterion its Riemann integrable on [1/n, 1] 
let 
    In = [1/n, 1]
    fn(x)   = x^(a-1)|logx| on [1/n, 1]
            = 0 on (0, 1/n)
fn increases on (0, 1], their integral converges:
    int(I, fn)  = int(1/n, 1, fndx)
                = 1/a^2 - (1/n)^a * (1 + alogn)/a^2
                -> 1/a^2
by Levi's theorem in L, the limit function is Lebesgue integrable on (0, 1]
by theorem 10.33, Me^(-x/2) ∈ L((1, +∞))
by theorem 10.18, g(x) ∈ L([0, +∞))

theorem 10.40
G is continuous on an interval X    => it's bounded on any closed sub-interval of X
                                    => there's a sequence of functions Gn = G on X except an interval of length < 1/n
                                    => each Gn ∈ R ⊆ L(X) ⊆ M(X)
                                    => there's a sequence of step functions -> G a.e. on X
                                    => G ∈ M(X)
                                    => fG ∈ M(X)

the first property of definition 10.48 is not true
1 ∈ L([0, 1]), but [0, 1] has an unmeasurable subset T, 1 ∉ L(T)
the discussion of measure theory is quite informal here

similarly theorem 10.49.a is not true

10.1
if f >= g (and symmetrically g >= f),
    max(f, g) = f, min(f, g) = g
    max(f, g) + min(f, g) = f + g
    f + h >= g + h, max(f + h, g + h) = f + h = max(f, g) + h
    min(f + h, g + h) = g + h = min(f, g) + h

10.2
proved below definition 10.8

10.3
if {int(I, sn)} converges, by Levi's theorem, sn -> g a.e. on I, f = lim{n -> ∞}sn = g a.e. on I
g ∈ L(I), by theorem 10.21 f ∈ L(I), but f >= 1 ∈ M(I), by theorem 10.35 1 ∈ L(I), but I is unbounded, 1 ∉ L(I)

10.4
a.  sn vanishes outside the closed interval [0, 1]
    sn = 1 on a finite number of (possibly overlapping) closed intervals and = 0 anywhere else
    sn+1 = max{f1, .., fn+1} >= max{f1, .., fn} = sn, {sn} is increasing
    for all x ∈ [0, 1], if x ∈ IN, sn(x) = 1 = f(x) for all n >= N, otherwise sn(x) = 0 = f(x), sn -> f everywhere on I
b.  μ(In) <= μ([rn - 4^-n, rn + 4^-n]) = 2/4^n, int(I, sn) = μ(∪In) <= Σμ(In) <= 2Σ{1, n}4^-n <= 2/3
    int(I, f) = lim{n -> ∞}int(I, sn) <= 2/3
c.  let P = {xk} be the partition of a step function sn, sn is constant on each (xk-1, xk)
    there's a rational number in (xk-1, xk), if sn <= -f(x), sn must <= -1 on each (xk-1, xk)
    sn must be <= -1 a.e. (anywhere but endpoints of P), int(I, sn) <= -1
d.  if -f ∈ U(I), int(I, f + -f) = int(I, f) + int(I, -f) <= -1/3, but f - f = 0

10.5
int(0, ∞, e^-nx - 2e^-2nx dx)   = int(0, ∞, d(-e^(-nx)/n + e^(-2nx)/n))
                                = 0
Σint(0, ∞, e^-nx - e^-2nx dx)   = 0
when x > 0, 
Σ(e^-nx - 2e^-2nx)  = 1/(e^x - 1) - 2/(e^2x - 1)
int(0, ∞, Σ(e^-nx - 2e^-2nx))   = int(0, ∞, d(log(e^x - 1) - x - log(e^2x - 1) + 2x))
lim{x -> ∞}log(e^x - 1) - x = lim{x -> ∞}log(e^2x - 1) - 2x 
                            = 0
lim{x -> 0}log(e^x - 1) - x - log(e^2x - 1) + 2x    = lim{x -> 0}log((e^x - 1)/(e^2x - 1))
                                                    = -log2 // (e^x - 1)/x -> 1 as x -> 0
int(0, ∞, Σ(e^-nx - 2e^-2nx))   = log2

10.6
a.  let f(x) = log(1/(1 - x)) = -log(1 - x), f^(n)(x) = (n - 1)!/(1 - x)^n is nonnegative on I = [0, 1)
    by Bernstein's theorem, f(x) = Σx^n/n on I
    define fn = Σ{1, n}x^k/k on [0, 1], fn -> f a.e. on I
    fn ∈ R ⊆ L(I), {fn} is increasing on I,
        int(I, f)   = lim{n -> ∞}int(I, fn)   
                    = lim{n -> ∞}int(0, 1, Σ{1, n}x^k/k dx)
                    = lim{n -> ∞}Σ{1, n}1/k * int(0, 1, x^kdx)
                    = lim{n -> ∞}Σ{1, n}1/k * 1/(k + 1)
                    = lim{n -> ∞}Σ{1, n}(1/k - 1/(k + 1))
                    = 1 - lim{n -> ∞}1/(n + 1)
                    = 1
b.  x^(p-1)/(1 - x) * -log(x) = Σx^(n+p-1) * -log(x)
    where 
        int(0, 1, x^(n+p-1)log(x))  = int(0, 1, d(x^(n+p)((n + p)log(x) - 1)/(n + p)^2)
                                    = -1/(n + p)^2
    by the same argument of part a, 
        int(0, 1, x^(p-1)/(1 - x) * log(1/x) dx)    = -Σint(0, 1, x^(n+p-1)log(x) dx)
                                                    = Σ1/(n + p)^2
    // this integral is a form of the first-order polygamma function 

10.7
a.  int(a, b, |fn|) <= int(a, b, g) <= int(a, ∞, g) = M, int(a, ∞, fn) and int(a, ∞, |fn|) exist by theorem 10.33
    |f(x)| = lim{n -> ∞}|fn(x)| <= g(x), int(a, ∞, |f|) exists
    0 <= |f| - f <= 2|f|, int(a, ∞, f) exists
    for all ε > 0, there's b0, N that b > b0, n > N implies
        |int(b, ∞, f)|  <= int(b, ∞, |f|)
                        < ε/3
        |int(b, ∞, g)|  < ε/3 
        |f - fn| < ε/3(b0 - a) on [a, b0] // uniform convergence
        pn > b0
        |int(a, ∞, f) - int(a, pn, fn)| <= |int(b0, ∞, f)| + |int(b0, pn, fn)| + |int(a, b0, f) - int(a, b0, fn)|
                                        < ε/3 + int(b0, pn, |fn|) + ε/3
                                        <= 2ε/3 + int(b0, pn, g)
                                        < 2ε/3 + int(b0, ∞, g)
                                        < ε
b.  fn = (1 - x/n)^n * x^p -> e^-x * x^p pointwise on [0, +∞)
    on any [0, b], b >= 0, 1 - x/n > 0 for n > b
    let gn(x)   = (1 - x/n)^n
                = e^nlog(1 - x/n)
                = e^hn(x)
    hn -> -x pointwise on [0, b], -x is bounded on [0, b], if hn -> -x uniformly hn is bounded for sufficiently large n
    dhn(x)/dn   = log(1 - x/n) + n/(1 - x/n) * x/n^2
                = log((n - x)/n) + x/(n - x)
                = log(y) + (1 - y) // y = (n - x)/n
    y ↑ 1 as n ↑ ∞, log(y) + (1 - y) = 0 at y = 1, log(y) + (1 - y) is increasing on (0, 1), hn ↑ -x for large n
    |hn(x) - (-x)|  = -hn(x) - x
    -hn(0) - 0 = 0
    d(-hn(x) - x)/dx    = x/(n - x)
                        > 0
    the difference is maximized at x = b, as hn(b) -> -b, hn -> -x uniformly on [0, b]
    by exercise 9.4, gn -> e^-x uniformly on [0, b]
    by exercise 9.3, fn -> e^-x * x^p uniformly on [0, b] for each b >= 0
    fn is bounded and continuous on [0, b], fn ∈ R on [0, b]
    by the argument above, fn ↑ e^-x * x^p ∈ L([a, +∞)), the integrand of the Gamma function
    by part a, int(0, n, (1 - x/n)^nx^p dx) = int(0, ∞, e^-x * x^p dx)

10.8
define functions 
    gn(x) = inf{fn(x), fn+1(x), ...}
lim{n -> ∞}gn(x) = liminf{n -> ∞}fn(x) = f(x), gn -> f a.e. on I
int(I, gn) <= int(I, fn) <= A, {int(I, gn)} converges
by Levi's theorem in L, int(I, gn) -> int(I, f)

10.9
a.  int(1, b, |x^-psinx| dx)    <= int(1, b, 1/x^-p dx)
                                = 1/(-p + 1) * int(1, b, d(x^(-p+1)))
                                = (1 - b^(-p+1))/(p - 1)
                                <= 1/(p - 1)
    by theorem 10.33, sinx/x^p ∈ L([1, +∞)), Lebesgue integral equals improper Riemann integral
b.  // the hint (integration by parts) is for part b, not part a
    both the limits
        lim{b -> ∞}x^-pcos(x)
        int(1, ∞, x^(-p-1)cos(x) dx)
    exist, by integration by parts int(1, ∞, x^-psinx dx) exists
    when x ∈ [nπ + π/4, nπ + 3π/4], |sinx| >= √2/2,
        x^-p|sinx|  >= x^-p * √2/2
                    >= √2/2x
    it also has x^-p|sinx| >= 0 elsewhere in [1, nπ], hence
        int(1, nπ, x^-p|sinx| dx) >= int(π, nπ, g(x) dx) // g(x) = 0 on [1, π]
    also on each interval [nπ + π/4, nπ + 3π/4],
        x <= (n + 1)π
        int(nπ, (n + 1)π, g(x) dx)  >= π/2 * √2/2(n + 1)π
                                    = √2/4(n + 1)
        int(π, nπ, g(x) dx) = Σ{1, n-1}int(kπ, (k + 1)π, g(x) dx)
                            >= √2/4 * Σ{1, n - 1}1/(k + 1)
                            = √2/4 * Σ{2, n}1/k
    the last integral is unbounded, f ∉ L([1, +∞))

10.10
a.  int(0, ∞, 2sinxcosx/2x dx)  = int(0, ∞, sin(2x)/2x dx)    
                                = 1/2 * int(0, ∞, siny/y dy)
                                = π/4
b.  int(0, ∞, sinxcosx/x dx)    = int(0, ∞, sinx/x d(sinx))
                                = lim{x -> ∞}(sinx)^2/x - lim{x -> 0}sinx^2/x - int(0, ∞, sinxd(sinx/x))
                                = 0 - 0 - int(0, ∞, sinx * (cosx * x - sinx)/x^2 dx)
                                = -int(0, ∞, sinxcosx/x dx) + int(0, ∞, (sinx)^2/x^2 dx)
    int(0, ∞, (sinx)^2/x^2 dx)  = 2int(0, ∞, sinxcosx/x dx)
                                = π/2
c.  int(0, ∞, sin(2x)^2/x^2 dx) = 4 * int(0, ∞, sin(2x)^2/(2x)^2 dx)
                                = 4 * 1/2 * int(0, ∞, siny^2/y^2 dy)
                                = π
    int(0, ∞, sinx^4/x^2 dx)    = int(0, ∞, sinx^2(1 - cosx^2)/x^2 dx)
                                = int(0, ∞, sinx^2/x^2 dx) - int(0, ∞, sinx^2cosx^2/x^2 dx)
                                = π/2 - 1/4 * int(0, ∞, sin(2x)^2/x^2 dx)
                                = π/4
d.  int(0, ∞, sinx^4/x^4 dx)    = -1/3 * int(0, ∞, sinx^4d(1/x^3))
                                = -1/3 * (lim{x -> ∞}sinx^4/x^3 - lim{x -> 0}sinx^4/x^3 - int(0, ∞, 4sinx^3cosx/x^3 dx))
                                = -2/3 * int(0, ∞, sinx^3cosx d(1/x^2))
                                = -2/3 * (lim{x -> ∞}sinx^3cosx/x^2 - lim{x -> 0}sinx^3cosx/x^2 
                                - int(0, ∞, (3sinx^2cosx^2 - sinx^4)/x^2 dx))
                                = 2/3 * (3/4 * int(0, ∞, sin(2x)^2/x^2 dx) - int(sinx^4/x^2 dx))
                                = 2/3 * (3π/4 - π/4)
                                = π/3

10.11
a > 1, x and logx > 0, the function is decreasing when p, q < 0
if p < -1, let d = (-1 - p)/2, p + d < -1, d > 0, x^p = x^(p+d) * x^-d, for sufficiently large n, 
    qloglogn < dlogn
    (logn)^q < n^d
    (logn)^q/n^d < 1
    x^p * (logn)^q  < x^(p+d)
by comparison test Σx^p(logx)^q converges, int(a, +∞, x^p(logx)^q dx) exists as improper Riemann integral
x^p(logx)^q > 0, the Lebesgue integral also exists
if p = -1, q < -1, let q = -1 - d, d > 0
    int(a, ∞, (logx)^q/x dx)    = int(a, ∞, (logx)^q d(logx))
                                = lim{x -> ∞}(logx)^(q+1) - (loga)^(q+1) - int(a, ∞, (logx)^(2q+1)/x dx)
hence int(a, ∞, (logx)^q/x dx) exists iff int(a, ∞, (logx)^(2q+1)/x dx) exists
2q + 1  = -2 - 2d + 1 
        = -1 - 2d
for some k, 2^k * d >= 1, as Σ1/x(logx)^2 converges, int(a, ∞, (logx)^q/x dx) exists and all q < -1

10.12
a.  0 <= sin(1/x) <= 1/x on [1, +∞)
    int(0, b, sin(1/x)^2 dx)    <= int(1, b, 1/x^2 dx)
                                <= int(1, ∞, 1/x^2 dx)
    as sin(1/x)^2 >= 0, both improper Riemann and Lebesgue integral exist
b.  for all real p and q > 0, for sufficiently large x, 
        (p - 2)logx <= x^q
        x^(p-2) <= e^(x^q)
        x^(p-2) * e^(-x^q) <= 1
        x^p * e^(-x^q) <= 1/x^2
    x^p * e^(-x^q) is bounded and continuous on any [0, b], int(0, ∞, x^p * e^(-x^q)) exists

10.13
a.  0   <= e^-(t^2 + t^-2) 
        = e^-t^2 * e^-t^(-2)
        <= e^-t^2 // 0 < e^-t^(-2) < 1
    int(0, ∞, e^-(t^2 + t^-2) dt)   <= int(0, ∞, e^-t^2 dt)
                                    = √π/2
    limit exists as both improper Riemann and Lebesgue integral
b.  on [0, 1], 0 <= cosx <= 1, 
        int(0, 1, cosx/√x dx)   <= int(0, 1, 1/√x dx)
                                = 1/2
    on [1, +∞), 
        int(1, ∞, cosx/√x dx)   = int(1, ∞, 1/√x d(sinx))
                                = lim{x -> ∞}sinx/√x - sin1 + 1/2 * int(1, ∞, sinx/x^(3/2) dx)
    both limits on the right side exist (exercise 10.9), int(1, ∞, cosx/√x dx) exist
    by a similar argument of exercise 10.9.b, int(0, b, |cosx|/√x dx) is unbounded
    the integral exists as improper Riemann but not Lebesgue
c.  on [1, 2], 0 <= logx < 1,
        int(1, 2, logx/x√(x^2 - 1) dx) <= int(1, 2, 1/x√(x^2 - 1) dx)
    let y = √(x^2 - 1), x = √(y^2 + 1), dx/dy = y/√(y^2 + 1),
        int(1, 2, 1/x√(x^2 - 1) dx) = int(0, √3, 1/y√(y^2 + 1) * y/√(y^2 + 1) dy)
                                    = int(0, √3, 1/(y^2 + 1) dy)
                                    = arctan(√3)
                                    = π/3
    on [2, +∞), √(x^2 - 1) >= x/2, 
        int(2, +∞, logx/x√(x^2 - 1) dx) <= int(2, +∞, logx/x^2 dx)
    the integral on the right side converges by exercise 10.11
    the integral exists as both improper Riemann and Lebesgue
d.  on [0, 1], e^-x * sin(1/x) is bounded and continuous a.e., the function is Riemann integrable
    on [1, +∞), 1 >= sin(1/x) >= 0, 
        int(1, ∞, e^-x * sin(1/x))  <= int(1, ∞, e^-x dx)
                                    = 1/e
    the integral exists as both improper Riemann and Lebesgue
e.  let y = 1/x, x = 1/y, on each [a, 1],
        int(a, 1, logxsin(1/x) dx) = -int(1, 1/a, logysin(y)/y^2 dy)
    as a -> 0, 1/a -> ∞, logysin(y)/y^2 is continuous and bounded on any [1, b], also 
        int(1, b, logy|sin(y)|/y^2) <= int(1, b, logy/y^2 dy)
                                    <= int(1, ∞, logy/y^2 dy)
    by exercise 10.11, the integral
        int(0, 1, logxsin(1/x) dx)
    exists as both improper Riemann and Lebesgue
f.  the function is discontinuous and unbounded around π/2 + kπ, definition 10.32 is not satisfied
    improper integral [a, +∞) doesn't exist

10.14
// skipped

10.15
a.  // skipped
b.  int(1, ∞, logx/x^(n+1) dx)  = -1/n * int(1, ∞, logx d(1/x^n))
                                = -1/n * (lim{x -> ∞}logx/x^n - 0 - int(1, ∞, 1/x^(n+1)dx))
                                = 1/n * 1/n
                                = 1/n^2
c.  let int(0, ∞, x^n(1 + x)^(-n-m-1) dx) = F(m, n)
    F(m, n) = int(0, ∞, x^n(1 + x)^(-n-m-1) dx)   
                = -1/(n + m) * int(0, ∞, x^n d((1 + x)^(-n-m))
                = -1/(n + m) * (lim{x -> ∞}x^n/(1 + x)^(n+m) - 0 - nint(0, ∞, x^(n-1)(1 + x)^(-n-m) dx))
                = n/(n + m) * F(m, n - 1)
                = n!(m - 1)!/(n + m)! * F(m, 0)
                = n!m!/(n + m)! * int(0, ∞, 1/(1 + x)^(m+1) dx)
                = n!m!/(n + m)! * -1/m * (0 - 1)
                = n!(m - 1)!/(n + m)!

10.16
f is Riemann integrable on [0, 1] => 
    f is bounded on [0, 1] and [0, +∞) by periodicity
    f is continuous a.e. on [0, 1], the discontinuity on [0, +∞) is a countable union of discontinuities on [0, 1]
    f is continuous a.e. on [0, +∞), f ∈ R on [0, b] for any b >= 0
define g(x) = int(1, x, f(t) dt), g(n) = 0 for all integer n >= 1, |g(x)| <= |int(0, 1, f(x) dx)| <= M
int(1, ∞, x^-sf(x) dx)  = int(1, ∞, x^-s dg(x))
                        = lim{x -> ∞}g(x)x^-s - 0 + sint(1, ∞, g(x)x^(-s-1) dx)
                        = sint(1, ∞, g(x)x^(-s-1) dx)
|g(x)x^(-s-1)| <= x^(-s-1), where -s - 1 < -1, by theorem 10.33 int(1, ∞, g(x)x^(-s-1) dx) exists

10.17
a.  int(a, b, f(x)/x dx)    = int(a, b, 1/x d(xg(x)))
                            = g(b) - g(a) + int(a, b, g(x)/x dx)
b.  g(bT) - g(aT) -> 0 as T -> ∞
    int(aT, bT, g(x)/x dx)  = int(aT, bT, g(x) d(logx))
                            = g(bT)log(bT) - g(aT)log(aT) - int(aT, bT, log(x) * )